<!doctype html><html lang=zh-tw><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=robots content="index, follow"><link rel="icon shortcut" href=/favicon.ico sizes=32x32><link rel=icon href=/favicon.svg type=image/svg+xml><link rel=icon href=/favicon-dark.svg type=image/svg+xml media="(prefers-color-scheme: dark)"><link rel=icon href=/favicon-16x16.png type=image/png sizes=16x16><link rel=icon href=/favicon-32x32.png type=image/png sizes=32x32><link rel=apple-touch-icon href=/apple-touch-icon.png sizes=180x180><link fetchpriority=low href=/site.webmanifest rel=manifest><title>Kubernetes (K8s) HorizontalPodAutoscaler (HPA) åŸç†èˆ‡å¯¦ä½œ â€“ PIN-YI</title>
<meta name=description content="æ­¤ç¯‡æ˜¯è¦ä»‹ç´¹ HorizontalPodAutoscaler (HPA) çš„åŸç†ä»¥åŠå¯¦ä½œå…§å®¹ï¼Œé‚£æˆ‘å€‘å…ˆä¾†èªªæ˜ä¸€ä¸‹ HorizontalPodAutoscaler æ˜¯ä»€éº¼å§ï¼
HorizontalPodAutoscaler åŸç† HorizontalPodAutoscaler (HPA) ä¸­æ–‡å¯ä»¥å«æ°´å¹³ Pod è‡ªå‹•æ“´ç¸®ï¼Œä»–æœƒè‡ªå‹•æ›´æ–°å·¥ä½œè² è¼‰è³‡æº (Deployment æˆ– StatefulSet)ï¼Œå…¶ç›®çš„æ˜¯é€éè‡ªå‹•æ“´ç¸®å·¥ä½œè² è¼‰ä¾†æ»¿è¶³ä½¿ç”¨éœ€æ±‚ã€‚
ç°¡å–®ä¾†èªªä»–æœƒæ ¹æ“šä½ ç¾åœ¨çš„è² è¼‰å»èª¿æ•´ä½ çš„ Pod æ•¸é‡ï¼Œç•¶ç›®å‰çš„è² è¼‰è¶…éé…ç½®çš„è¨­å®šæ™‚ï¼ŒHPA æœƒæŒ‡ç¤ºå·¥ä½œè² è¼‰è³‡æº (Deployment æˆ– StatefulSet) æ“´å¢ï¼Œä¾†é¿å…å¡çˆ†åŒä¸€å€‹è² è¼‰è³‡æºã€‚
å¦‚æœè² è¼‰æ¸›å°‘ï¼Œä¸” Pod æ•¸é‡é«˜æ–¼é…ç½®çš„æœ€å°å€¼ï¼ŒHPA ä¹ŸæœƒæŒ‡ç¤ºå·¥ä½œè² è¼‰è³‡æº (Deployment æˆ– StatefulSet) æ…¢æ…¢ç¸®æ¸›ã€‚å…¶ä¸­æ°´å¹³ Pod è‡ªå‹•æ“´ç¸®ä¸é©ç”¨ DaemonSet å·¥ä½œè² è¼‰è³‡æºã€‚
HPA æ˜¯å¦‚ä½•å·¥ä½œå‘¢ï¼Ÿ HorizontalPodAutoscaler å·¥ä½œæµç¨‹åœ–
Kubernetes å°‡æ°´å¹³ Pod è‡ªå‹•æ“´ç¸®å®šç¾©ç‚ºä¸€å€‹é–“æ­‡é‹è¡Œçš„æ§åˆ¶è¿´è·¯ï¼Œä»–ä¸æ˜¯é€£çºŒçš„ï¼Œå…¶é–“éš”æ˜¯ç”± kube-controller-manager çš„ --horizontal-pod-autoscaler-sync-period åƒæ•¸ä¾†é…ç½®ï¼Œé è¨­æ˜¯ 15 ç§’ï¼Œcontroller-manager æœƒä¾æ“šæ¯ä¸€å€‹ HPA å®šç¾©çš„ scaleTargetRef ä¾†æ‰¾åˆ°æ˜¯å“ªä¸€å€‹å·¥ä½œè² è¼‰è³‡æºéœ€è¦é€²è¡Œæ°´å¹³ Pod è‡ªå‹•æ“´ç¸®ï¼Œç„¶å¾Œæ ¹æ“šç›®æ¨™è³‡æºçš„ .spec.selector æ¨™ç±¤é¸æ“‡å°æ‡‰çš„ Podï¼Œä¸¦å¾è³‡æºæŒ‡æ¨™ API æˆ–è‡ªå®šç¾©æŒ‡æ¨™ç²å– APIï¼Œç›®å‰ç¸½å…±æœ‰ä¸‰ç¨®çš„è³‡æºæŒ‡æ¨™ï¼Œåˆ†åˆ¥æ˜¯ CPUã€Memoryã€è‡ªå®šç¾©æŒ‡æ¨™ã€‚
æœ‰é—œæ–¼å…¶ä»– Kubernetes è§€å¿µéƒ¨åˆ†ï¼Œå¯ä»¥å…ˆæŸ¥çœ‹ï¼š
Kubernetes : Kubernetes (K8s) ä»‹ç´¹ - åŸºæœ¬ kubernetes : Kubernetes (K8s) ä»‹ç´¹ - é€²éš (Serviceã€Ingressã€StatefulSetã€Deploymentã€ReplicaSetã€ConfigMap) æ­¤æ–‡ç« ç¨‹å¼ç¢¼ä¹ŸæœƒåŒæ­¥åˆ° Github ï¼Œéœ€è¦çš„ä¹Ÿå¯ä»¥å» clone ä½¿ç”¨æ­ï¼è¦è¨˜å¾—å…ˆç¢ºå®šä¸€ä¸‹è‡ªå·±çš„ç‰ˆæœ¬ Github ç¨‹å¼ç¢¼é€£çµ ğŸ˜†"><link rel=canonical href=https://pin-yi.me/blog/kubernetes/k8s-hpa/ itemprop=url><meta property="og:title" content="Kubernetes (K8s) HorizontalPodAutoscaler (HPA) åŸç†èˆ‡å¯¦ä½œ"><meta property="og:description" content="æ­¤ç¯‡æ˜¯è¦ä»‹ç´¹ HorizontalPodAutoscaler (HPA) çš„åŸç†ä»¥åŠå¯¦ä½œå…§å®¹ï¼Œé‚£æˆ‘å€‘å…ˆä¾†èªªæ˜ä¸€ä¸‹ HorizontalPodAutoscaler æ˜¯ä»€éº¼å§ï¼
HorizontalPodAutoscaler åŸç† HorizontalPodAutoscaler (HPA) ä¸­æ–‡å¯ä»¥å«æ°´å¹³ Pod è‡ªå‹•æ“´ç¸®ï¼Œä»–æœƒè‡ªå‹•æ›´æ–°å·¥ä½œè² è¼‰è³‡æº (Deployment æˆ– StatefulSet)ï¼Œå…¶ç›®çš„æ˜¯é€éè‡ªå‹•æ“´ç¸®å·¥ä½œè² è¼‰ä¾†æ»¿è¶³ä½¿ç”¨éœ€æ±‚ã€‚
ç°¡å–®ä¾†èªªä»–æœƒæ ¹æ“šä½ ç¾åœ¨çš„è² è¼‰å»èª¿æ•´ä½ çš„ Pod æ•¸é‡ï¼Œç•¶ç›®å‰çš„è² è¼‰è¶…éé…ç½®çš„è¨­å®šæ™‚ï¼ŒHPA æœƒæŒ‡ç¤ºå·¥ä½œè² è¼‰è³‡æº (Deployment æˆ– StatefulSet) æ“´å¢ï¼Œä¾†é¿å…å¡çˆ†åŒä¸€å€‹è² è¼‰è³‡æºã€‚
å¦‚æœè² è¼‰æ¸›å°‘ï¼Œä¸” Pod æ•¸é‡é«˜æ–¼é…ç½®çš„æœ€å°å€¼ï¼ŒHPA ä¹ŸæœƒæŒ‡ç¤ºå·¥ä½œè² è¼‰è³‡æº (Deployment æˆ– StatefulSet) æ…¢æ…¢ç¸®æ¸›ã€‚å…¶ä¸­æ°´å¹³ Pod è‡ªå‹•æ“´ç¸®ä¸é©ç”¨ DaemonSet å·¥ä½œè² è¼‰è³‡æºã€‚
HPA æ˜¯å¦‚ä½•å·¥ä½œå‘¢ï¼Ÿ HorizontalPodAutoscaler å·¥ä½œæµç¨‹åœ–
Kubernetes å°‡æ°´å¹³ Pod è‡ªå‹•æ“´ç¸®å®šç¾©ç‚ºä¸€å€‹é–“æ­‡é‹è¡Œçš„æ§åˆ¶è¿´è·¯ï¼Œä»–ä¸æ˜¯é€£çºŒçš„ï¼Œå…¶é–“éš”æ˜¯ç”± kube-controller-manager çš„ --horizontal-pod-autoscaler-sync-period åƒæ•¸ä¾†é…ç½®ï¼Œé è¨­æ˜¯ 15 ç§’ï¼Œcontroller-manager æœƒä¾æ“šæ¯ä¸€å€‹ HPA å®šç¾©çš„ scaleTargetRef ä¾†æ‰¾åˆ°æ˜¯å“ªä¸€å€‹å·¥ä½œè² è¼‰è³‡æºéœ€è¦é€²è¡Œæ°´å¹³ Pod è‡ªå‹•æ“´ç¸®ï¼Œç„¶å¾Œæ ¹æ“šç›®æ¨™è³‡æºçš„ .spec.selector æ¨™ç±¤é¸æ“‡å°æ‡‰çš„ Podï¼Œä¸¦å¾è³‡æºæŒ‡æ¨™ API æˆ–è‡ªå®šç¾©æŒ‡æ¨™ç²å– APIï¼Œç›®å‰ç¸½å…±æœ‰ä¸‰ç¨®çš„è³‡æºæŒ‡æ¨™ï¼Œåˆ†åˆ¥æ˜¯ CPUã€Memoryã€è‡ªå®šç¾©æŒ‡æ¨™ã€‚
æœ‰é—œæ–¼å…¶ä»– Kubernetes è§€å¿µéƒ¨åˆ†ï¼Œå¯ä»¥å…ˆæŸ¥çœ‹ï¼š
Kubernetes : Kubernetes (K8s) ä»‹ç´¹ - åŸºæœ¬ kubernetes : Kubernetes (K8s) ä»‹ç´¹ - é€²éš (Serviceã€Ingressã€StatefulSetã€Deploymentã€ReplicaSetã€ConfigMap) æ­¤æ–‡ç« ç¨‹å¼ç¢¼ä¹ŸæœƒåŒæ­¥åˆ° Github ï¼Œéœ€è¦çš„ä¹Ÿå¯ä»¥å» clone ä½¿ç”¨æ­ï¼è¦è¨˜å¾—å…ˆç¢ºå®šä¸€ä¸‹è‡ªå·±çš„ç‰ˆæœ¬ Github ç¨‹å¼ç¢¼é€£çµ ğŸ˜†"><meta property="og:type" content="article"><meta property="og:url" content="https://pin-yi.me/blog/kubernetes/k8s-hpa/"><meta property="article:section" content="blog"><meta property="article:modified_time" content="2024-05-06T22:47:16+08:00"><meta itemprop=name content="Kubernetes (K8s) HorizontalPodAutoscaler (HPA) åŸç†èˆ‡å¯¦ä½œ"><meta itemprop=description content="æ­¤ç¯‡æ˜¯è¦ä»‹ç´¹ HorizontalPodAutoscaler (HPA) çš„åŸç†ä»¥åŠå¯¦ä½œå…§å®¹ï¼Œé‚£æˆ‘å€‘å…ˆä¾†èªªæ˜ä¸€ä¸‹ HorizontalPodAutoscaler æ˜¯ä»€éº¼å§ï¼
HorizontalPodAutoscaler åŸç† HorizontalPodAutoscaler (HPA) ä¸­æ–‡å¯ä»¥å«æ°´å¹³ Pod è‡ªå‹•æ“´ç¸®ï¼Œä»–æœƒè‡ªå‹•æ›´æ–°å·¥ä½œè² è¼‰è³‡æº (Deployment æˆ– StatefulSet)ï¼Œå…¶ç›®çš„æ˜¯é€éè‡ªå‹•æ“´ç¸®å·¥ä½œè² è¼‰ä¾†æ»¿è¶³ä½¿ç”¨éœ€æ±‚ã€‚
ç°¡å–®ä¾†èªªä»–æœƒæ ¹æ“šä½ ç¾åœ¨çš„è² è¼‰å»èª¿æ•´ä½ çš„ Pod æ•¸é‡ï¼Œç•¶ç›®å‰çš„è² è¼‰è¶…éé…ç½®çš„è¨­å®šæ™‚ï¼ŒHPA æœƒæŒ‡ç¤ºå·¥ä½œè² è¼‰è³‡æº (Deployment æˆ– StatefulSet) æ“´å¢ï¼Œä¾†é¿å…å¡çˆ†åŒä¸€å€‹è² è¼‰è³‡æºã€‚
å¦‚æœè² è¼‰æ¸›å°‘ï¼Œä¸” Pod æ•¸é‡é«˜æ–¼é…ç½®çš„æœ€å°å€¼ï¼ŒHPA ä¹ŸæœƒæŒ‡ç¤ºå·¥ä½œè² è¼‰è³‡æº (Deployment æˆ– StatefulSet) æ…¢æ…¢ç¸®æ¸›ã€‚å…¶ä¸­æ°´å¹³ Pod è‡ªå‹•æ“´ç¸®ä¸é©ç”¨ DaemonSet å·¥ä½œè² è¼‰è³‡æºã€‚
HPA æ˜¯å¦‚ä½•å·¥ä½œå‘¢ï¼Ÿ HorizontalPodAutoscaler å·¥ä½œæµç¨‹åœ–
Kubernetes å°‡æ°´å¹³ Pod è‡ªå‹•æ“´ç¸®å®šç¾©ç‚ºä¸€å€‹é–“æ­‡é‹è¡Œçš„æ§åˆ¶è¿´è·¯ï¼Œä»–ä¸æ˜¯é€£çºŒçš„ï¼Œå…¶é–“éš”æ˜¯ç”± kube-controller-manager çš„ --horizontal-pod-autoscaler-sync-period åƒæ•¸ä¾†é…ç½®ï¼Œé è¨­æ˜¯ 15 ç§’ï¼Œcontroller-manager æœƒä¾æ“šæ¯ä¸€å€‹ HPA å®šç¾©çš„ scaleTargetRef ä¾†æ‰¾åˆ°æ˜¯å“ªä¸€å€‹å·¥ä½œè² è¼‰è³‡æºéœ€è¦é€²è¡Œæ°´å¹³ Pod è‡ªå‹•æ“´ç¸®ï¼Œç„¶å¾Œæ ¹æ“šç›®æ¨™è³‡æºçš„ .spec.selector æ¨™ç±¤é¸æ“‡å°æ‡‰çš„ Podï¼Œä¸¦å¾è³‡æºæŒ‡æ¨™ API æˆ–è‡ªå®šç¾©æŒ‡æ¨™ç²å– APIï¼Œç›®å‰ç¸½å…±æœ‰ä¸‰ç¨®çš„è³‡æºæŒ‡æ¨™ï¼Œåˆ†åˆ¥æ˜¯ CPUã€Memoryã€è‡ªå®šç¾©æŒ‡æ¨™ã€‚
æœ‰é—œæ–¼å…¶ä»– Kubernetes è§€å¿µéƒ¨åˆ†ï¼Œå¯ä»¥å…ˆæŸ¥çœ‹ï¼š
Kubernetes : Kubernetes (K8s) ä»‹ç´¹ - åŸºæœ¬ kubernetes : Kubernetes (K8s) ä»‹ç´¹ - é€²éš (Serviceã€Ingressã€StatefulSetã€Deploymentã€ReplicaSetã€ConfigMap) æ­¤æ–‡ç« ç¨‹å¼ç¢¼ä¹ŸæœƒåŒæ­¥åˆ° Github ï¼Œéœ€è¦çš„ä¹Ÿå¯ä»¥å» clone ä½¿ç”¨æ­ï¼è¦è¨˜å¾—å…ˆç¢ºå®šä¸€ä¸‹è‡ªå·±çš„ç‰ˆæœ¬ Github ç¨‹å¼ç¢¼é€£çµ ğŸ˜†"><meta itemprop=dateModified content="2024-05-06T22:47:16+08:00"><meta itemprop=wordCount content="580"><meta name=twitter:card content="summary"><meta name=twitter:title content="Kubernetes (K8s) HorizontalPodAutoscaler (HPA) åŸç†èˆ‡å¯¦ä½œ"><meta name=twitter:description content="æ­¤ç¯‡æ˜¯è¦ä»‹ç´¹ HorizontalPodAutoscaler (HPA) çš„åŸç†ä»¥åŠå¯¦ä½œå…§å®¹ï¼Œé‚£æˆ‘å€‘å…ˆä¾†èªªæ˜ä¸€ä¸‹ HorizontalPodAutoscaler æ˜¯ä»€éº¼å§ï¼
HorizontalPodAutoscaler åŸç† HorizontalPodAutoscaler (HPA) ä¸­æ–‡å¯ä»¥å«æ°´å¹³ Pod è‡ªå‹•æ“´ç¸®ï¼Œä»–æœƒè‡ªå‹•æ›´æ–°å·¥ä½œè² è¼‰è³‡æº (Deployment æˆ– StatefulSet)ï¼Œå…¶ç›®çš„æ˜¯é€éè‡ªå‹•æ“´ç¸®å·¥ä½œè² è¼‰ä¾†æ»¿è¶³ä½¿ç”¨éœ€æ±‚ã€‚
ç°¡å–®ä¾†èªªä»–æœƒæ ¹æ“šä½ ç¾åœ¨çš„è² è¼‰å»èª¿æ•´ä½ çš„ Pod æ•¸é‡ï¼Œç•¶ç›®å‰çš„è² è¼‰è¶…éé…ç½®çš„è¨­å®šæ™‚ï¼ŒHPA æœƒæŒ‡ç¤ºå·¥ä½œè² è¼‰è³‡æº (Deployment æˆ– StatefulSet) æ“´å¢ï¼Œä¾†é¿å…å¡çˆ†åŒä¸€å€‹è² è¼‰è³‡æºã€‚
å¦‚æœè² è¼‰æ¸›å°‘ï¼Œä¸” Pod æ•¸é‡é«˜æ–¼é…ç½®çš„æœ€å°å€¼ï¼ŒHPA ä¹ŸæœƒæŒ‡ç¤ºå·¥ä½œè² è¼‰è³‡æº (Deployment æˆ– StatefulSet) æ…¢æ…¢ç¸®æ¸›ã€‚å…¶ä¸­æ°´å¹³ Pod è‡ªå‹•æ“´ç¸®ä¸é©ç”¨ DaemonSet å·¥ä½œè² è¼‰è³‡æºã€‚
HPA æ˜¯å¦‚ä½•å·¥ä½œå‘¢ï¼Ÿ HorizontalPodAutoscaler å·¥ä½œæµç¨‹åœ–
Kubernetes å°‡æ°´å¹³ Pod è‡ªå‹•æ“´ç¸®å®šç¾©ç‚ºä¸€å€‹é–“æ­‡é‹è¡Œçš„æ§åˆ¶è¿´è·¯ï¼Œä»–ä¸æ˜¯é€£çºŒçš„ï¼Œå…¶é–“éš”æ˜¯ç”± kube-controller-manager çš„ --horizontal-pod-autoscaler-sync-period åƒæ•¸ä¾†é…ç½®ï¼Œé è¨­æ˜¯ 15 ç§’ï¼Œcontroller-manager æœƒä¾æ“šæ¯ä¸€å€‹ HPA å®šç¾©çš„ scaleTargetRef ä¾†æ‰¾åˆ°æ˜¯å“ªä¸€å€‹å·¥ä½œè² è¼‰è³‡æºéœ€è¦é€²è¡Œæ°´å¹³ Pod è‡ªå‹•æ“´ç¸®ï¼Œç„¶å¾Œæ ¹æ“šç›®æ¨™è³‡æºçš„ .spec.selector æ¨™ç±¤é¸æ“‡å°æ‡‰çš„ Podï¼Œä¸¦å¾è³‡æºæŒ‡æ¨™ API æˆ–è‡ªå®šç¾©æŒ‡æ¨™ç²å– APIï¼Œç›®å‰ç¸½å…±æœ‰ä¸‰ç¨®çš„è³‡æºæŒ‡æ¨™ï¼Œåˆ†åˆ¥æ˜¯ CPUã€Memoryã€è‡ªå®šç¾©æŒ‡æ¨™ã€‚
æœ‰é—œæ–¼å…¶ä»– Kubernetes è§€å¿µéƒ¨åˆ†ï¼Œå¯ä»¥å…ˆæŸ¥çœ‹ï¼š
Kubernetes : Kubernetes (K8s) ä»‹ç´¹ - åŸºæœ¬ kubernetes : Kubernetes (K8s) ä»‹ç´¹ - é€²éš (Serviceã€Ingressã€StatefulSetã€Deploymentã€ReplicaSetã€ConfigMap) æ­¤æ–‡ç« ç¨‹å¼ç¢¼ä¹ŸæœƒåŒæ­¥åˆ° Github ï¼Œéœ€è¦çš„ä¹Ÿå¯ä»¥å» clone ä½¿ç”¨æ­ï¼è¦è¨˜å¾—å…ˆç¢ºå®šä¸€ä¸‹è‡ªå·±çš„ç‰ˆæœ¬ Github ç¨‹å¼ç¢¼é€£çµ ğŸ˜†"><link rel=preload href=/css/compiled/main.min.5a06ca26e024c4f511f45ee6c33a2a1faefaebe6be8a38d36e100f40a4c59c06.css as=style integrity="sha256-WgbKJuAkxPUR9F7mwzoqH6766+a+ijjTbhAPQKTFnAY="><link href=/css/compiled/main.min.5a06ca26e024c4f511f45ee6c33a2a1faefaebe6be8a38d36e100f40a4c59c06.css rel=stylesheet integrity="sha256-WgbKJuAkxPUR9F7mwzoqH6766+a+ijjTbhAPQKTFnAY="><link href=/css/custom.min.a8cf551c2a383cabb5ae80d020f57cce3db252983b8715f2f8bff48e0f6283c4.css rel=stylesheet integrity="sha256-qM9VHCo4PKu1roDQIPV8zj2yUpg7hxXy+L/0jg9ig8Q="><link rel=preconnect href=https://www.googletagmanager.com crossorigin><script async src="https://www.googletagmanager.com/gtag/js?id=G-VY0HEQXXJQ"></script><script>window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","G-VY0HEQXXJQ")</script><script>const defaultTheme="system",setDarkTheme=()=>{document.documentElement.classList.add("dark"),document.documentElement.style.colorScheme="dark"},setLightTheme=()=>{document.documentElement.classList.remove("dark"),document.documentElement.style.colorScheme="light"};"color-theme"in localStorage?localStorage.getItem("color-theme")==="dark"?setDarkTheme():setLightTheme():(defaultTheme==="dark"?setDarkTheme():setLightTheme(),defaultTheme==="system"&&(window.matchMedia("(prefers-color-scheme: dark)").matches?setDarkTheme():setLightTheme()))</script><script src=https://cdnjs.cloudflare.com/ajax/libs/quicklink/2.3.0/quicklink.umd.js></script><script>window.addEventListener("load",()=>{quicklink.listen()})</script></head><body dir=ltr><div class="nav-container sticky top-0 z-20 w-full bg-transparent print:hidden"><div class="nav-container-blur pointer-events-none absolute z-[-1] h-full w-full bg-white dark:bg-dark shadow-[0_2px_4px_rgba(0,0,0,.02),0_1px_0_rgba(0,0,0,.06)] contrast-more:shadow-[0_0_0_1px_#000] dark:shadow-[0_-1px_0_rgba(255,255,255,.1)_inset] contrast-more:dark:shadow-[0_0_0_1px_#fff]"></div><nav class="mx-auto flex items-center justify-end gap-2 h-16 px-6 max-w-full"><a class="flex items-center hover:opacity-75 ltr:mr-auto rtl:ml-auto" href=/><img class="block dark:hidden" src=/images/logo.jpeg alt=PIN-YI height=20 width=20>
<img class="hidden dark:block" src=/images/logo.jpeg alt=PIN-YI height=20 width=20>
<span class="mx-2 font-extrabold inline select-none" title=PIN-YI>PIN-YI</span>
</a><a title=Blog href=/blog class="text-sm contrast-more:text-gray-700 contrast-more:dark:text-gray-100 relative -ml-2 hidden whitespace-nowrap p-2 md:inline-block font-medium"><span class=text-center>Blog</span>
</a><a title=å°ˆæ¡ˆæˆå°± href=/projects class="text-sm contrast-more:text-gray-700 contrast-more:dark:text-gray-100 relative -ml-2 hidden whitespace-nowrap p-2 md:inline-block text-gray-600 hover:text-gray-800 dark:text-gray-400 dark:hover:text-gray-200"><span class=text-center>å°ˆæ¡ˆæˆå°±</span>
</a><a title=é—œæ–¼æˆ‘ href=/about class="text-sm contrast-more:text-gray-700 contrast-more:dark:text-gray-100 relative -ml-2 hidden whitespace-nowrap p-2 md:inline-block text-gray-600 hover:text-gray-800 dark:text-gray-400 dark:hover:text-gray-200"><span class=text-center>é—œæ–¼æˆ‘</span>
</a><a title=ä»£ç®¡æœå‹™ç‹€æ…‹ href=https://status.pin-yi.me/status/pin-yi target=_blank rel=noreferer class="text-sm contrast-more:text-gray-700 contrast-more:dark:text-gray-100 relative -ml-2 hidden whitespace-nowrap p-2 md:inline-block text-gray-600 hover:text-gray-800 dark:text-gray-400 dark:hover:text-gray-200"><span class=text-center>ä»£ç®¡æœå‹™ç‹€æ…‹</span></a><div class="search-wrapper relative md:w-64"><div class="relative flex items-center text-gray-900 contrast-more:text-gray-800 dark:text-gray-300 contrast-more:dark:text-gray-300"><input placeholder=æœå°‹æ–‡æª”... class="search-input block w-full appearance-none rounded-lg px-3 py-2 transition-colors text-base leading-tight md:text-sm bg-black/[.05] dark:bg-gray-50/10 focus:bg-white dark:focus:bg-dark placeholder:text-gray-500 dark:placeholder:text-gray-400 contrast-more:border contrast-more:border-current" type=search spellcheck=false>
<kbd class="absolute my-1.5 select-none ltr:right-1.5 rtl:left-1.5 h-5 rounded bg-white px-1.5 font-mono text-[10px] font-medium text-gray-500 border dark:border-gray-100/20 dark:bg-dark/50 contrast-more:border-current contrast-more:text-current contrast-more:dark:border-current items-center gap-1 transition-opacity pointer-events-none hidden sm:flex">CTRL K</kbd></div><div><ul class="search-results hextra-scrollbar hidden border border-gray-200 bg-white text-gray-100 dark:border-neutral-800 dark:bg-neutral-900 absolute top-full z-20 mt-2 overflow-auto overscroll-contain rounded-xl py-2.5 shadow-xl max-h-[min(calc(50vh-11rem-env(safe-area-inset-bottom)),400px)] md:max-h-[min(calc(100vh-5rem-env(safe-area-inset-bottom)),400px)] inset-x-0 ltr:md:left-auto rtl:md:right-auto contrast-more:border contrast-more:border-gray-900 contrast-more:dark:border-gray-50 w-screen min-h-[100px] max-w-[min(calc(100vw-2rem),calc(100%+20rem))]" style="transition:max-height .2s ease 0s"></ul></div></div><a class="p-2 text-current" target=_blank rel=noreferer href=https://github.com/880831ian/ title=GitHub><svg height="24" fill="currentcolor" viewBox="3 3 18 18"><path d="M12 3C7.0275 3 3 7.12937 3 12.2276c0 4.0833 2.57625 7.5321 6.15374 8.7548C9.60374 21.0631 9.77249 20.7863 9.77249 20.5441 9.77249 20.3249 9.76125 19.5982 9.76125 18.8254 7.5 19.2522 6.915 18.2602 6.735 17.7412 6.63375 17.4759 6.19499 16.6569 5.8125 16.4378 5.4975 16.2647 5.0475 15.838 5.80124 15.8264 6.51 15.8149 7.01625 16.4954 7.18499 16.7723 7.99499 18.1679 9.28875 17.7758 9.80625 17.5335 9.885 16.9337 10.1212 16.53 10.38 16.2993 8.3775 16.0687 6.285 15.2728 6.285 11.7432c0-1.0035.34875-1.834.92249-2.47994C7.1175 9.03257 6.8025 8.08674 7.2975 6.81794c0 0 .753749999999999-.24223 2.47499.94583.72001-.20762 1.48501-.31143 2.25001-.31143C12.7875 7.45234 13.5525 7.55615 14.2725 7.76377c1.7212-1.19959 2.475-.94583 2.475-.94583C17.2424 8.08674 16.9275 9.03257 16.8375 9.26326 17.4113 9.9092 17.76 10.7281 17.76 11.7432c0 3.5411-2.1037 4.3255-4.1063 4.5561C13.98 16.5877 14.2613 17.1414 14.2613 18.0065 14.2613 19.2407 14.25 20.2326 14.25 20.5441 14.25 20.7863 14.4188 21.0746 14.8688 20.9824 16.6554 20.364 18.2079 19.1866 19.3078 17.6162c1.0999-1.5705 1.6917-3.4551 1.6922-5.3886C21 7.12937 16.9725 3 12 3z"/></svg>
<span class=sr-only>GitHub</span>
</a><button type=button aria-label=Menu class="hamburger-menu -mr-2 rounded p-2 active:bg-gray-400/20 md:hidden"><svg height="24" fill="none" viewBox="0 0 24 24" stroke="currentcolor"><g><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 8H20"/></g><g><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 16H20"/></g></svg></button></nav></div><div class='mx-auto flex max-w-full'><div class="mobile-menu-overlay [transition:background-color_1.5s_ease] fixed inset-0 z-10 bg-black/80 dark:bg-black/60 hidden"></div><aside class="sidebar-container flex flex-col print:hidden md:top-16 md:shrink-0 md:w-64 md:self-start max-md:[transform:translate3d(0,-100%,0)] md:sticky"><div class="px-4 pt-4 md:hidden"><div class="search-wrapper relative md:w-64"><div class="relative flex items-center text-gray-900 contrast-more:text-gray-800 dark:text-gray-300 contrast-more:dark:text-gray-300"><input placeholder=æœå°‹æ–‡æª”... class="search-input block w-full appearance-none rounded-lg px-3 py-2 transition-colors text-base leading-tight md:text-sm bg-black/[.05] dark:bg-gray-50/10 focus:bg-white dark:focus:bg-dark placeholder:text-gray-500 dark:placeholder:text-gray-400 contrast-more:border contrast-more:border-current" type=search spellcheck=false>
<kbd class="absolute my-1.5 select-none ltr:right-1.5 rtl:left-1.5 h-5 rounded bg-white px-1.5 font-mono text-[10px] font-medium text-gray-500 border dark:border-gray-100/20 dark:bg-dark/50 contrast-more:border-current contrast-more:text-current contrast-more:dark:border-current items-center gap-1 transition-opacity pointer-events-none hidden sm:flex">CTRL K</kbd></div><div><ul class="search-results hextra-scrollbar hidden border border-gray-200 bg-white text-gray-100 dark:border-neutral-800 dark:bg-neutral-900 absolute top-full z-20 mt-2 overflow-auto overscroll-contain rounded-xl py-2.5 shadow-xl max-h-[min(calc(50vh-11rem-env(safe-area-inset-bottom)),400px)] md:max-h-[min(calc(100vh-5rem-env(safe-area-inset-bottom)),400px)] inset-x-0 ltr:md:left-auto rtl:md:right-auto contrast-more:border contrast-more:border-gray-900 contrast-more:dark:border-gray-50 w-screen min-h-[100px] max-w-[min(calc(100vw-2rem),calc(100%+20rem))]" style="transition:max-height .2s ease 0s"></ul></div></div></div><div class="hextra-scrollbar overflow-y-auto overflow-x-hidden p-4 grow md:h-[calc(100vh-var(--navbar-height)-var(--menu-height))]"><ul class="flex flex-col gap-1 md:hidden"><li class=open><a class="flex items-center justify-between gap-2 cursor-pointer rounded px-2 py-1.5 text-sm transition-colors [-webkit-tap-highlight-color:transparent] [-webkit-touch-callout:none] [word-break:break-word]
text-gray-500 hover:bg-gray-100 hover:text-gray-900 contrast-more:border contrast-more:border-transparent contrast-more:text-gray-900 contrast-more:hover:border-gray-900 dark:text-neutral-400 dark:hover:bg-primary-100/5 dark:hover:text-gray-50 contrast-more:dark:text-gray-50 contrast-more:dark:hover:border-gray-50" href=/blog/>Blog
<span class=hextra-sidebar-collapsible-button><svg fill="none" viewBox="0 0 24 24" stroke="currentcolor" class="h-[18px] min-w-[18px] rounded-sm p-0.5 hover:bg-gray-800/5 dark:hover:bg-gray-100/5"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7" class="origin-center transition-transform rtl:-rotate-180"/></svg></span></a><div class="ltr:pr-0 overflow-hidden"><ul class='relative flex flex-col gap-1 before:absolute before:inset-y-1 before:w-px before:bg-gray-200 before:content-[""] ltr:ml-3 ltr:pl-3 ltr:before:left-0 rtl:mr-3 rtl:pr-3 rtl:before:right-0 dark:before:bg-neutral-800'><li class="flex flex-col open"><a class="flex items-center justify-between gap-2 cursor-pointer rounded px-2 py-1.5 text-sm transition-colors [-webkit-tap-highlight-color:transparent] [-webkit-touch-callout:none] [word-break:break-word]
text-gray-500 hover:bg-gray-100 hover:text-gray-900 contrast-more:border contrast-more:border-transparent contrast-more:text-gray-900 contrast-more:hover:border-gray-900 dark:text-neutral-400 dark:hover:bg-primary-100/5 dark:hover:text-gray-50 contrast-more:dark:text-gray-50 contrast-more:dark:hover:border-gray-50" href=/blog/gcp/>Google Cloud Platform
<span class=hextra-sidebar-collapsible-button><svg fill="none" viewBox="0 0 24 24" stroke="currentcolor" class="h-[18px] min-w-[18px] rounded-sm p-0.5 hover:bg-gray-800/5 dark:hover:bg-gray-100/5"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7" class="origin-center transition-transform rtl:-rotate-180"/></svg></span></a><div class="ltr:pr-0 overflow-hidden"><ul class='relative flex flex-col gap-1 before:absolute before:inset-y-1 before:w-px before:bg-gray-200 before:content-[""] ltr:ml-3 ltr:pl-3 ltr:before:left-0 rtl:mr-3 rtl:pr-3 rtl:before:right-0 dark:before:bg-neutral-800'><li class="flex flex-col"><a class="flex items-center justify-between gap-2 cursor-pointer rounded px-2 py-1.5 text-sm transition-colors [-webkit-tap-highlight-color:transparent] [-webkit-touch-callout:none] [word-break:break-word]
text-gray-500 hover:bg-gray-100 hover:text-gray-900 contrast-more:border contrast-more:border-transparent contrast-more:text-gray-900 contrast-more:hover:border-gray-900 dark:text-neutral-400 dark:hover:bg-primary-100/5 dark:hover:text-gray-50 contrast-more:dark:text-gray-50 contrast-more:dark:hover:border-gray-50" href=/blog/gcp/gcp-log-reduce-cloud-logging-api/>å¦‚ä½•éæ¿¾ GCP LOGï¼Œæ¸›å°‘ Cloud Logging API çš„èŠ±è²»</a></li><li class="flex flex-col"><a class="flex items-center justify-between gap-2 cursor-pointer rounded px-2 py-1.5 text-sm transition-colors [-webkit-tap-highlight-color:transparent] [-webkit-touch-callout:none] [word-break:break-word]
text-gray-500 hover:bg-gray-100 hover:text-gray-900 contrast-more:border contrast-more:border-transparent contrast-more:text-gray-900 contrast-more:hover:border-gray-900 dark:text-neutral-400 dark:hover:bg-primary-100/5 dark:hover:text-gray-50 contrast-more:dark:text-gray-50 contrast-more:dark:hover:border-gray-50" href=/blog/gcp/gke-cronjob-not-working/>Google Kubernetes Engine CronJob æœƒæœ‰çŸ­æš«æ™‚é–“æ²’æœ‰åŸ·è¡Œ Job</a></li><li class="flex flex-col"><a class="flex items-center justify-between gap-2 cursor-pointer rounded px-2 py-1.5 text-sm transition-colors [-webkit-tap-highlight-color:transparent] [-webkit-touch-callout:none] [word-break:break-word]
text-gray-500 hover:bg-gray-100 hover:text-gray-900 contrast-more:border contrast-more:border-transparent contrast-more:text-gray-900 contrast-more:hover:border-gray-900 dark:text-neutral-400 dark:hover:bg-primary-100/5 dark:hover:text-gray-50 contrast-more:dark:text-gray-50 contrast-more:dark:hover:border-gray-50" href=/blog/gcp/iam/>Google Cloud Platform (GCP) - IAM èˆ‡ç®¡ç†</a></li><li class="flex flex-col"><a class="flex items-center justify-between gap-2 cursor-pointer rounded px-2 py-1.5 text-sm transition-colors [-webkit-tap-highlight-color:transparent] [-webkit-touch-callout:none] [word-break:break-word]
text-gray-500 hover:bg-gray-100 hover:text-gray-900 contrast-more:border contrast-more:border-transparent contrast-more:text-gray-900 contrast-more:hover:border-gray-900 dark:text-neutral-400 dark:hover:bg-primary-100/5 dark:hover:text-gray-50 contrast-more:dark:text-gray-50 contrast-more:dark:hover:border-gray-50" href=/blog/gcp/compute-engine/>Google Cloud Platform (GCP) - Compute Engine</a></li><li class="flex flex-col"><a class="flex items-center justify-between gap-2 cursor-pointer rounded px-2 py-1.5 text-sm transition-colors [-webkit-tap-highlight-color:transparent] [-webkit-touch-callout:none] [word-break:break-word]
text-gray-500 hover:bg-gray-100 hover:text-gray-900 contrast-more:border contrast-more:border-transparent contrast-more:text-gray-900 contrast-more:hover:border-gray-900 dark:text-neutral-400 dark:hover:bg-primary-100/5 dark:hover:text-gray-50 contrast-more:dark:text-gray-50 contrast-more:dark:hover:border-gray-50" href=/blog/gcp/cloud-source-repositories/>Google Cloud Platform (GCP) - Cloud Source Repositories</a></li><li class="flex flex-col"><a class="flex items-center justify-between gap-2 cursor-pointer rounded px-2 py-1.5 text-sm transition-colors [-webkit-tap-highlight-color:transparent] [-webkit-touch-callout:none] [word-break:break-word]
text-gray-500 hover:bg-gray-100 hover:text-gray-900 contrast-more:border contrast-more:border-transparent contrast-more:text-gray-900 contrast-more:hover:border-gray-900 dark:text-neutral-400 dark:hover:bg-primary-100/5 dark:hover:text-gray-50 contrast-more:dark:text-gray-50 contrast-more:dark:hover:border-gray-50" href=/blog/gcp/container-registry/>Google Cloud Platform (GCP) - Container Registry</a></li><li class="flex flex-col"><a class="flex items-center justify-between gap-2 cursor-pointer rounded px-2 py-1.5 text-sm transition-colors [-webkit-tap-highlight-color:transparent] [-webkit-touch-callout:none] [word-break:break-word]
text-gray-500 hover:bg-gray-100 hover:text-gray-900 contrast-more:border contrast-more:border-transparent contrast-more:text-gray-900 contrast-more:hover:border-gray-900 dark:text-neutral-400 dark:hover:bg-primary-100/5 dark:hover:text-gray-50 contrast-more:dark:text-gray-50 contrast-more:dark:hover:border-gray-50" href=/blog/gcp/cloud-build/>Google Cloud Platform (GCP) - Cloud Build</a></li></ul></div></li><li class="flex flex-col open"><a class="flex items-center justify-between gap-2 cursor-pointer rounded px-2 py-1.5 text-sm transition-colors [-webkit-tap-highlight-color:transparent] [-webkit-touch-callout:none] [word-break:break-word]
text-gray-500 hover:bg-gray-100 hover:text-gray-900 contrast-more:border contrast-more:border-transparent contrast-more:text-gray-900 contrast-more:hover:border-gray-900 dark:text-neutral-400 dark:hover:bg-primary-100/5 dark:hover:text-gray-50 contrast-more:dark:text-gray-50 contrast-more:dark:hover:border-gray-50" href=/blog/kubernetes/>Kubernetes
<span class=hextra-sidebar-collapsible-button><svg fill="none" viewBox="0 0 24 24" stroke="currentcolor" class="h-[18px] min-w-[18px] rounded-sm p-0.5 hover:bg-gray-800/5 dark:hover:bg-gray-100/5"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7" class="origin-center transition-transform rtl:-rotate-180"/></svg></span></a><div class="ltr:pr-0 overflow-hidden"><ul class='relative flex flex-col gap-1 before:absolute before:inset-y-1 before:w-px before:bg-gray-200 before:content-[""] ltr:ml-3 ltr:pl-3 ltr:before:left-0 rtl:mr-3 rtl:pr-3 rtl:before:right-0 dark:before:bg-neutral-800'><li class="flex flex-col"><a class="flex items-center justify-between gap-2 cursor-pointer rounded px-2 py-1.5 text-sm transition-colors [-webkit-tap-highlight-color:transparent] [-webkit-touch-callout:none] [word-break:break-word]
text-gray-500 hover:bg-gray-100 hover:text-gray-900 contrast-more:border contrast-more:border-transparent contrast-more:text-gray-900 contrast-more:hover:border-gray-900 dark:text-neutral-400 dark:hover:bg-primary-100/5 dark:hover:text-gray-50 contrast-more:dark:text-gray-50 contrast-more:dark:hover:border-gray-50" href=/blog/kubernetes/k8s-statefulset-podmanagementpolicy/>æ­£å¼ç’°å¢ƒä¸Šè¸©åˆ° StatefulSet çš„é›·ï¼Œæ‹¿åˆ° P1 çš„æ•™è¨“</a></li><li class="flex flex-col"><a class="flex items-center justify-between gap-2 cursor-pointer rounded px-2 py-1.5 text-sm transition-colors [-webkit-tap-highlight-color:transparent] [-webkit-touch-callout:none] [word-break:break-word]
text-gray-500 hover:bg-gray-100 hover:text-gray-900 contrast-more:border contrast-more:border-transparent contrast-more:text-gray-900 contrast-more:hover:border-gray-900 dark:text-neutral-400 dark:hover:bg-primary-100/5 dark:hover:text-gray-50 contrast-more:dark:text-gray-50 contrast-more:dark:hover:border-gray-50" href=/blog/kubernetes/pod-veth-name-provided-eth0-already-exists/>éƒ¨ç½² Pod é‡åˆ° container veth name provided (eth0) already exists éŒ¯èª¤</a></li><li class="flex flex-col open"><a class="flex items-center justify-between gap-2 cursor-pointer rounded px-2 py-1.5 text-sm transition-colors [-webkit-tap-highlight-color:transparent] [-webkit-touch-callout:none] [word-break:break-word]
sidebar-active-item bg-primary-100 font-semibold text-primary-800 contrast-more:border contrast-more:border-primary-500 dark:bg-primary-400/10 dark:text-primary-600 contrast-more:dark:border-primary-500" href=/blog/kubernetes/k8s-hpa/>Kubernetes (K8s) HorizontalPodAutoscaler (HPA) åŸç†èˆ‡å¯¦ä½œ</a><ul class='flex flex-col gap-1 relative before:absolute before:inset-y-1 before:w-px before:bg-gray-200 before:content-[""] dark:before:bg-neutral-800 ltr:pl-3 ltr:before:left-0 rtl:pr-3 rtl:before:right-0 ltr:ml-3 rtl:mr-3'><li><a href=#horizontalpodautoscaler-%e5%8e%9f%e7%90%86 class="flex rounded px-2 py-1.5 text-sm transition-colors [word-break:break-word] cursor-pointer [-webkit-tap-highlight-color:transparent] [-webkit-touch-callout:none] contrast-more:border gap-2 before:opacity-25 before:content-['#'] text-gray-500 hover:bg-gray-100 hover:text-gray-900 dark:text-neutral-400 dark:hover:bg-primary-100/5 dark:hover:text-gray-50 contrast-more:text-gray-900 contrast-more:dark:text-gray-50 contrast-more:border-transparent contrast-more:hover:border-gray-900 contrast-more:dark:hover:border-gray-50">HorizontalPodAutoscaler åŸç†</a></li><li><a href=#%e7%89%88%e6%9c%ac%e8%b3%87%e8%a8%8a class="flex rounded px-2 py-1.5 text-sm transition-colors [word-break:break-word] cursor-pointer [-webkit-tap-highlight-color:transparent] [-webkit-touch-callout:none] contrast-more:border gap-2 before:opacity-25 before:content-['#'] text-gray-500 hover:bg-gray-100 hover:text-gray-900 dark:text-neutral-400 dark:hover:bg-primary-100/5 dark:hover:text-gray-50 contrast-more:text-gray-900 contrast-more:dark:text-gray-50 contrast-more:border-transparent contrast-more:hover:border-gray-900 contrast-more:dark:hover:border-gray-50">ç‰ˆæœ¬è³‡è¨Š</a></li><li><a href=#%e5%af%a6%e4%bd%9c class="flex rounded px-2 py-1.5 text-sm transition-colors [word-break:break-word] cursor-pointer [-webkit-tap-highlight-color:transparent] [-webkit-touch-callout:none] contrast-more:border gap-2 before:opacity-25 before:content-['#'] text-gray-500 hover:bg-gray-100 hover:text-gray-900 dark:text-neutral-400 dark:hover:bg-primary-100/5 dark:hover:text-gray-50 contrast-more:text-gray-900 contrast-more:dark:text-gray-50 contrast-more:border-transparent contrast-more:hover:border-gray-900 contrast-more:dark:hover:border-gray-50">å¯¦ä½œ</a></li><li><a href=#%e6%b8%ac%e8%a9%a6-hpa class="flex rounded px-2 py-1.5 text-sm transition-colors [word-break:break-word] cursor-pointer [-webkit-tap-highlight-color:transparent] [-webkit-touch-callout:none] contrast-more:border gap-2 before:opacity-25 before:content-['#'] text-gray-500 hover:bg-gray-100 hover:text-gray-900 dark:text-neutral-400 dark:hover:bg-primary-100/5 dark:hover:text-gray-50 contrast-more:text-gray-900 contrast-more:dark:text-gray-50 contrast-more:border-transparent contrast-more:hover:border-gray-900 contrast-more:dark:hover:border-gray-50">æ¸¬è©¦ HPA</a></li><li><a href=#%e5%b8%b8%e8%a6%8b%e5%95%8f%e9%a1%8c%e5%8f%8a%e8%a7%a3%e6%b1%ba%e8%be%a6%e6%b3%95 class="flex rounded px-2 py-1.5 text-sm transition-colors [word-break:break-word] cursor-pointer [-webkit-tap-highlight-color:transparent] [-webkit-touch-callout:none] contrast-more:border gap-2 before:opacity-25 before:content-['#'] text-gray-500 hover:bg-gray-100 hover:text-gray-900 dark:text-neutral-400 dark:hover:bg-primary-100/5 dark:hover:text-gray-50 contrast-more:text-gray-900 contrast-more:dark:text-gray-50 contrast-more:border-transparent contrast-more:hover:border-gray-900 contrast-more:dark:hover:border-gray-50">å¸¸è¦‹å•é¡ŒåŠè§£æ±ºè¾¦æ³•</a></li><li><a href=#%e5%8f%83%e8%80%83%e8%b3%87%e6%96%99 class="flex rounded px-2 py-1.5 text-sm transition-colors [word-break:break-word] cursor-pointer [-webkit-tap-highlight-color:transparent] [-webkit-touch-callout:none] contrast-more:border gap-2 before:opacity-25 before:content-['#'] text-gray-500 hover:bg-gray-100 hover:text-gray-900 dark:text-neutral-400 dark:hover:bg-primary-100/5 dark:hover:text-gray-50 contrast-more:text-gray-900 contrast-more:dark:text-gray-50 contrast-more:border-transparent contrast-more:hover:border-gray-900 contrast-more:dark:hover:border-gray-50">åƒè€ƒè³‡æ–™</a></li></ul></li><li class="flex flex-col"><a class="flex items-center justify-between gap-2 cursor-pointer rounded px-2 py-1.5 text-sm transition-colors [-webkit-tap-highlight-color:transparent] [-webkit-touch-callout:none] [word-break:break-word]
text-gray-500 hover:bg-gray-100 hover:text-gray-900 contrast-more:border contrast-more:border-transparent contrast-more:text-gray-900 contrast-more:hover:border-gray-900 dark:text-neutral-400 dark:hover:bg-primary-100/5 dark:hover:text-gray-50 contrast-more:dark:text-gray-50 contrast-more:dark:hover:border-gray-50" href=/blog/kubernetes/gcp-k8s-hpa-php-custom-metrics/>Kubernetes (K8s) è‡ªå®šç¾© PHP HorizontalPodAutoscaler (HPA) æŒ‡æ¨™</a></li></ul></div></li><li class="flex flex-col open"><a class="flex items-center justify-between gap-2 cursor-pointer rounded px-2 py-1.5 text-sm transition-colors [-webkit-tap-highlight-color:transparent] [-webkit-touch-callout:none] [word-break:break-word]
text-gray-500 hover:bg-gray-100 hover:text-gray-900 contrast-more:border contrast-more:border-transparent contrast-more:text-gray-900 contrast-more:hover:border-gray-900 dark:text-neutral-400 dark:hover:bg-primary-100/5 dark:hover:text-gray-50 contrast-more:dark:text-gray-50 contrast-more:dark:hover:border-gray-50" href=/blog/nginx/>Nginx
<span class=hextra-sidebar-collapsible-button><svg fill="none" viewBox="0 0 24 24" stroke="currentcolor" class="h-[18px] min-w-[18px] rounded-sm p-0.5 hover:bg-gray-800/5 dark:hover:bg-gray-100/5"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7" class="origin-center transition-transform rtl:-rotate-180"/></svg></span></a><div class="ltr:pr-0 overflow-hidden"><ul class='relative flex flex-col gap-1 before:absolute before:inset-y-1 before:w-px before:bg-gray-200 before:content-[""] ltr:ml-3 ltr:pl-3 ltr:before:left-0 rtl:mr-3 rtl:pr-3 rtl:before:right-0 dark:before:bg-neutral-800'><li class="flex flex-col"><a class="flex items-center justify-between gap-2 cursor-pointer rounded px-2 py-1.5 text-sm transition-colors [-webkit-tap-highlight-color:transparent] [-webkit-touch-callout:none] [word-break:break-word]
text-gray-500 hover:bg-gray-100 hover:text-gray-900 contrast-more:border contrast-more:border-transparent contrast-more:text-gray-900 contrast-more:hover:border-gray-900 dark:text-neutral-400 dark:hover:bg-primary-100/5 dark:hover:text-gray-50 contrast-more:dark:text-gray-50 contrast-more:dark:hover:border-gray-50" href=/blog/nginx/nginx-upstream-set-host-header/>æƒ³ä½¿ç”¨ Nginx Upstream Proxy åˆ°å¤–éƒ¨æœå‹™ï¼Œä¸¦å¸¶å…¥å°æ‡‰çš„ header è©²æ€éº¼åšï¼Ÿ</a></li><li class="flex flex-col"><a class="flex items-center justify-between gap-2 cursor-pointer rounded px-2 py-1.5 text-sm transition-colors [-webkit-tap-highlight-color:transparent] [-webkit-touch-callout:none] [word-break:break-word]
text-gray-500 hover:bg-gray-100 hover:text-gray-900 contrast-more:border contrast-more:border-transparent contrast-more:text-gray-900 contrast-more:hover:border-gray-900 dark:text-neutral-400 dark:hover:bg-primary-100/5 dark:hover:text-gray-50 contrast-more:dark:text-gray-50 contrast-more:dark:hover:border-gray-50" href=/blog/nginx/soketi-log-502-error/>Soketi WebSocket Server LOG ä¸å®šæ™‚å‡ºç¾ 502 error ä»¥åŠ connect() failed (111: Connection refused)</a></li></ul></div></li><li class="flex flex-col open"><a class="flex items-center justify-between gap-2 cursor-pointer rounded px-2 py-1.5 text-sm transition-colors [-webkit-tap-highlight-color:transparent] [-webkit-touch-callout:none] [word-break:break-word]
text-gray-500 hover:bg-gray-100 hover:text-gray-900 contrast-more:border contrast-more:border-transparent contrast-more:text-gray-900 contrast-more:hover:border-gray-900 dark:text-neutral-400 dark:hover:bg-primary-100/5 dark:hover:text-gray-50 contrast-more:dark:text-gray-50 contrast-more:dark:hover:border-gray-50" href=/blog/opentelemetry/>Opentelemetry
<span class=hextra-sidebar-collapsible-button><svg fill="none" viewBox="0 0 24 24" stroke="currentcolor" class="h-[18px] min-w-[18px] rounded-sm p-0.5 hover:bg-gray-800/5 dark:hover:bg-gray-100/5"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7" class="origin-center transition-transform rtl:-rotate-180"/></svg></span></a><div class="ltr:pr-0 overflow-hidden"><ul class='relative flex flex-col gap-1 before:absolute before:inset-y-1 before:w-px before:bg-gray-200 before:content-[""] ltr:ml-3 ltr:pl-3 ltr:before:left-0 rtl:mr-3 rtl:pr-3 rtl:before:right-0 dark:before:bg-neutral-800'><li class="flex flex-col"><a class="flex items-center justify-between gap-2 cursor-pointer rounded px-2 py-1.5 text-sm transition-colors [-webkit-tap-highlight-color:transparent] [-webkit-touch-callout:none] [word-break:break-word]
text-gray-500 hover:bg-gray-100 hover:text-gray-900 contrast-more:border contrast-more:border-transparent contrast-more:text-gray-900 contrast-more:hover:border-gray-900 dark:text-neutral-400 dark:hover:bg-primary-100/5 dark:hover:text-gray-50 contrast-more:dark:text-gray-50 contrast-more:dark:hover:border-gray-50" href=/blog/opentelemetry/opentelemetry-observability/>ä»€éº¼æ˜¯ Opentelemetryï¼Ÿå¯è§€æ¸¬æ€§ (Observability) åˆæ˜¯ä»€éº¼ï¼Ÿ</a></li><li class="flex flex-col"><a class="flex items-center justify-between gap-2 cursor-pointer rounded px-2 py-1.5 text-sm transition-colors [-webkit-tap-highlight-color:transparent] [-webkit-touch-callout:none] [word-break:break-word]
text-gray-500 hover:bg-gray-100 hover:text-gray-900 contrast-more:border contrast-more:border-transparent contrast-more:text-gray-900 contrast-more:hover:border-gray-900 dark:text-neutral-400 dark:hover:bg-primary-100/5 dark:hover:text-gray-50 contrast-more:dark:text-gray-50 contrast-more:dark:hover:border-gray-50" href=/blog/opentelemetry/opentelemetry-ingress-nginx-controller/>å¦‚ä½•é€é OpenTelemetry ä¾†æ”¶é›† Ingress Nginx Controller çš„ Metrics èˆ‡ Traces ä¸¦é€åˆ° Datadog ä¸Š</a></li></ul></div></li><li class="flex flex-col open"><a class="flex items-center justify-between gap-2 cursor-pointer rounded px-2 py-1.5 text-sm transition-colors [-webkit-tap-highlight-color:transparent] [-webkit-touch-callout:none] [word-break:break-word]
text-gray-500 hover:bg-gray-100 hover:text-gray-900 contrast-more:border contrast-more:border-transparent contrast-more:text-gray-900 contrast-more:hover:border-gray-900 dark:text-neutral-400 dark:hover:bg-primary-100/5 dark:hover:text-gray-50 contrast-more:dark:text-gray-50 contrast-more:dark:hover:border-gray-50" href=/blog/rd/>RD ä½¿ç”¨çš„ç›¸é—œå·¥å…·
<span class=hextra-sidebar-collapsible-button><svg fill="none" viewBox="0 0 24 24" stroke="currentcolor" class="h-[18px] min-w-[18px] rounded-sm p-0.5 hover:bg-gray-800/5 dark:hover:bg-gray-100/5"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7" class="origin-center transition-transform rtl:-rotate-180"/></svg></span></a><div class="ltr:pr-0 overflow-hidden"><ul class='relative flex flex-col gap-1 before:absolute before:inset-y-1 before:w-px before:bg-gray-200 before:content-[""] ltr:ml-3 ltr:pl-3 ltr:before:left-0 rtl:mr-3 rtl:pr-3 rtl:before:right-0 dark:before:bg-neutral-800'><li class="flex flex-col"><a class="flex items-center justify-between gap-2 cursor-pointer rounded px-2 py-1.5 text-sm transition-colors [-webkit-tap-highlight-color:transparent] [-webkit-touch-callout:none] [word-break:break-word]
text-gray-500 hover:bg-gray-100 hover:text-gray-900 contrast-more:border contrast-more:border-transparent contrast-more:text-gray-900 contrast-more:hover:border-gray-900 dark:text-neutral-400 dark:hover:bg-primary-100/5 dark:hover:text-gray-50 contrast-more:dark:text-gray-50 contrast-more:dark:hover:border-gray-50" href=/blog/rd/fluentd-server-show-fluent-plugin-elasticsearch-error400/>Fluentd-Server å‡ºç¾ Fluent::Plugin::Elasticsearch Error 400 - Rejected by Elasticsearch éŒ¯èª¤è§£æ±º</a></li><li class="flex flex-col"><a class="flex items-center justify-between gap-2 cursor-pointer rounded px-2 py-1.5 text-sm transition-colors [-webkit-tap-highlight-color:transparent] [-webkit-touch-callout:none] [word-break:break-word]
text-gray-500 hover:bg-gray-100 hover:text-gray-900 contrast-more:border contrast-more:border-transparent contrast-more:text-gray-900 contrast-more:hover:border-gray-900 dark:text-neutral-400 dark:hover:bg-primary-100/5 dark:hover:text-gray-50 contrast-more:dark:text-gray-50 contrast-more:dark:hover:border-gray-50" href=/blog/rd/kibana-create-index-forbidden/>Kibana æ–°å¢ index ç´¢å¼•æ™‚ä¸€ç›´è½‰åœˆåœˆä»¥åŠé¡¯ç¤º HTTP 403 Forbidden</a></li><li class="flex flex-col"><a class="flex items-center justify-between gap-2 cursor-pointer rounded px-2 py-1.5 text-sm transition-colors [-webkit-tap-highlight-color:transparent] [-webkit-touch-callout:none] [word-break:break-word]
text-gray-500 hover:bg-gray-100 hover:text-gray-900 contrast-more:border contrast-more:border-transparent contrast-more:text-gray-900 contrast-more:hover:border-gray-900 dark:text-neutral-400 dark:hover:bg-primary-100/5 dark:hover:text-gray-50 contrast-more:dark:text-gray-50 contrast-more:dark:hover:border-gray-50" href=/blog/rd/gitlab-package-registry-to-gcs/>å¦‚ä½•å•Ÿç”¨ GitLab çš„ Package Registry ä»¥åŠå°‡å„²å­˜ä½ç½®å¾ä¼ºæœå™¨æ”¹åˆ° GCS ä¸Š</a></li></ul></div></li><li class="flex flex-col open"><a class="flex items-center justify-between gap-2 cursor-pointer rounded px-2 py-1.5 text-sm transition-colors [-webkit-tap-highlight-color:transparent] [-webkit-touch-callout:none] [word-break:break-word]
text-gray-500 hover:bg-gray-100 hover:text-gray-900 contrast-more:border contrast-more:border-transparent contrast-more:text-gray-900 contrast-more:hover:border-gray-900 dark:text-neutral-400 dark:hover:bg-primary-100/5 dark:hover:text-gray-50 contrast-more:dark:text-gray-50 contrast-more:dark:hover:border-gray-50" href=/blog/terraform/>Terraform
<span class=hextra-sidebar-collapsible-button><svg fill="none" viewBox="0 0 24 24" stroke="currentcolor" class="h-[18px] min-w-[18px] rounded-sm p-0.5 hover:bg-gray-800/5 dark:hover:bg-gray-100/5"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7" class="origin-center transition-transform rtl:-rotate-180"/></svg></span></a><div class="ltr:pr-0 overflow-hidden"><ul class='relative flex flex-col gap-1 before:absolute before:inset-y-1 before:w-px before:bg-gray-200 before:content-[""] ltr:ml-3 ltr:pl-3 ltr:before:left-0 rtl:mr-3 rtl:pr-3 rtl:before:right-0 dark:before:bg-neutral-800'><li class="flex flex-col"><a class="flex items-center justify-between gap-2 cursor-pointer rounded px-2 py-1.5 text-sm transition-colors [-webkit-tap-highlight-color:transparent] [-webkit-touch-callout:none] [word-break:break-word]
text-gray-500 hover:bg-gray-100 hover:text-gray-900 contrast-more:border contrast-more:border-transparent contrast-more:text-gray-900 contrast-more:hover:border-gray-900 dark:text-neutral-400 dark:hover:bg-primary-100/5 dark:hover:text-gray-50 contrast-more:dark:text-gray-50 contrast-more:dark:hover:border-gray-50" href=/blog/terraform/terraform/>ä»€éº¼æ˜¯ IaC ? Terraform åˆæ˜¯ä»€éº¼ï¼Ÿ</a></li><li class="flex flex-col"><a class="flex items-center justify-between gap-2 cursor-pointer rounded px-2 py-1.5 text-sm transition-colors [-webkit-tap-highlight-color:transparent] [-webkit-touch-callout:none] [word-break:break-word]
text-gray-500 hover:bg-gray-100 hover:text-gray-900 contrast-more:border contrast-more:border-transparent contrast-more:text-gray-900 contrast-more:hover:border-gray-900 dark:text-neutral-400 dark:hover:bg-primary-100/5 dark:hover:text-gray-50 contrast-more:dark:text-gray-50 contrast-more:dark:hover:border-gray-50" href=/blog/terraform/terraform-gce/>ä½¿ç”¨ Terraform å»ºç«‹ Google Compute Engine</a></li><li class="flex flex-col"><a class="flex items-center justify-between gap-2 cursor-pointer rounded px-2 py-1.5 text-sm transition-colors [-webkit-tap-highlight-color:transparent] [-webkit-touch-callout:none] [word-break:break-word]
text-gray-500 hover:bg-gray-100 hover:text-gray-900 contrast-more:border contrast-more:border-transparent contrast-more:text-gray-900 contrast-more:hover:border-gray-900 dark:text-neutral-400 dark:hover:bg-primary-100/5 dark:hover:text-gray-50 contrast-more:dark:text-gray-50 contrast-more:dark:hover:border-gray-50" href=/blog/terraform/terraform-gke/>ä½¿ç”¨ Terraform å»ºç«‹ Google Kubernetes Engine</a></li><li class="flex flex-col"><a class="flex items-center justify-between gap-2 cursor-pointer rounded px-2 py-1.5 text-sm transition-colors [-webkit-tap-highlight-color:transparent] [-webkit-touch-callout:none] [word-break:break-word]
text-gray-500 hover:bg-gray-100 hover:text-gray-900 contrast-more:border contrast-more:border-transparent contrast-more:text-gray-900 contrast-more:hover:border-gray-900 dark:text-neutral-400 dark:hover:bg-primary-100/5 dark:hover:text-gray-50 contrast-more:dark:text-gray-50 contrast-more:dark:hover:border-gray-50" href=/blog/terraform/terraform-tfstate/>Terraform å¦‚ä½•å¤šäººå…±åŒé–‹ç™¼ (å°‡ tfstate å­˜åœ¨å¾Œç«¯)</a></li><li class="flex flex-col"><a class="flex items-center justify-between gap-2 cursor-pointer rounded px-2 py-1.5 text-sm transition-colors [-webkit-tap-highlight-color:transparent] [-webkit-touch-callout:none] [word-break:break-word]
text-gray-500 hover:bg-gray-100 hover:text-gray-900 contrast-more:border contrast-more:border-transparent contrast-more:text-gray-900 contrast-more:hover:border-gray-900 dark:text-neutral-400 dark:hover:bg-primary-100/5 dark:hover:text-gray-50 contrast-more:dark:text-gray-50 contrast-more:dark:hover:border-gray-50" href=/blog/terraform/terraform-module/>å¦‚ä½•å°‡ Terraform æ”¹å¯«æˆ module ?</a></li><li class="flex flex-col"><a class="flex items-center justify-between gap-2 cursor-pointer rounded px-2 py-1.5 text-sm transition-colors [-webkit-tap-highlight-color:transparent] [-webkit-touch-callout:none] [word-break:break-word]
text-gray-500 hover:bg-gray-100 hover:text-gray-900 contrast-more:border contrast-more:border-transparent contrast-more:text-gray-900 contrast-more:hover:border-gray-900 dark:text-neutral-400 dark:hover:bg-primary-100/5 dark:hover:text-gray-50 contrast-more:dark:text-gray-50 contrast-more:dark:hover:border-gray-50" href=/blog/terraform/terragrunt/>å¦‚ä½•å°å…¥ Terragruntï¼ŒTerragrunt å¥½è™•æ˜¯ä»€éº¼ï¼Ÿ</a></li></ul></div></li><li class="flex flex-col open"><a class="flex items-center justify-between gap-2 cursor-pointer rounded px-2 py-1.5 text-sm transition-colors [-webkit-tap-highlight-color:transparent] [-webkit-touch-callout:none] [word-break:break-word]
text-gray-500 hover:bg-gray-100 hover:text-gray-900 contrast-more:border contrast-more:border-transparent contrast-more:text-gray-900 contrast-more:hover:border-gray-900 dark:text-neutral-400 dark:hover:bg-primary-100/5 dark:hover:text-gray-50 contrast-more:dark:text-gray-50 contrast-more:dark:hover:border-gray-50" href=/blog/other/>å…¶ä»–(é‚„æƒ³ä¸åˆ°åˆ†é¡)
<span class=hextra-sidebar-collapsible-button><svg fill="none" viewBox="0 0 24 24" stroke="currentcolor" class="h-[18px] min-w-[18px] rounded-sm p-0.5 hover:bg-gray-800/5 dark:hover:bg-gray-100/5"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7" class="origin-center transition-transform rtl:-rotate-180"/></svg></span></a><div class="ltr:pr-0 overflow-hidden"><ul class='relative flex flex-col gap-1 before:absolute before:inset-y-1 before:w-px before:bg-gray-200 before:content-[""] ltr:ml-3 ltr:pl-3 ltr:before:left-0 rtl:mr-3 rtl:pr-3 rtl:before:right-0 dark:before:bg-neutral-800'><li class="flex flex-col"><a class="flex items-center justify-between gap-2 cursor-pointer rounded px-2 py-1.5 text-sm transition-colors [-webkit-tap-highlight-color:transparent] [-webkit-touch-callout:none] [word-break:break-word]
text-gray-500 hover:bg-gray-100 hover:text-gray-900 contrast-more:border contrast-more:border-transparent contrast-more:text-gray-900 contrast-more:hover:border-gray-900 dark:text-neutral-400 dark:hover:bg-primary-100/5 dark:hover:text-gray-50 contrast-more:dark:text-gray-50 contrast-more:dark:hover:border-gray-50" href=/blog/other/git-merge-multiple-commit/>å¦‚ä½•åˆä½µå¤šå€‹ commitï¼Œä¸”æ¨åˆ°é ç«¯å‘¢ï¼Ÿ</a></li><li class="flex flex-col"><a class="flex items-center justify-between gap-2 cursor-pointer rounded px-2 py-1.5 text-sm transition-colors [-webkit-tap-highlight-color:transparent] [-webkit-touch-callout:none] [word-break:break-word]
text-gray-500 hover:bg-gray-100 hover:text-gray-900 contrast-more:border contrast-more:border-transparent contrast-more:text-gray-900 contrast-more:hover:border-gray-900 dark:text-neutral-400 dark:hover:bg-primary-100/5 dark:hover:text-gray-50 contrast-more:dark:text-gray-50 contrast-more:dark:hover:border-gray-50" href=/blog/other/bookstack/>Bookstack é–‹æºçŸ¥è­˜åº«ç­†è¨˜å¹³å°å®‰è£ (K8s + docker)</a></li><li class="flex flex-col"><a class="flex items-center justify-between gap-2 cursor-pointer rounded px-2 py-1.5 text-sm transition-colors [-webkit-tap-highlight-color:transparent] [-webkit-touch-callout:none] [word-break:break-word]
text-gray-500 hover:bg-gray-100 hover:text-gray-900 contrast-more:border contrast-more:border-transparent contrast-more:text-gray-900 contrast-more:hover:border-gray-900 dark:text-neutral-400 dark:hover:bg-primary-100/5 dark:hover:text-gray-50 contrast-more:dark:text-gray-50 contrast-more:dark:hover:border-gray-50" href=/blog/other/snyk/>æ‰¾å‡ºç¨‹å¼ç¢¼ã€é–‹æºå¥—ä»¶ã€å®¹å™¨çš„å®‰å…¨æ¼æ´å·¥å…· - Snyk</a></li></ul></div></li></ul></div></li><li><a class="flex items-center justify-between gap-2 cursor-pointer rounded px-2 py-1.5 text-sm transition-colors [-webkit-tap-highlight-color:transparent] [-webkit-touch-callout:none] [word-break:break-word]
text-gray-500 hover:bg-gray-100 hover:text-gray-900 contrast-more:border contrast-more:border-transparent contrast-more:text-gray-900 contrast-more:hover:border-gray-900 dark:text-neutral-400 dark:hover:bg-primary-100/5 dark:hover:text-gray-50 contrast-more:dark:text-gray-50 contrast-more:dark:hover:border-gray-50" href=/projects/>å°ˆæ¡ˆæˆå°±</a></li><li><a class="flex items-center justify-between gap-2 cursor-pointer rounded px-2 py-1.5 text-sm transition-colors [-webkit-tap-highlight-color:transparent] [-webkit-touch-callout:none] [word-break:break-word]
text-gray-500 hover:bg-gray-100 hover:text-gray-900 contrast-more:border contrast-more:border-transparent contrast-more:text-gray-900 contrast-more:hover:border-gray-900 dark:text-neutral-400 dark:hover:bg-primary-100/5 dark:hover:text-gray-50 contrast-more:dark:text-gray-50 contrast-more:dark:hover:border-gray-50" href=/about/>é—œæ–¼æˆ‘</a></li></ul><ul class="flex flex-col gap-1 max-md:hidden"><li class=open><a class="flex items-center justify-between gap-2 cursor-pointer rounded px-2 py-1.5 text-sm transition-colors [-webkit-tap-highlight-color:transparent] [-webkit-touch-callout:none] [word-break:break-word]
text-gray-500 hover:bg-gray-100 hover:text-gray-900 contrast-more:border contrast-more:border-transparent contrast-more:text-gray-900 contrast-more:hover:border-gray-900 dark:text-neutral-400 dark:hover:bg-primary-100/5 dark:hover:text-gray-50 contrast-more:dark:text-gray-50 contrast-more:dark:hover:border-gray-50" href=/blog/gcp/>Google Cloud Platform
<span class=hextra-sidebar-collapsible-button><svg fill="none" viewBox="0 0 24 24" stroke="currentcolor" class="h-[18px] min-w-[18px] rounded-sm p-0.5 hover:bg-gray-800/5 dark:hover:bg-gray-100/5"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7" class="origin-center transition-transform rtl:-rotate-180"/></svg></span></a><div class="ltr:pr-0 overflow-hidden"><ul class='relative flex flex-col gap-1 before:absolute before:inset-y-1 before:w-px before:bg-gray-200 before:content-[""] ltr:ml-3 ltr:pl-3 ltr:before:left-0 rtl:mr-3 rtl:pr-3 rtl:before:right-0 dark:before:bg-neutral-800'><li class="flex flex-col"><a class="flex items-center justify-between gap-2 cursor-pointer rounded px-2 py-1.5 text-sm transition-colors [-webkit-tap-highlight-color:transparent] [-webkit-touch-callout:none] [word-break:break-word]
text-gray-500 hover:bg-gray-100 hover:text-gray-900 contrast-more:border contrast-more:border-transparent contrast-more:text-gray-900 contrast-more:hover:border-gray-900 dark:text-neutral-400 dark:hover:bg-primary-100/5 dark:hover:text-gray-50 contrast-more:dark:text-gray-50 contrast-more:dark:hover:border-gray-50" href=/blog/gcp/gcp-log-reduce-cloud-logging-api/>å¦‚ä½•éæ¿¾ GCP LOGï¼Œæ¸›å°‘ Cloud Logging API çš„èŠ±è²»</a></li><li class="flex flex-col"><a class="flex items-center justify-between gap-2 cursor-pointer rounded px-2 py-1.5 text-sm transition-colors [-webkit-tap-highlight-color:transparent] [-webkit-touch-callout:none] [word-break:break-word]
text-gray-500 hover:bg-gray-100 hover:text-gray-900 contrast-more:border contrast-more:border-transparent contrast-more:text-gray-900 contrast-more:hover:border-gray-900 dark:text-neutral-400 dark:hover:bg-primary-100/5 dark:hover:text-gray-50 contrast-more:dark:text-gray-50 contrast-more:dark:hover:border-gray-50" href=/blog/gcp/gke-cronjob-not-working/>Google Kubernetes Engine CronJob æœƒæœ‰çŸ­æš«æ™‚é–“æ²’æœ‰åŸ·è¡Œ Job</a></li><li class="flex flex-col"><a class="flex items-center justify-between gap-2 cursor-pointer rounded px-2 py-1.5 text-sm transition-colors [-webkit-tap-highlight-color:transparent] [-webkit-touch-callout:none] [word-break:break-word]
text-gray-500 hover:bg-gray-100 hover:text-gray-900 contrast-more:border contrast-more:border-transparent contrast-more:text-gray-900 contrast-more:hover:border-gray-900 dark:text-neutral-400 dark:hover:bg-primary-100/5 dark:hover:text-gray-50 contrast-more:dark:text-gray-50 contrast-more:dark:hover:border-gray-50" href=/blog/gcp/iam/>Google Cloud Platform (GCP) - IAM èˆ‡ç®¡ç†</a></li><li class="flex flex-col"><a class="flex items-center justify-between gap-2 cursor-pointer rounded px-2 py-1.5 text-sm transition-colors [-webkit-tap-highlight-color:transparent] [-webkit-touch-callout:none] [word-break:break-word]
text-gray-500 hover:bg-gray-100 hover:text-gray-900 contrast-more:border contrast-more:border-transparent contrast-more:text-gray-900 contrast-more:hover:border-gray-900 dark:text-neutral-400 dark:hover:bg-primary-100/5 dark:hover:text-gray-50 contrast-more:dark:text-gray-50 contrast-more:dark:hover:border-gray-50" href=/blog/gcp/compute-engine/>Google Cloud Platform (GCP) - Compute Engine</a></li><li class="flex flex-col"><a class="flex items-center justify-between gap-2 cursor-pointer rounded px-2 py-1.5 text-sm transition-colors [-webkit-tap-highlight-color:transparent] [-webkit-touch-callout:none] [word-break:break-word]
text-gray-500 hover:bg-gray-100 hover:text-gray-900 contrast-more:border contrast-more:border-transparent contrast-more:text-gray-900 contrast-more:hover:border-gray-900 dark:text-neutral-400 dark:hover:bg-primary-100/5 dark:hover:text-gray-50 contrast-more:dark:text-gray-50 contrast-more:dark:hover:border-gray-50" href=/blog/gcp/cloud-source-repositories/>Google Cloud Platform (GCP) - Cloud Source Repositories</a></li><li class="flex flex-col"><a class="flex items-center justify-between gap-2 cursor-pointer rounded px-2 py-1.5 text-sm transition-colors [-webkit-tap-highlight-color:transparent] [-webkit-touch-callout:none] [word-break:break-word]
text-gray-500 hover:bg-gray-100 hover:text-gray-900 contrast-more:border contrast-more:border-transparent contrast-more:text-gray-900 contrast-more:hover:border-gray-900 dark:text-neutral-400 dark:hover:bg-primary-100/5 dark:hover:text-gray-50 contrast-more:dark:text-gray-50 contrast-more:dark:hover:border-gray-50" href=/blog/gcp/container-registry/>Google Cloud Platform (GCP) - Container Registry</a></li><li class="flex flex-col"><a class="flex items-center justify-between gap-2 cursor-pointer rounded px-2 py-1.5 text-sm transition-colors [-webkit-tap-highlight-color:transparent] [-webkit-touch-callout:none] [word-break:break-word]
text-gray-500 hover:bg-gray-100 hover:text-gray-900 contrast-more:border contrast-more:border-transparent contrast-more:text-gray-900 contrast-more:hover:border-gray-900 dark:text-neutral-400 dark:hover:bg-primary-100/5 dark:hover:text-gray-50 contrast-more:dark:text-gray-50 contrast-more:dark:hover:border-gray-50" href=/blog/gcp/cloud-build/>Google Cloud Platform (GCP) - Cloud Build</a></li></ul></div></li><li class=open><a class="flex items-center justify-between gap-2 cursor-pointer rounded px-2 py-1.5 text-sm transition-colors [-webkit-tap-highlight-color:transparent] [-webkit-touch-callout:none] [word-break:break-word]
text-gray-500 hover:bg-gray-100 hover:text-gray-900 contrast-more:border contrast-more:border-transparent contrast-more:text-gray-900 contrast-more:hover:border-gray-900 dark:text-neutral-400 dark:hover:bg-primary-100/5 dark:hover:text-gray-50 contrast-more:dark:text-gray-50 contrast-more:dark:hover:border-gray-50" href=/blog/kubernetes/>Kubernetes
<span class=hextra-sidebar-collapsible-button><svg fill="none" viewBox="0 0 24 24" stroke="currentcolor" class="h-[18px] min-w-[18px] rounded-sm p-0.5 hover:bg-gray-800/5 dark:hover:bg-gray-100/5"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7" class="origin-center transition-transform rtl:-rotate-180"/></svg></span></a><div class="ltr:pr-0 overflow-hidden"><ul class='relative flex flex-col gap-1 before:absolute before:inset-y-1 before:w-px before:bg-gray-200 before:content-[""] ltr:ml-3 ltr:pl-3 ltr:before:left-0 rtl:mr-3 rtl:pr-3 rtl:before:right-0 dark:before:bg-neutral-800'><li class="flex flex-col"><a class="flex items-center justify-between gap-2 cursor-pointer rounded px-2 py-1.5 text-sm transition-colors [-webkit-tap-highlight-color:transparent] [-webkit-touch-callout:none] [word-break:break-word]
text-gray-500 hover:bg-gray-100 hover:text-gray-900 contrast-more:border contrast-more:border-transparent contrast-more:text-gray-900 contrast-more:hover:border-gray-900 dark:text-neutral-400 dark:hover:bg-primary-100/5 dark:hover:text-gray-50 contrast-more:dark:text-gray-50 contrast-more:dark:hover:border-gray-50" href=/blog/kubernetes/k8s-statefulset-podmanagementpolicy/>æ­£å¼ç’°å¢ƒä¸Šè¸©åˆ° StatefulSet çš„é›·ï¼Œæ‹¿åˆ° P1 çš„æ•™è¨“</a></li><li class="flex flex-col"><a class="flex items-center justify-between gap-2 cursor-pointer rounded px-2 py-1.5 text-sm transition-colors [-webkit-tap-highlight-color:transparent] [-webkit-touch-callout:none] [word-break:break-word]
text-gray-500 hover:bg-gray-100 hover:text-gray-900 contrast-more:border contrast-more:border-transparent contrast-more:text-gray-900 contrast-more:hover:border-gray-900 dark:text-neutral-400 dark:hover:bg-primary-100/5 dark:hover:text-gray-50 contrast-more:dark:text-gray-50 contrast-more:dark:hover:border-gray-50" href=/blog/kubernetes/pod-veth-name-provided-eth0-already-exists/>éƒ¨ç½² Pod é‡åˆ° container veth name provided (eth0) already exists éŒ¯èª¤</a></li><li class="flex flex-col open"><a class="flex items-center justify-between gap-2 cursor-pointer rounded px-2 py-1.5 text-sm transition-colors [-webkit-tap-highlight-color:transparent] [-webkit-touch-callout:none] [word-break:break-word]
sidebar-active-item bg-primary-100 font-semibold text-primary-800 contrast-more:border contrast-more:border-primary-500 dark:bg-primary-400/10 dark:text-primary-600 contrast-more:dark:border-primary-500" href=/blog/kubernetes/k8s-hpa/>Kubernetes (K8s) HorizontalPodAutoscaler (HPA) åŸç†èˆ‡å¯¦ä½œ</a></li><li class="flex flex-col"><a class="flex items-center justify-between gap-2 cursor-pointer rounded px-2 py-1.5 text-sm transition-colors [-webkit-tap-highlight-color:transparent] [-webkit-touch-callout:none] [word-break:break-word]
text-gray-500 hover:bg-gray-100 hover:text-gray-900 contrast-more:border contrast-more:border-transparent contrast-more:text-gray-900 contrast-more:hover:border-gray-900 dark:text-neutral-400 dark:hover:bg-primary-100/5 dark:hover:text-gray-50 contrast-more:dark:text-gray-50 contrast-more:dark:hover:border-gray-50" href=/blog/kubernetes/gcp-k8s-hpa-php-custom-metrics/>Kubernetes (K8s) è‡ªå®šç¾© PHP HorizontalPodAutoscaler (HPA) æŒ‡æ¨™</a></li></ul></div></li><li class=open><a class="flex items-center justify-between gap-2 cursor-pointer rounded px-2 py-1.5 text-sm transition-colors [-webkit-tap-highlight-color:transparent] [-webkit-touch-callout:none] [word-break:break-word]
text-gray-500 hover:bg-gray-100 hover:text-gray-900 contrast-more:border contrast-more:border-transparent contrast-more:text-gray-900 contrast-more:hover:border-gray-900 dark:text-neutral-400 dark:hover:bg-primary-100/5 dark:hover:text-gray-50 contrast-more:dark:text-gray-50 contrast-more:dark:hover:border-gray-50" href=/blog/nginx/>Nginx
<span class=hextra-sidebar-collapsible-button><svg fill="none" viewBox="0 0 24 24" stroke="currentcolor" class="h-[18px] min-w-[18px] rounded-sm p-0.5 hover:bg-gray-800/5 dark:hover:bg-gray-100/5"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7" class="origin-center transition-transform rtl:-rotate-180"/></svg></span></a><div class="ltr:pr-0 overflow-hidden"><ul class='relative flex flex-col gap-1 before:absolute before:inset-y-1 before:w-px before:bg-gray-200 before:content-[""] ltr:ml-3 ltr:pl-3 ltr:before:left-0 rtl:mr-3 rtl:pr-3 rtl:before:right-0 dark:before:bg-neutral-800'><li class="flex flex-col"><a class="flex items-center justify-between gap-2 cursor-pointer rounded px-2 py-1.5 text-sm transition-colors [-webkit-tap-highlight-color:transparent] [-webkit-touch-callout:none] [word-break:break-word]
text-gray-500 hover:bg-gray-100 hover:text-gray-900 contrast-more:border contrast-more:border-transparent contrast-more:text-gray-900 contrast-more:hover:border-gray-900 dark:text-neutral-400 dark:hover:bg-primary-100/5 dark:hover:text-gray-50 contrast-more:dark:text-gray-50 contrast-more:dark:hover:border-gray-50" href=/blog/nginx/nginx-upstream-set-host-header/>æƒ³ä½¿ç”¨ Nginx Upstream Proxy åˆ°å¤–éƒ¨æœå‹™ï¼Œä¸¦å¸¶å…¥å°æ‡‰çš„ header è©²æ€éº¼åšï¼Ÿ</a></li><li class="flex flex-col"><a class="flex items-center justify-between gap-2 cursor-pointer rounded px-2 py-1.5 text-sm transition-colors [-webkit-tap-highlight-color:transparent] [-webkit-touch-callout:none] [word-break:break-word]
text-gray-500 hover:bg-gray-100 hover:text-gray-900 contrast-more:border contrast-more:border-transparent contrast-more:text-gray-900 contrast-more:hover:border-gray-900 dark:text-neutral-400 dark:hover:bg-primary-100/5 dark:hover:text-gray-50 contrast-more:dark:text-gray-50 contrast-more:dark:hover:border-gray-50" href=/blog/nginx/soketi-log-502-error/>Soketi WebSocket Server LOG ä¸å®šæ™‚å‡ºç¾ 502 error ä»¥åŠ connect() failed (111: Connection refused)</a></li></ul></div></li><li class=open><a class="flex items-center justify-between gap-2 cursor-pointer rounded px-2 py-1.5 text-sm transition-colors [-webkit-tap-highlight-color:transparent] [-webkit-touch-callout:none] [word-break:break-word]
text-gray-500 hover:bg-gray-100 hover:text-gray-900 contrast-more:border contrast-more:border-transparent contrast-more:text-gray-900 contrast-more:hover:border-gray-900 dark:text-neutral-400 dark:hover:bg-primary-100/5 dark:hover:text-gray-50 contrast-more:dark:text-gray-50 contrast-more:dark:hover:border-gray-50" href=/blog/opentelemetry/>Opentelemetry
<span class=hextra-sidebar-collapsible-button><svg fill="none" viewBox="0 0 24 24" stroke="currentcolor" class="h-[18px] min-w-[18px] rounded-sm p-0.5 hover:bg-gray-800/5 dark:hover:bg-gray-100/5"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7" class="origin-center transition-transform rtl:-rotate-180"/></svg></span></a><div class="ltr:pr-0 overflow-hidden"><ul class='relative flex flex-col gap-1 before:absolute before:inset-y-1 before:w-px before:bg-gray-200 before:content-[""] ltr:ml-3 ltr:pl-3 ltr:before:left-0 rtl:mr-3 rtl:pr-3 rtl:before:right-0 dark:before:bg-neutral-800'><li class="flex flex-col"><a class="flex items-center justify-between gap-2 cursor-pointer rounded px-2 py-1.5 text-sm transition-colors [-webkit-tap-highlight-color:transparent] [-webkit-touch-callout:none] [word-break:break-word]
text-gray-500 hover:bg-gray-100 hover:text-gray-900 contrast-more:border contrast-more:border-transparent contrast-more:text-gray-900 contrast-more:hover:border-gray-900 dark:text-neutral-400 dark:hover:bg-primary-100/5 dark:hover:text-gray-50 contrast-more:dark:text-gray-50 contrast-more:dark:hover:border-gray-50" href=/blog/opentelemetry/opentelemetry-observability/>ä»€éº¼æ˜¯ Opentelemetryï¼Ÿå¯è§€æ¸¬æ€§ (Observability) åˆæ˜¯ä»€éº¼ï¼Ÿ</a></li><li class="flex flex-col"><a class="flex items-center justify-between gap-2 cursor-pointer rounded px-2 py-1.5 text-sm transition-colors [-webkit-tap-highlight-color:transparent] [-webkit-touch-callout:none] [word-break:break-word]
text-gray-500 hover:bg-gray-100 hover:text-gray-900 contrast-more:border contrast-more:border-transparent contrast-more:text-gray-900 contrast-more:hover:border-gray-900 dark:text-neutral-400 dark:hover:bg-primary-100/5 dark:hover:text-gray-50 contrast-more:dark:text-gray-50 contrast-more:dark:hover:border-gray-50" href=/blog/opentelemetry/opentelemetry-ingress-nginx-controller/>å¦‚ä½•é€é OpenTelemetry ä¾†æ”¶é›† Ingress Nginx Controller çš„ Metrics èˆ‡ Traces ä¸¦é€åˆ° Datadog ä¸Š</a></li></ul></div></li><li class=open><a class="flex items-center justify-between gap-2 cursor-pointer rounded px-2 py-1.5 text-sm transition-colors [-webkit-tap-highlight-color:transparent] [-webkit-touch-callout:none] [word-break:break-word]
text-gray-500 hover:bg-gray-100 hover:text-gray-900 contrast-more:border contrast-more:border-transparent contrast-more:text-gray-900 contrast-more:hover:border-gray-900 dark:text-neutral-400 dark:hover:bg-primary-100/5 dark:hover:text-gray-50 contrast-more:dark:text-gray-50 contrast-more:dark:hover:border-gray-50" href=/blog/rd/>RD ä½¿ç”¨çš„ç›¸é—œå·¥å…·
<span class=hextra-sidebar-collapsible-button><svg fill="none" viewBox="0 0 24 24" stroke="currentcolor" class="h-[18px] min-w-[18px] rounded-sm p-0.5 hover:bg-gray-800/5 dark:hover:bg-gray-100/5"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7" class="origin-center transition-transform rtl:-rotate-180"/></svg></span></a><div class="ltr:pr-0 overflow-hidden"><ul class='relative flex flex-col gap-1 before:absolute before:inset-y-1 before:w-px before:bg-gray-200 before:content-[""] ltr:ml-3 ltr:pl-3 ltr:before:left-0 rtl:mr-3 rtl:pr-3 rtl:before:right-0 dark:before:bg-neutral-800'><li class="flex flex-col"><a class="flex items-center justify-between gap-2 cursor-pointer rounded px-2 py-1.5 text-sm transition-colors [-webkit-tap-highlight-color:transparent] [-webkit-touch-callout:none] [word-break:break-word]
text-gray-500 hover:bg-gray-100 hover:text-gray-900 contrast-more:border contrast-more:border-transparent contrast-more:text-gray-900 contrast-more:hover:border-gray-900 dark:text-neutral-400 dark:hover:bg-primary-100/5 dark:hover:text-gray-50 contrast-more:dark:text-gray-50 contrast-more:dark:hover:border-gray-50" href=/blog/rd/fluentd-server-show-fluent-plugin-elasticsearch-error400/>Fluentd-Server å‡ºç¾ Fluent::Plugin::Elasticsearch Error 400 - Rejected by Elasticsearch éŒ¯èª¤è§£æ±º</a></li><li class="flex flex-col"><a class="flex items-center justify-between gap-2 cursor-pointer rounded px-2 py-1.5 text-sm transition-colors [-webkit-tap-highlight-color:transparent] [-webkit-touch-callout:none] [word-break:break-word]
text-gray-500 hover:bg-gray-100 hover:text-gray-900 contrast-more:border contrast-more:border-transparent contrast-more:text-gray-900 contrast-more:hover:border-gray-900 dark:text-neutral-400 dark:hover:bg-primary-100/5 dark:hover:text-gray-50 contrast-more:dark:text-gray-50 contrast-more:dark:hover:border-gray-50" href=/blog/rd/kibana-create-index-forbidden/>Kibana æ–°å¢ index ç´¢å¼•æ™‚ä¸€ç›´è½‰åœˆåœˆä»¥åŠé¡¯ç¤º HTTP 403 Forbidden</a></li><li class="flex flex-col"><a class="flex items-center justify-between gap-2 cursor-pointer rounded px-2 py-1.5 text-sm transition-colors [-webkit-tap-highlight-color:transparent] [-webkit-touch-callout:none] [word-break:break-word]
text-gray-500 hover:bg-gray-100 hover:text-gray-900 contrast-more:border contrast-more:border-transparent contrast-more:text-gray-900 contrast-more:hover:border-gray-900 dark:text-neutral-400 dark:hover:bg-primary-100/5 dark:hover:text-gray-50 contrast-more:dark:text-gray-50 contrast-more:dark:hover:border-gray-50" href=/blog/rd/gitlab-package-registry-to-gcs/>å¦‚ä½•å•Ÿç”¨ GitLab çš„ Package Registry ä»¥åŠå°‡å„²å­˜ä½ç½®å¾ä¼ºæœå™¨æ”¹åˆ° GCS ä¸Š</a></li></ul></div></li><li class=open><a class="flex items-center justify-between gap-2 cursor-pointer rounded px-2 py-1.5 text-sm transition-colors [-webkit-tap-highlight-color:transparent] [-webkit-touch-callout:none] [word-break:break-word]
text-gray-500 hover:bg-gray-100 hover:text-gray-900 contrast-more:border contrast-more:border-transparent contrast-more:text-gray-900 contrast-more:hover:border-gray-900 dark:text-neutral-400 dark:hover:bg-primary-100/5 dark:hover:text-gray-50 contrast-more:dark:text-gray-50 contrast-more:dark:hover:border-gray-50" href=/blog/terraform/>Terraform
<span class=hextra-sidebar-collapsible-button><svg fill="none" viewBox="0 0 24 24" stroke="currentcolor" class="h-[18px] min-w-[18px] rounded-sm p-0.5 hover:bg-gray-800/5 dark:hover:bg-gray-100/5"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7" class="origin-center transition-transform rtl:-rotate-180"/></svg></span></a><div class="ltr:pr-0 overflow-hidden"><ul class='relative flex flex-col gap-1 before:absolute before:inset-y-1 before:w-px before:bg-gray-200 before:content-[""] ltr:ml-3 ltr:pl-3 ltr:before:left-0 rtl:mr-3 rtl:pr-3 rtl:before:right-0 dark:before:bg-neutral-800'><li class="flex flex-col"><a class="flex items-center justify-between gap-2 cursor-pointer rounded px-2 py-1.5 text-sm transition-colors [-webkit-tap-highlight-color:transparent] [-webkit-touch-callout:none] [word-break:break-word]
text-gray-500 hover:bg-gray-100 hover:text-gray-900 contrast-more:border contrast-more:border-transparent contrast-more:text-gray-900 contrast-more:hover:border-gray-900 dark:text-neutral-400 dark:hover:bg-primary-100/5 dark:hover:text-gray-50 contrast-more:dark:text-gray-50 contrast-more:dark:hover:border-gray-50" href=/blog/terraform/terraform/>ä»€éº¼æ˜¯ IaC ? Terraform åˆæ˜¯ä»€éº¼ï¼Ÿ</a></li><li class="flex flex-col"><a class="flex items-center justify-between gap-2 cursor-pointer rounded px-2 py-1.5 text-sm transition-colors [-webkit-tap-highlight-color:transparent] [-webkit-touch-callout:none] [word-break:break-word]
text-gray-500 hover:bg-gray-100 hover:text-gray-900 contrast-more:border contrast-more:border-transparent contrast-more:text-gray-900 contrast-more:hover:border-gray-900 dark:text-neutral-400 dark:hover:bg-primary-100/5 dark:hover:text-gray-50 contrast-more:dark:text-gray-50 contrast-more:dark:hover:border-gray-50" href=/blog/terraform/terraform-gce/>ä½¿ç”¨ Terraform å»ºç«‹ Google Compute Engine</a></li><li class="flex flex-col"><a class="flex items-center justify-between gap-2 cursor-pointer rounded px-2 py-1.5 text-sm transition-colors [-webkit-tap-highlight-color:transparent] [-webkit-touch-callout:none] [word-break:break-word]
text-gray-500 hover:bg-gray-100 hover:text-gray-900 contrast-more:border contrast-more:border-transparent contrast-more:text-gray-900 contrast-more:hover:border-gray-900 dark:text-neutral-400 dark:hover:bg-primary-100/5 dark:hover:text-gray-50 contrast-more:dark:text-gray-50 contrast-more:dark:hover:border-gray-50" href=/blog/terraform/terraform-gke/>ä½¿ç”¨ Terraform å»ºç«‹ Google Kubernetes Engine</a></li><li class="flex flex-col"><a class="flex items-center justify-between gap-2 cursor-pointer rounded px-2 py-1.5 text-sm transition-colors [-webkit-tap-highlight-color:transparent] [-webkit-touch-callout:none] [word-break:break-word]
text-gray-500 hover:bg-gray-100 hover:text-gray-900 contrast-more:border contrast-more:border-transparent contrast-more:text-gray-900 contrast-more:hover:border-gray-900 dark:text-neutral-400 dark:hover:bg-primary-100/5 dark:hover:text-gray-50 contrast-more:dark:text-gray-50 contrast-more:dark:hover:border-gray-50" href=/blog/terraform/terraform-tfstate/>Terraform å¦‚ä½•å¤šäººå…±åŒé–‹ç™¼ (å°‡ tfstate å­˜åœ¨å¾Œç«¯)</a></li><li class="flex flex-col"><a class="flex items-center justify-between gap-2 cursor-pointer rounded px-2 py-1.5 text-sm transition-colors [-webkit-tap-highlight-color:transparent] [-webkit-touch-callout:none] [word-break:break-word]
text-gray-500 hover:bg-gray-100 hover:text-gray-900 contrast-more:border contrast-more:border-transparent contrast-more:text-gray-900 contrast-more:hover:border-gray-900 dark:text-neutral-400 dark:hover:bg-primary-100/5 dark:hover:text-gray-50 contrast-more:dark:text-gray-50 contrast-more:dark:hover:border-gray-50" href=/blog/terraform/terraform-module/>å¦‚ä½•å°‡ Terraform æ”¹å¯«æˆ module ?</a></li><li class="flex flex-col"><a class="flex items-center justify-between gap-2 cursor-pointer rounded px-2 py-1.5 text-sm transition-colors [-webkit-tap-highlight-color:transparent] [-webkit-touch-callout:none] [word-break:break-word]
text-gray-500 hover:bg-gray-100 hover:text-gray-900 contrast-more:border contrast-more:border-transparent contrast-more:text-gray-900 contrast-more:hover:border-gray-900 dark:text-neutral-400 dark:hover:bg-primary-100/5 dark:hover:text-gray-50 contrast-more:dark:text-gray-50 contrast-more:dark:hover:border-gray-50" href=/blog/terraform/terragrunt/>å¦‚ä½•å°å…¥ Terragruntï¼ŒTerragrunt å¥½è™•æ˜¯ä»€éº¼ï¼Ÿ</a></li></ul></div></li><li class=open><a class="flex items-center justify-between gap-2 cursor-pointer rounded px-2 py-1.5 text-sm transition-colors [-webkit-tap-highlight-color:transparent] [-webkit-touch-callout:none] [word-break:break-word]
text-gray-500 hover:bg-gray-100 hover:text-gray-900 contrast-more:border contrast-more:border-transparent contrast-more:text-gray-900 contrast-more:hover:border-gray-900 dark:text-neutral-400 dark:hover:bg-primary-100/5 dark:hover:text-gray-50 contrast-more:dark:text-gray-50 contrast-more:dark:hover:border-gray-50" href=/blog/other/>å…¶ä»–(é‚„æƒ³ä¸åˆ°åˆ†é¡)
<span class=hextra-sidebar-collapsible-button><svg fill="none" viewBox="0 0 24 24" stroke="currentcolor" class="h-[18px] min-w-[18px] rounded-sm p-0.5 hover:bg-gray-800/5 dark:hover:bg-gray-100/5"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7" class="origin-center transition-transform rtl:-rotate-180"/></svg></span></a><div class="ltr:pr-0 overflow-hidden"><ul class='relative flex flex-col gap-1 before:absolute before:inset-y-1 before:w-px before:bg-gray-200 before:content-[""] ltr:ml-3 ltr:pl-3 ltr:before:left-0 rtl:mr-3 rtl:pr-3 rtl:before:right-0 dark:before:bg-neutral-800'><li class="flex flex-col"><a class="flex items-center justify-between gap-2 cursor-pointer rounded px-2 py-1.5 text-sm transition-colors [-webkit-tap-highlight-color:transparent] [-webkit-touch-callout:none] [word-break:break-word]
text-gray-500 hover:bg-gray-100 hover:text-gray-900 contrast-more:border contrast-more:border-transparent contrast-more:text-gray-900 contrast-more:hover:border-gray-900 dark:text-neutral-400 dark:hover:bg-primary-100/5 dark:hover:text-gray-50 contrast-more:dark:text-gray-50 contrast-more:dark:hover:border-gray-50" href=/blog/other/git-merge-multiple-commit/>å¦‚ä½•åˆä½µå¤šå€‹ commitï¼Œä¸”æ¨åˆ°é ç«¯å‘¢ï¼Ÿ</a></li><li class="flex flex-col"><a class="flex items-center justify-between gap-2 cursor-pointer rounded px-2 py-1.5 text-sm transition-colors [-webkit-tap-highlight-color:transparent] [-webkit-touch-callout:none] [word-break:break-word]
text-gray-500 hover:bg-gray-100 hover:text-gray-900 contrast-more:border contrast-more:border-transparent contrast-more:text-gray-900 contrast-more:hover:border-gray-900 dark:text-neutral-400 dark:hover:bg-primary-100/5 dark:hover:text-gray-50 contrast-more:dark:text-gray-50 contrast-more:dark:hover:border-gray-50" href=/blog/other/bookstack/>Bookstack é–‹æºçŸ¥è­˜åº«ç­†è¨˜å¹³å°å®‰è£ (K8s + docker)</a></li><li class="flex flex-col"><a class="flex items-center justify-between gap-2 cursor-pointer rounded px-2 py-1.5 text-sm transition-colors [-webkit-tap-highlight-color:transparent] [-webkit-touch-callout:none] [word-break:break-word]
text-gray-500 hover:bg-gray-100 hover:text-gray-900 contrast-more:border contrast-more:border-transparent contrast-more:text-gray-900 contrast-more:hover:border-gray-900 dark:text-neutral-400 dark:hover:bg-primary-100/5 dark:hover:text-gray-50 contrast-more:dark:text-gray-50 contrast-more:dark:hover:border-gray-50" href=/blog/other/snyk/>æ‰¾å‡ºç¨‹å¼ç¢¼ã€é–‹æºå¥—ä»¶ã€å®¹å™¨çš„å®‰å…¨æ¼æ´å·¥å…· - Snyk</a></li></ul></div></li></ul></div><div class="sticky bottom-0 bg-white dark:bg-dark mx-4 py-4 shadow-[0_-12px_16px_#fff] flex items-center gap-2 dark:border-neutral-800 dark:shadow-[0_-12px_16px_#111] contrast-more:border-neutral-400 contrast-more:shadow-none contrast-more:dark:shadow-none border-t" data-toggle-animation=show><div class="flex grow flex-col"><button title=åˆ‡æ›ä¸»é¡Œ data-theme=light class="theme-toggle group h-7 rounded-md px-2 text-left text-xs font-medium text-gray-600 transition-colors dark:text-gray-400 hover:bg-gray-100 hover:text-gray-900 dark:hover:bg-primary-100/5 dark:hover:text-gray-50" type=button aria-label=åˆ‡æ›ä¸»é¡Œ><div class="flex items-center gap-2 capitalize"><svg height="12" class="group-data-[theme=light]:hidden" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" aria-hidden="true"><path stroke-linecap="round" stroke-linejoin="round" d="M12 3v1m0 16v1m9-9h-1M4 12H3m15.364 6.364-.707-.707M6.343 6.343l-.707-.707m12.728.0-.707.707M6.343 17.657l-.707.707M16 12a4 4 0 11-8 0 4 4 0 018 0z"/></svg><span class="group-data-[theme=light]:hidden">æ·ºè‰²</span><svg height="12" class="group-data-[theme=dark]:hidden" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" aria-hidden="true"><path stroke-linecap="round" stroke-linejoin="round" d="M20.354 15.354A9 9 0 018.646 3.646 9.003 9.003.0 0012 21a9.003 9.003.0 008.354-5.646z"/></svg><span class="group-data-[theme=dark]:hidden">æ·±è‰²</span></div></button></div></div></aside><nav class="hextra-toc order-last hidden w-64 shrink-0 xl:block print:hidden px-4" aria-label="table of contents"><div class="hextra-scrollbar sticky top-16 overflow-y-auto pr-4 pt-6 text-sm [hyphens:auto] max-h-[calc(100vh-var(--navbar-height)-env(safe-area-inset-bottom))] ltr:-mr-4 rtl:-ml-4"><p class="mb-4 font-semibold tracking-tight">æ­¤é ä¸Š</p><ul><li class="my-2 scroll-my-6 scroll-py-6"><a class="font-semibold inline-block text-gray-500 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-300 contrast-more:text-gray-900 contrast-more:underline contrast-more:dark:text-gray-50 w-full break-words" href=#horizontalpodautoscaler-%e5%8e%9f%e7%90%86>HorizontalPodAutoscaler åŸç†</a></li><li class="my-2 scroll-my-6 scroll-py-6"><a class="ltr:pl-4 rtl:pr-4 inline-block text-gray-500 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-300 contrast-more:text-gray-900 contrast-more:underline contrast-more:dark:text-gray-50 w-full break-words" href=#hpa-%e6%98%af%e5%a6%82%e4%bd%95%e5%b7%a5%e4%bd%9c%e5%91%a2>HPA æ˜¯å¦‚ä½•å·¥ä½œå‘¢ï¼Ÿ</a></li><li class="my-2 scroll-my-6 scroll-py-6"><a class="font-semibold inline-block text-gray-500 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-300 contrast-more:text-gray-900 contrast-more:underline contrast-more:dark:text-gray-50 w-full break-words" href=#%e7%89%88%e6%9c%ac%e8%b3%87%e8%a8%8a>ç‰ˆæœ¬è³‡è¨Š</a></li><li class="my-2 scroll-my-6 scroll-py-6"><a class="font-semibold inline-block text-gray-500 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-300 contrast-more:text-gray-900 contrast-more:underline contrast-more:dark:text-gray-50 w-full break-words" href=#%e5%af%a6%e4%bd%9c>å¯¦ä½œ</a></li><li class="my-2 scroll-my-6 scroll-py-6"><a class="ltr:pl-4 rtl:pr-4 inline-block text-gray-500 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-300 contrast-more:text-gray-900 contrast-more:underline contrast-more:dark:text-gray-50 w-full break-words" href=#%e5%95%9f%e5%8b%95-minikube-%e5%8f%a2%e9%9b%86>å•Ÿå‹• Minikube å¢é›†</a></li><li class="my-2 scroll-my-6 scroll-py-6"><a class="ltr:pl-4 rtl:pr-4 inline-block text-gray-500 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-300 contrast-more:text-gray-900 contrast-more:underline contrast-more:dark:text-gray-50 w-full break-words" href=#%e8%a8%ad%e5%ae%9a-metrics-server>è¨­å®š Metrics Server</a></li><li class="my-2 scroll-my-6 scroll-py-6"><a class="ltr:pl-4 rtl:pr-4 inline-block text-gray-500 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-300 contrast-more:text-gray-900 contrast-more:underline contrast-more:dark:text-gray-50 w-full break-words" href=#%e9%96%8b%e5%a7%8b%e6%92%b0%e5%af%ab%e5%af%a6%e4%bd%9c%e6%aa%94%e6%a1%88>é–‹å§‹æ’°å¯«å¯¦ä½œæª”æ¡ˆ</a></li><li class="my-2 scroll-my-6 scroll-py-6"><a class="font-semibold inline-block text-gray-500 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-300 contrast-more:text-gray-900 contrast-more:underline contrast-more:dark:text-gray-50 w-full break-words" href=#%e6%b8%ac%e8%a9%a6-hpa>æ¸¬è©¦ HPA</a></li><li class="my-2 scroll-my-6 scroll-py-6"><a class="font-semibold inline-block text-gray-500 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-300 contrast-more:text-gray-900 contrast-more:underline contrast-more:dark:text-gray-50 w-full break-words" href=#%e5%b8%b8%e8%a6%8b%e5%95%8f%e9%a1%8c%e5%8f%8a%e8%a7%a3%e6%b1%ba%e8%be%a6%e6%b3%95>å¸¸è¦‹å•é¡ŒåŠè§£æ±ºè¾¦æ³•</a></li><li class="my-2 scroll-my-6 scroll-py-6"><a class="font-semibold inline-block text-gray-500 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-300 contrast-more:text-gray-900 contrast-more:underline contrast-more:dark:text-gray-50 w-full break-words" href=#%e5%8f%83%e8%80%83%e8%b3%87%e6%96%99>åƒè€ƒè³‡æ–™</a></li></ul><div class="mt-8 border-t bg-white pt-8 shadow-[0_-12px_16px_white] dark:bg-dark dark:shadow-[0_-12px_16px_#111] sticky bottom-0 flex flex-col items-start gap-2 pb-8 dark:border-neutral-800 contrast-more:border-t contrast-more:border-neutral-400 contrast-more:shadow-none contrast-more:dark:border-neutral-400"><button aria-hidden=true id=backToTop onclick=scrollUp() class="transition-all transition duration-75 opacity-0 text-xs font-medium text-gray-500 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-100 contrast-more:text-gray-800 contrast-more:dark:text-gray-50">
<span>è¿”å›é ‚éƒ¨</span><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentcolor" class="inline ml-1 h-3.5 w-3.5 border rounded-full border-gray-500 hover:border-gray-900 dark:border-gray-400 dark:hover:border-gray-100 contrast-more:border-gray-800 contrast-more:dark:border-gray-50"><path stroke-linecap="round" stroke-linejoin="round" d="M4.5 15.75l7.5-7.5 7.5 7.5"/></svg></button></div></div></nav><article class="w-full break-words flex min-h-[calc(100vh-var(--navbar-height))] min-w-0 justify-center pb-8 pr-[calc(env(safe-area-inset-right)-1.5rem)]"><main class="w-full min-w-0 max-w-6xl px-6 pt-4 md:px-12"><div class="mt-1.5 flex items-center gap-1 overflow-hidden text-sm text-gray-500 dark:text-gray-400 contrast-more:text-current"><div class="whitespace-nowrap transition-colors min-w-[24px] overflow-hidden text-ellipsis hover:text-gray-900 dark:hover:text-gray-100"><a href=https://pin-yi.me/blog/>Blog</a></div><svg class="w-3.5 shrink-0" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" aria-hidden="true"><path stroke-linecap="round" stroke-linejoin="round" d="M9 5l7 7-7 7"/></svg><div class="whitespace-nowrap transition-colors min-w-[24px] overflow-hidden text-ellipsis hover:text-gray-900 dark:hover:text-gray-100"><a href=https://pin-yi.me/blog/kubernetes/>Kubernetes</a></div><svg class="w-3.5 shrink-0" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" aria-hidden="true"><path stroke-linecap="round" stroke-linejoin="round" d="M9 5l7 7-7 7"/></svg><div class="whitespace-nowrap transition-colors font-medium text-gray-700 contrast-more:font-bold contrast-more:text-current dark:text-gray-100 contrast-more:dark:text-current">Kubernetes (K8s) HorizontalPodAutoscaler (HPA) åŸç†èˆ‡å¯¦ä½œ</div></div><div class=content><h1>Kubernetes (K8s) HorizontalPodAutoscaler (HPA) åŸç†èˆ‡å¯¦ä½œ</h1><p>æ­¤ç¯‡æ˜¯è¦ä»‹ç´¹ HorizontalPodAutoscaler (HPA) çš„åŸç†ä»¥åŠå¯¦ä½œå…§å®¹ï¼Œé‚£æˆ‘å€‘å…ˆä¾†èªªæ˜ä¸€ä¸‹ HorizontalPodAutoscaler æ˜¯ä»€éº¼å§ï¼</p><br><h2>HorizontalPodAutoscaler åŸç†<span class="absolute -mt-20" id=horizontalpodautoscaler-åŸç†></span>
<a href=#horizontalpodautoscaler-%e5%8e%9f%e7%90%86 class=subheading-anchor aria-label="Permalink for this section"></a></h2><p>HorizontalPodAutoscaler (HPA) ä¸­æ–‡å¯ä»¥å«æ°´å¹³ Pod è‡ªå‹•æ“´ç¸®ï¼Œä»–æœƒè‡ªå‹•æ›´æ–°å·¥ä½œè² è¼‰è³‡æº (Deployment æˆ– StatefulSet)ï¼Œå…¶ç›®çš„æ˜¯é€éè‡ªå‹•æ“´ç¸®å·¥ä½œè² è¼‰ä¾†æ»¿è¶³ä½¿ç”¨éœ€æ±‚ã€‚</p><p>ç°¡å–®ä¾†èªªä»–æœƒæ ¹æ“šä½ ç¾åœ¨çš„è² è¼‰å»èª¿æ•´ä½ çš„ Pod æ•¸é‡ï¼Œç•¶ç›®å‰çš„è² è¼‰è¶…éé…ç½®çš„è¨­å®šæ™‚ï¼ŒHPA æœƒæŒ‡ç¤ºå·¥ä½œè² è¼‰è³‡æº (Deployment æˆ– StatefulSet) æ“´å¢ï¼Œä¾†é¿å…å¡çˆ†åŒä¸€å€‹è² è¼‰è³‡æºã€‚</p><p>å¦‚æœè² è¼‰æ¸›å°‘ï¼Œä¸” Pod æ•¸é‡é«˜æ–¼é…ç½®çš„æœ€å°å€¼ï¼ŒHPA ä¹ŸæœƒæŒ‡ç¤ºå·¥ä½œè² è¼‰è³‡æº (Deployment æˆ– StatefulSet) æ…¢æ…¢ç¸®æ¸›ã€‚å…¶ä¸­æ°´å¹³ Pod è‡ªå‹•æ“´ç¸®ä¸é©ç”¨ DaemonSet å·¥ä½œè² è¼‰è³‡æºã€‚</p><br><h3>HPA æ˜¯å¦‚ä½•å·¥ä½œå‘¢ï¼Ÿ<span class="absolute -mt-20" id=hpa-æ˜¯å¦‚ä½•å·¥ä½œå‘¢></span>
<a href=#hpa-%e6%98%af%e5%a6%82%e4%bd%95%e5%b7%a5%e4%bd%9c%e5%91%a2 class=subheading-anchor aria-label="Permalink for this section"></a></h3><br><figure><img src=/kubernetes/k8s-hpa/1.png alt="HorizontalPodAutoscaler å·¥ä½œæµç¨‹åœ–" width=650><figcaption><p>HorizontalPodAutoscaler å·¥ä½œæµç¨‹åœ–</p></figcaption></figure><br><p>Kubernetes å°‡æ°´å¹³ Pod è‡ªå‹•æ“´ç¸®å®šç¾©ç‚ºä¸€å€‹é–“æ­‡é‹è¡Œçš„æ§åˆ¶è¿´è·¯ï¼Œä»–ä¸æ˜¯é€£çºŒçš„ï¼Œå…¶é–“éš”æ˜¯ç”± <code>kube-controller-manager</code> çš„ <code>--horizontal-pod-autoscaler-sync-period</code> åƒæ•¸ä¾†é…ç½®ï¼Œé è¨­æ˜¯ 15 ç§’ï¼Œcontroller-manager æœƒä¾æ“šæ¯ä¸€å€‹ HPA å®šç¾©çš„ <code>scaleTargetRef</code> ä¾†æ‰¾åˆ°æ˜¯å“ªä¸€å€‹å·¥ä½œè² è¼‰è³‡æºéœ€è¦é€²è¡Œæ°´å¹³ Pod è‡ªå‹•æ“´ç¸®ï¼Œç„¶å¾Œæ ¹æ“šç›®æ¨™è³‡æºçš„ <code>.spec.selector</code> æ¨™ç±¤é¸æ“‡å°æ‡‰çš„ Podï¼Œä¸¦å¾è³‡æºæŒ‡æ¨™ API æˆ–è‡ªå®šç¾©æŒ‡æ¨™ç²å– APIï¼Œç›®å‰ç¸½å…±æœ‰ä¸‰ç¨®çš„è³‡æºæŒ‡æ¨™ï¼Œåˆ†åˆ¥æ˜¯ CPUã€Memoryã€è‡ªå®šç¾©æŒ‡æ¨™ã€‚</p><br><br><p>æœ‰é—œæ–¼å…¶ä»– Kubernetes è§€å¿µéƒ¨åˆ†ï¼Œå¯ä»¥å…ˆæŸ¥çœ‹ï¼š</p><ul><li>Kubernetes : <a href=https://pin-yi.me/k8s/ target=_blank rel=noopener>Kubernetes (K8s) ä»‹ç´¹ - åŸºæœ¬</a></li><li>kubernetes : <a href=https://pin-yi.me/k8s-advanced/ target=_blank rel=noopener>Kubernetes (K8s) ä»‹ç´¹ - é€²éš (Serviceã€Ingressã€StatefulSetã€Deploymentã€ReplicaSetã€ConfigMap)</a></li></ul><br><p>æ­¤æ–‡ç« ç¨‹å¼ç¢¼ä¹ŸæœƒåŒæ­¥åˆ° Github ï¼Œéœ€è¦çš„ä¹Ÿå¯ä»¥å» clone ä½¿ç”¨æ­ï¼è¦è¨˜å¾—å…ˆç¢ºå®šä¸€ä¸‹è‡ªå·±çš„ç‰ˆæœ¬ <a href=https://github.com/880831ian/Kubernetes-HPA target=_blank rel=noopener>Github ç¨‹å¼ç¢¼é€£çµ</a> ğŸ˜†</p><br><h2>ç‰ˆæœ¬è³‡è¨Š<span class="absolute -mt-20" id=ç‰ˆæœ¬è³‡è¨Š></span>
<a href=#%e7%89%88%e6%9c%ac%e8%b3%87%e8%a8%8a class=subheading-anchor aria-label="Permalink for this section"></a></h2><ul><li>macOSï¼š11.6</li><li>Minikubeï¼šv1.25.2</li><li>Kubectlï¼šClient Versionï¼šv1.24.1ã€Server Versionï¼šv1.23.3</li><li>Metrics Server <a href=https://github.com/kubernetes-sigs/metrics-server/releases/tag/metrics-server-helm-chart-3.8.2 target=_blank rel=noopener>3.8.2</a></li></ul><br><h2>å¯¦ä½œ<span class="absolute -mt-20" id=å¯¦ä½œ></span>
<a href=#%e5%af%a6%e4%bd%9c class=subheading-anchor aria-label="Permalink for this section"></a></h2><p>é€™æ¬¡å¯¦ä½œè¦ä½¿ç”¨çš„å¢é›†æ˜¯ Minikubeï¼Œæ‰€ä»¥ç…§ä»¥å‰æ–‡ç« ä¸€æ¨£ï¼Œæˆ‘å€‘å…ˆå•Ÿå‹• Minikubeã€‚æœ¬æ¬¡æœƒä½¿ç”¨ K8s çš„ç®¡ç†å·¥å…·ï¼š<a href=https://k8slens.dev/ target=_blank rel=noopener>k8slens</a> ä¾†åšç‚ºè¼”åŠ©ï¼Œå¤§å®¶æœ‰èˆˆè¶£ä¹Ÿå¯ä»¥å…ˆå»ä¸‹è¼‰ä¾†ä½¿ç”¨æ­ ğŸ˜˜</p><h3>å•Ÿå‹• Minikube å¢é›†<span class="absolute -mt-20" id=å•Ÿå‹•-minikube-å¢é›†></span>
<a href=#%e5%95%9f%e5%8b%95-minikube-%e5%8f%a2%e9%9b%86 class=subheading-anchor aria-label="Permalink for this section"></a></h3><ol><li>å•Ÿå‹• Minikube å¢é›†</li></ol><div class="code-block relative mt-6 first:mt-0 group/code"><div><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span>minikube start --vm-driver<span style=color:#f92672>=</span>docker</span></span></code></pre></div></div><div class="opacity-0 transition group-hover/code:opacity-100 flex gap-1 absolute m-[11px] right-0 top-0"><button class="code-copy-btn group/copybtn transition-all active:opacity-50 bg-primary-700/5 border border-black/5 text-gray-600 hover:text-gray-900 rounded-md p-1.5 dark:bg-primary-300/10 dark:border-white/10 dark:text-gray-400 dark:hover:text-gray-50" title="Copy code"><div class="group-[.copied]/copybtn:hidden copy-icon pointer-events-none h-4 w-4"></div><div class="hidden group-[.copied]/copybtn:block success-icon pointer-events-none h-4 w-4"></div></button></div></div><br><figure><img src=/kubernetes/k8s-hpa/2.png alt="å•Ÿå‹• Minikube" width=800><figcaption><p>å•Ÿå‹• Minikube</p></figcaption></figure><br><h3>è¨­å®š Metrics Server<span class="absolute -mt-20" id=è¨­å®š-metrics-server></span>
<a href=#%e8%a8%ad%e5%ae%9a-metrics-server class=subheading-anchor aria-label="Permalink for this section"></a></h3><p>ç”±æ–¼æˆ‘å€‘ HorizontalPodAutoscaler æœƒæ ¹æ“šç¾åœ¨çš„è² è¼‰ä¾†åˆ¤æ–·æ˜¯å¦è¦æ–°å¢æ–°çš„ Pod ä¾†è§£æ±ºè² è¼‰è³‡æºç”¨å®Œçš„å•é¡Œï¼Œæ‰€ä»¥ç¬¬ä¸€å€‹æ¢ä»¶å°±æ˜¯è¦å…ˆç²çš„ç›®å‰çš„è² è¼‰è³‡æºä½¿ç”¨é‡ï¼Œé€™æ™‚å€™æˆ‘å€‘å¿…é ˆå…ˆåœ¨ K8s å¢é›†ä¸Šå®‰è£ <code>Metrics Server</code>ï¼Œé€éä»–è®“æˆ‘å€‘å¯ä»¥çŸ¥é“ç›®å‰çš„è² è¼‰ä½¿ç”¨é‡ï¼</p><ol start=2><li><p>å…ˆåˆ° <a href=https://github.com/kubernetes-sigs/metrics-server target=_blank rel=noopener>kubernetes-sigs/metrics-server</a> ä¸‹è¼‰æœ€æ–°çš„ components.yaml æª”æ¡ˆä¸‹ä¾†ï¼Œä»¥æˆ‘é€™æ¬¡ç¤ºç¯„çš„ç‰ˆæœ¬ç‚ºä¾‹ï¼Œ<a href=https://github.com/kubernetes-sigs/metrics-server/releases/tag/metrics-server-helm-chart-3.8.2 target=_blank rel=noopener>å¤§å®¶å¯ä»¥é»æˆ‘ä¸‹è¼‰ ğŸ‘‡</a></p></li><li><p>ä¸‹è¼‰å®Œï¼Œéœ€è¦å…ˆä¿®æ”¹å…©å€‹åœ°æ–¹ï¼Œæ‰èƒ½ apply åˆ° Minikube å¢é›†ï¼Œç¬¬ä¸€å€‹æ˜¯ä¿®æ”¹ <code>kubelet-preferred-address-types=InternalIP</code>ï¼Œä»¥åŠæ–°å¢ <code>kubelet-insecure-tls=ture</code> è®“ Metrics Server ç¦ç”¨ TLS è­‰æ›¸é©—è­‰ï¼Œè©³ç´°å¯ä»¥åƒè€ƒä»¥ä¸‹ç…§ç‰‡ï¼š</p></li></ol><br><figure><img src=/kubernetes/k8s-hpa/3.png alt="ä¿®æ”¹ components.yaml" width=1200><figcaption><p>ä¿®æ”¹ components.yaml</p></figcaption></figure><br><ol start=4><li>æ¥è‘— apply é€™å€‹ yaml æª”æ¡ˆï¼š</li></ol><br><figure><img src=/kubernetes/k8s-hpa/4.png alt="apply components.yaml" width=800><figcaption><p>apply components.yaml</p></figcaption></figure><br><p>å¯ä»¥æª¢æŸ¥ä¸€ä¸‹ deployment.apps/metrics-server æ˜¯å¦æœ‰æˆåŠŸå»ºç«‹æˆ–æ˜¯ Pod æ˜¯å¦æœ‰å•é¡Œï¼š</p><br><figure><img src=/kubernetes/k8s-hpa/5.png alt="æª¢æŸ¥ metrics-server æ˜¯å¦æœ‰å•é¡Œ" width=1200><figcaption><p>æª¢æŸ¥ metrics-server æ˜¯å¦æœ‰å•é¡Œ</p></figcaption></figure><br><h3>é–‹å§‹æ’°å¯«å¯¦ä½œæª”æ¡ˆ<span class="absolute -mt-20" id=é–‹å§‹æ’°å¯«å¯¦ä½œæª”æ¡ˆ></span>
<a href=#%e9%96%8b%e5%a7%8b%e6%92%b0%e5%af%ab%e5%af%a6%e4%bd%9c%e6%aa%94%e6%a1%88 class=subheading-anchor aria-label="Permalink for this section"></a></h3><ol start=5><li>æ¥è‘—æˆ‘å€‘å°±ä¾ç…§å®˜æ–¹çš„ <a href=https://kubernetes.io/docs/tasks/run-application/horizontal-pod-autoscale-walkthrough/ target=_blank rel=noopener>HorizontalPodAutoscaler Walkthrough</a> çš„æ–‡ç« é–‹å§‹å›‰ï¼é¦–å…ˆå…ˆå¯«ä¸€å€‹ index.phpï¼Œé€™å€‹æª”æ¡ˆæ˜¯ç”¨æ–¼å¾ŒçºŒæ¸¬è©¦ HPA è² è¼‰ä½¿ç”¨é‡çš„ç¨‹å¼ï¼š</li></ol><br><figure><img src=/kubernetes/k8s-hpa/6.png alt=index.php width=500><figcaption><p>index.php</p></figcaption></figure><br><ol start=6><li>æ–°å¢ Dockerfileï¼Œæˆ‘å€‘ä½¿ç”¨ php:5-apache çš„ imageï¼Œä¸¦è¤‡è£½å‰›å‰›å¯«çš„ index.php åˆ°å®¹å™¨å…§ï¼š</li></ol><br><figure><img src=/kubernetes/k8s-hpa/7.png alt=Dockerfile width=500><figcaption><p>Dockerfile</p></figcaption></figure><br><ol start=7><li>å°‡è©² Dockerfile Build èµ·ä¾†ï¼Œæ¨åˆ° DockerHub ä¸Šï¼Œé€™éƒ¨åˆ†å°±ä¸å¤šèªªæ˜ï¼Œæœ‰èˆˆè¶£å¯ä»¥åƒè€ƒä»¥å‰æ–‡ç« ï¼Œå¤§å®¶å¯ä»¥ç›´æ¥ä½¿ç”¨ <a href=https://hub.docker.com/repository/docker/880831ian/php-apache target=_blank rel=noopener>880831ian/php-apache</a> æˆ‘æ¨å¥½çš„ image ä¾†ä½¿ç”¨ã€‚</li><li>æ–°å¢ Deployment.yamlï¼Œè£¡é¢æœƒä½¿ç”¨æˆ‘å€‘å‰›å‰›æ‰“åŒ…æ¨åˆ° DockerHub ä¸Šçš„ imageï¼š</li></ol><div class="code-block relative mt-6 first:mt-0 group/code"><div><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-yaml data-lang=yaml><span style=display:flex><span><span style=color:#f92672>apiVersion</span>: <span style=color:#ae81ff>apps/v1</span>
</span></span><span style=display:flex><span><span style=color:#f92672>kind</span>: <span style=color:#ae81ff>Deployment</span>
</span></span><span style=display:flex><span><span style=color:#f92672>metadata</span>:
</span></span><span style=display:flex><span>  <span style=color:#f92672>name</span>: <span style=color:#ae81ff>php-apache</span>
</span></span><span style=display:flex><span><span style=color:#f92672>spec</span>:
</span></span><span style=display:flex><span>  <span style=color:#f92672>selector</span>:
</span></span><span style=display:flex><span>    <span style=color:#f92672>matchLabels</span>:
</span></span><span style=display:flex><span>      <span style=color:#f92672>run</span>: <span style=color:#ae81ff>php-apache</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>replicas</span>: <span style=color:#ae81ff>1</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>template</span>:
</span></span><span style=display:flex><span>    <span style=color:#f92672>metadata</span>:
</span></span><span style=display:flex><span>      <span style=color:#f92672>labels</span>:
</span></span><span style=display:flex><span>        <span style=color:#f92672>run</span>: <span style=color:#ae81ff>php-apache</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>spec</span>:
</span></span><span style=display:flex><span>      <span style=color:#f92672>containers</span>:
</span></span><span style=display:flex><span>        - <span style=color:#f92672>name</span>: <span style=color:#ae81ff>php-apache</span>
</span></span><span style=display:flex><span>          <span style=color:#f92672>image</span>: <span style=color:#ae81ff>880831ian/php-apache</span>
</span></span><span style=display:flex><span>          <span style=color:#f92672>ports</span>:
</span></span><span style=display:flex><span>            - <span style=color:#f92672>containerPort</span>: <span style=color:#ae81ff>80</span>
</span></span><span style=display:flex><span>          <span style=color:#f92672>resources</span>:
</span></span><span style=display:flex><span>            <span style=color:#f92672>limits</span>:
</span></span><span style=display:flex><span>              <span style=color:#f92672>cpu</span>: <span style=color:#ae81ff>500m</span>
</span></span><span style=display:flex><span>            <span style=color:#f92672>requests</span>:
</span></span><span style=display:flex><span>              <span style=color:#f92672>cpu</span>: <span style=color:#ae81ff>200m</span>
</span></span><span style=display:flex><span>---
</span></span><span style=display:flex><span><span style=color:#f92672>apiVersion</span>: <span style=color:#ae81ff>v1</span>
</span></span><span style=display:flex><span><span style=color:#f92672>kind</span>: <span style=color:#ae81ff>Service</span>
</span></span><span style=display:flex><span><span style=color:#f92672>metadata</span>:
</span></span><span style=display:flex><span>  <span style=color:#f92672>name</span>: <span style=color:#ae81ff>php-apache</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>labels</span>:
</span></span><span style=display:flex><span>    <span style=color:#f92672>run</span>: <span style=color:#ae81ff>php-apache</span>
</span></span><span style=display:flex><span><span style=color:#f92672>spec</span>:
</span></span><span style=display:flex><span>  <span style=color:#f92672>ports</span>:
</span></span><span style=display:flex><span>    - <span style=color:#f92672>port</span>: <span style=color:#ae81ff>80</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>selector</span>:
</span></span><span style=display:flex><span>    <span style=color:#f92672>run</span>: <span style=color:#ae81ff>php-apache</span></span></span></code></pre></div></div><div class="opacity-0 transition group-hover/code:opacity-100 flex gap-1 absolute m-[11px] right-0 top-0"><button class="code-copy-btn group/copybtn transition-all active:opacity-50 bg-primary-700/5 border border-black/5 text-gray-600 hover:text-gray-900 rounded-md p-1.5 dark:bg-primary-300/10 dark:border-white/10 dark:text-gray-400 dark:hover:text-gray-50" title="Copy code"><div class="group-[.copied]/copybtn:hidden copy-icon pointer-events-none h-4 w-4"></div><div class="hidden group-[.copied]/copybtn:block success-icon pointer-events-none h-4 w-4"></div></button></div></div><p>é€™é‚Šå¤§å®¶å¯ä»¥å…ˆè¨˜å¾—æˆ‘å€‘åœ¨ containers.resources æœ‰è¨­å®š cpu çš„ requests ç‚º 200mã€‚å¾ŒçºŒåœ¨è¨ˆç®—å‰¯æœ¬æ•¸æ™‚æœƒå†æåˆ° ğŸ˜¬</p><br><ol start=9><li>æœ€å¾Œå°‡ Deployment.yaml çµ¦ applyï¼Œæª¢æŸ¥ä¸€ä¸‹æ˜¯å¦æœ‰æ­£å¸¸å•Ÿå‹•ï¼š</li></ol><br><figure><img src=/kubernetes/k8s-hpa/8.png alt="k8slens æª¢æŸ¥æ˜¯å¦æ­£å¸¸" width=1200><figcaption><p>k8slens æª¢æŸ¥æ˜¯å¦æ­£å¸¸</p></figcaption></figure><br><ol start=10><li>ä½¿ç”¨ <code>kubectl autoscale</code> ä¾†å¹«åŠ©æˆ‘å€‘å‰µå»º HorizontalPodAutoscalerï¼š</li></ol><div class="code-block relative mt-6 first:mt-0 group/code"><div><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span>kubectl autoscale deployment php-apache --cpu-percent<span style=color:#f92672>=</span><span style=color:#ae81ff>50</span> --min<span style=color:#f92672>=</span><span style=color:#ae81ff>1</span> --max<span style=color:#f92672>=</span><span style=color:#ae81ff>10</span></span></span></code></pre></div></div><div class="opacity-0 transition group-hover/code:opacity-100 flex gap-1 absolute m-[11px] right-0 top-0"><button class="code-copy-btn group/copybtn transition-all active:opacity-50 bg-primary-700/5 border border-black/5 text-gray-600 hover:text-gray-900 rounded-md p-1.5 dark:bg-primary-300/10 dark:border-white/10 dark:text-gray-400 dark:hover:text-gray-50" title="Copy code"><div class="group-[.copied]/copybtn:hidden copy-icon pointer-events-none h-4 w-4"></div><div class="hidden group-[.copied]/copybtn:block success-icon pointer-events-none h-4 w-4"></div></button></div></div><br><div class="overflow-x-auto mt-6 flex rounded-lg border py-2 ltr:pr-4 rtl:pl-4 contrast-more:border-current contrast-more:dark:border-current border-orange-100 bg-orange-50 text-orange-800 dark:border-orange-400/30 dark:bg-orange-400/20 dark:text-orange-300"><div class="ltr:pl-3 ltr:pr-2 rtl:pr-3 rtl:pl-2"></div><div class="w-full min-w-0 leading-7"><div class="mt-6 leading-7 first:mt-0">æˆ‘å€‘åœ¨ Deployment.yaml è£¡é¢ <code>containers.resources</code> æœ‰è¨­å®š cpu çš„ requests æ˜¯ 200mï¼Œä¹Ÿå°±æ˜¯ 200 milli-coresï¼Œç•¶æˆ‘å€‘ç¾åœ¨è¨­å®š HPA çš„å¹³å‡ CPU ä½¿ç”¨ç‡ç‚º 50%ï¼Œæ‰€ä»¥æˆ‘å€‘åªè¦è¶…é 200m / 2 = 100mï¼Œä¹Ÿå°±æ˜¯ requests è¶…é 100 milli-cores å°±æœƒç”¢ç”Ÿæ–°çš„ Podã€‚é€™é‚Šæœ€å°‘ Pod ç‚º 1ï¼Œæœ€å¤šç‚º 10ã€‚å¾ŒçºŒç­‰æ¸¬è©¦æ™‚ï¼Œæœƒå¸¶å¤§å®¶è¨ˆç®—ä»–æ˜¯å¦‚ä½•ç”¢ç”Ÿ Pod çš„ ğŸ˜</div></div></div><br><ol start=11><li>æŸ¥çœ‹ç›®å‰ HPA ä½¿ç”¨é‡ï¼Œå› ç‚ºæˆ‘å€‘é€™å€‹ php-apache é‚„æ²’æœ‰ä»»ä½•çš„è¨ªå•ï¼Œæ‰€ä»¥æ˜¯ 0% / 50% (æ‰¿ä¸Šé¢æ‰€èªªï¼Œæ‰€ä»¥é€™é‚Šçš„å€¼æ˜¯ 0 / 100 milli-cores)ï¼Œå¾Œé¢ä¹Ÿå¯ä»¥çœ‹åˆ°æˆ‘å€‘æ‰€è¨­å®šæœ€é«˜è·Ÿæœ€ä½çš„ Podï¼Œä»¥åŠç›®å‰çš„å‰¯æœ¬æ•¸ã€‚</li></ol><br><figure><img src=/kubernetes/k8s-hpa/9.png alt="æŸ¥çœ‹ç›®å‰ HPA ä½¿ç”¨é‡" width=700><figcaption><p>æŸ¥çœ‹ç›®å‰ HPA ä½¿ç”¨é‡</p></figcaption></figure><br><ol start=12><li>ç•¶ç„¶æˆ‘å€‘é™¤äº†ç”¨å‰›å‰›çš„æŒ‡ä»¤ä»¥å¤–ï¼Œæˆ‘å€‘ä¹Ÿå¯ä»¥è‡ªå·±å¯« HPA çš„ yaml æª”æ¡ˆã€‚æˆ‘é€™é‚Šå…ˆä½¿ç”¨ <code>kubectl get hpa php-apache -o yaml > hpa.yaml</code> ä¾†å°‡å‰›å‰›ç”¨æŒ‡ä»¤ run èµ·ä¾†çš„ HPA è®Šæˆ yaml æª”ï¼Œæˆ‘å€‘ä¾†çœ‹çœ‹è£¡é¢æœ‰å“ªäº›å…§å®¹å§ï¼š</li></ol><div class="code-block relative mt-6 first:mt-0 group/code"><div><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-yaml data-lang=yaml><span style=display:flex><span><span style=color:#f92672>apiVersion</span>: <span style=color:#ae81ff>autoscaling/v2</span>
</span></span><span style=display:flex><span><span style=color:#f92672>kind</span>: <span style=color:#ae81ff>HorizontalPodAutoscaler</span>
</span></span><span style=display:flex><span><span style=color:#f92672>metadata</span>:
</span></span><span style=display:flex><span>  <span style=color:#f92672>creationTimestamp</span>: <span style=color:#e6db74>&#34;2022-07-12T03:16:11Z&#34;</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>name</span>: <span style=color:#ae81ff>php-apache</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>namespace</span>: <span style=color:#ae81ff>default</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>resourceVersion</span>: <span style=color:#e6db74>&#34;19454&#34;</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>uid</span>: <span style=color:#ae81ff>dde68e68-9b6e-46a8-b50f-5525b8ec3bdf</span>
</span></span><span style=display:flex><span><span style=color:#f92672>spec</span>:
</span></span><span style=display:flex><span>  <span style=color:#f92672>maxReplicas</span>: <span style=color:#ae81ff>10</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>metrics</span>:
</span></span><span style=display:flex><span>  - <span style=color:#f92672>resource</span>:
</span></span><span style=display:flex><span>      <span style=color:#f92672>name</span>: <span style=color:#ae81ff>cpu</span>
</span></span><span style=display:flex><span>      <span style=color:#f92672>target</span>:
</span></span><span style=display:flex><span>        <span style=color:#f92672>averageUtilization</span>: <span style=color:#ae81ff>50</span>
</span></span><span style=display:flex><span>        <span style=color:#f92672>type</span>: <span style=color:#ae81ff>Utilization</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>type</span>: <span style=color:#ae81ff>Resource</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>minReplicas</span>: <span style=color:#ae81ff>1</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>scaleTargetRef</span>:
</span></span><span style=display:flex><span>    <span style=color:#f92672>apiVersion</span>: <span style=color:#ae81ff>apps/v1</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>kind</span>: <span style=color:#ae81ff>Deployment</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>name</span>: <span style=color:#ae81ff>php-apache</span>
</span></span><span style=display:flex><span><span style=color:#ae81ff>å¾Œé¢ç‹€æ…‹çœç•¥....</span></span></span></code></pre></div></div><div class="opacity-0 transition group-hover/code:opacity-100 flex gap-1 absolute m-[11px] right-0 top-0"><button class="code-copy-btn group/copybtn transition-all active:opacity-50 bg-primary-700/5 border border-black/5 text-gray-600 hover:text-gray-900 rounded-md p-1.5 dark:bg-primary-300/10 dark:border-white/10 dark:text-gray-400 dark:hover:text-gray-50" title="Copy code"><div class="group-[.copied]/copybtn:hidden copy-icon pointer-events-none h-4 w-4"></div><div class="hidden group-[.copied]/copybtn:block success-icon pointer-events-none h-4 w-4"></div></button></div></div><ul><li>apiVersionï¼šè¦è¨˜å¾—ä½¿ç”¨ <code>autoscaling/v2</code></li><li>kindï¼šHorizontalPodAutoscaler</li><li>maxReplicasï¼šæ˜¯æˆ‘å€‘å‰›å‰›ç”¨æŒ‡ä»¤çš„æœ€å¤§ Pod å‰¯æœ¬æ•¸</li><li>metricsï¼šæˆ‘å€‘æŒ‡æ¨™è¨­å®š cpu resourceï¼Œå…¶è¨­å®šå¹³å‡ä½¿ç”¨ç‡ç‚º 50 % (ç™¾åˆ†æ¯”)</li><li>minReplicasï¼šå‰›å‰›ç”¨æŒ‡ä»¤çš„æœ€å° Pod å‰¯æœ¬æ•¸</li><li>scaleTargetRefï¼šè¨­å®šæˆ‘å€‘é€™å€‹ HPA æ˜¯ä¾ç…§ php-apache é€™å€‹ Deploymentã€‚</li></ul><br><h2>æ¸¬è©¦ HPA<span class="absolute -mt-20" id=æ¸¬è©¦-hpa></span>
<a href=#%e6%b8%ac%e8%a9%a6-hpa class=subheading-anchor aria-label="Permalink for this section"></a></h2><ol><li>æ¥ä¸‹ä¾†æˆ‘å€‘éƒ½è¨­å®šå¥½å¾Œï¼Œæˆ‘å€‘è¦ä¾†æ¨¡æ“¬å¢åŠ è² è¼‰ï¼Œçœ‹çœ‹ HPA çš„å¾ŒçºŒå‹•ä½œï¼Œé¦–å…ˆæˆ‘å€‘å…ˆä½¿ç”¨ä»¥ä¸‹æŒ‡ä»¤ä¾†æŒçºŒè§€å¯Ÿ HPAï¼š</li></ol><div class="code-block relative mt-6 first:mt-0 group/code"><div><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span>kubectl get hpa php-apache --watch
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>NAME         REFERENCE               TARGETS   MINPODS   MAXPODS   REPLICAS   AGE
</span></span><span style=display:flex><span>php-apache   Deployment/php-apache   0%/50%    <span style=color:#ae81ff>1</span>         <span style=color:#ae81ff>10</span>        <span style=color:#ae81ff>1</span>          4h40m</span></span></code></pre></div></div><div class="opacity-0 transition group-hover/code:opacity-100 flex gap-1 absolute m-[11px] right-0 top-0"><button class="code-copy-btn group/copybtn transition-all active:opacity-50 bg-primary-700/5 border border-black/5 text-gray-600 hover:text-gray-900 rounded-md p-1.5 dark:bg-primary-300/10 dark:border-white/10 dark:text-gray-400 dark:hover:text-gray-50" title="Copy code"><div class="group-[.copied]/copybtn:hidden copy-icon pointer-events-none h-4 w-4"></div><div class="hidden group-[.copied]/copybtn:block success-icon pointer-events-none h-4 w-4"></div></button></div></div><br><ol start=2><li>ä»¥åŠåŸ·è¡Œä»¥ä¸‹æŒ‡ä»¤ï¼Œè©²æŒ‡ä»¤æ˜¯å»ºä¸€å€‹æ–°çš„ Podï¼Œç”±æ–°çš„ Pod ç„¡é™å¾ªç’°çš„å»å‘ php-apahe æœå‹™ç™¼å‡ºè«‹æ±‚</li></ol><div class="code-block relative mt-6 first:mt-0 group/code"><div><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span>kubectl run -i --tty load-generator --rm --image<span style=color:#f92672>=</span>busybox:1.28 --restart<span style=color:#f92672>=</span>Never -- /bin/sh -c <span style=color:#e6db74>&#34;while sleep 0.01; do wget -q -O- http://php-apache; done&#34;</span></span></span></code></pre></div></div><div class="opacity-0 transition group-hover/code:opacity-100 flex gap-1 absolute m-[11px] right-0 top-0"><button class="code-copy-btn group/copybtn transition-all active:opacity-50 bg-primary-700/5 border border-black/5 text-gray-600 hover:text-gray-900 rounded-md p-1.5 dark:bg-primary-300/10 dark:border-white/10 dark:text-gray-400 dark:hover:text-gray-50" title="Copy code"><div class="group-[.copied]/copybtn:hidden copy-icon pointer-events-none h-4 w-4"></div><div class="hidden group-[.copied]/copybtn:block success-icon pointer-events-none h-4 w-4"></div></button></div></div><br><figure><img src=/kubernetes/k8s-hpa/10.png alt=æ¨¡æ“¬å¢åŠ è² è¼‰ width=800><figcaption><p>æ¨¡æ“¬å¢åŠ è² è¼‰</p></figcaption></figure><br><ol start=3><li>æˆ‘å€‘ä½¿ç”¨ k8slens è§€å¯Ÿï¼Œæœƒç™¼ç¾ç•¶è² è¼‰ä½¿ç”¨é‡è¶…éæˆ‘å€‘å‰é¢æ‰€è¨­å®šçš„ 50%ï¼Œä¹Ÿå°±æ˜¯ 100 milli-cores æ™‚ï¼Œä»–å°±æœƒè‡ªå‹•é•·æ–°çš„ Pod å‡ºä¾†ï¼š</li></ol><br><figure><img src=/kubernetes/k8s-hpa/11.png alt="HPA è‡ªå‹•é•· Pod" width=1100><figcaption><p>HPA è‡ªå‹•é•· Pod</p></figcaption></figure><br><ol start=4><li>æˆ‘å€‘åˆ‡å›å»çœ‹è§€å¯Ÿ HPA æŒ‡ä»¤ <code>kubectl get hpa php-apache --watch</code>ï¼š</li></ol><br><figure><img src=/kubernetes/k8s-hpa/12.png alt="è§€å¯Ÿ HPA" width=800><figcaption><p>è§€å¯Ÿ HPA</p></figcaption></figure><br><div class="overflow-x-auto mt-6 flex rounded-lg border py-2 ltr:pr-4 rtl:pl-4 contrast-more:border-current contrast-more:dark:border-current border-orange-100 bg-orange-50 text-orange-800 dark:border-orange-400/30 dark:bg-orange-400/20 dark:text-orange-300"><div class="ltr:pl-3 ltr:pr-2 rtl:pr-3 rtl:pl-2"></div><div class="w-full min-w-0 leading-7"><div class="mt-6 leading-7 first:mt-0"><p>æˆ‘å€‘å‰›å‰›æœ‰èªªè¶…é 50%ï¼Œä¹Ÿå°±æ˜¯ 100 milli-cores æ™‚ï¼Œæœƒé•·æ–°çš„ Podã€‚æˆ‘å€‘ä»¥ä¸Šé¢åœ–ç‰‡çš„ä¾†èªªæ˜ï¼Œä¾†è¨ˆç®—æœŸæœ›éœ€è¦å¹¾å€‹å‰¯æœ¬?</p><p>å®˜æ–¹æœ‰æä¾›ä¸€å€‹å…¬å¼ï¼š <code>æœŸæœ›å‰¯æœ¬æ•° = ceil[ç›®å‰å‰¯æœ¬æ•° * (ç›®å‰æŒ‡æ¨™ / æœŸæœ›æŒ‡æ¨™)]</code> ï¼Œå¯ä»¥çœ‹åˆ°æˆ‘å€‘è² è¼‰å¾ 0% å¾åˆ° 250%ï¼Œä¹Ÿå°±æ˜¯æˆ‘å€‘å¯¦éš›ä¸Šæ˜¯å¾ 0 è®Šæˆ 500 milli-cores (250 / 50 _ 100 )ã€‚æˆ‘å€‘å°‡å€¼å¸¶å…¥å…¬å¼å…§ï¼Œ<code>ç›®å‰çš„å‰¯æœ¬ï¼š1 _ (ç›®å‰æŒ‡æ¨™ï¼š500 / æœŸæœ›æŒ‡æ¨™æ˜¯ï¼š100)</code>å¾—å‡ºä¾†çš„å€¼æ˜¯ 5ï¼Œå¦‚æœæœ‰å°æ•¸ï¼Œå› ç‚ºå‰é¢æœ‰<code>ceil</code>ï¼Œæ‰€ä»¥æœƒå–æ•´æ•¸(ä¸å¯èƒ½é–‹åŠå€‹ Pod å°å§ ğŸ™„)ï¼Œæœ€å¾Œä»¥é€™å€‹ä¾‹å­ä¾†èªªï¼Œæœ€çµ‚å¾—åˆ°çš„ <code>æœŸæœ›å‰¯æœ¬æ•° = 5</code></p></div></div></div><br><ol start=5><li>æ ¹æ“šæˆ‘å€‘è¨ˆç®—å‡ºä¾†çš„å‰¯æœ¬æ•¸ï¼Œä»–å°±æœƒä¾ç…§è¨ˆç®—çµæœï¼Œå¹«æˆ‘å€‘è‡ªå‹•ç”Ÿæˆè©²æ•¸é‡çš„ Podï¼Œä¾†æ¸›ç·©åŒä¸€å€‹ Pod çš„è² è¼‰é‡ï¼Œæ¥è‘—æˆ‘å€‘å…ˆä¸­æ–·æ¸¬è©¦æŒ‡ä»¤ï¼Œå†ç¹¼çºŒè§€å¯Ÿ HPA ï¼š</li></ol><br><figure><img src=/kubernetes/k8s-hpa/13.png alt="è§€å¯Ÿ HPA" width=700><figcaption><p>è§€å¯Ÿ HPA</p></figcaption></figure><br><p>å¯ä»¥ç™¼ç¾å› ç‚ºæˆ‘å€‘å°‡æ¸¬è©¦æŒ‡ä»¤ä¸­æ–·å¾Œï¼Œè² è¼‰ä½¿ç”¨é‡æœƒæ…¢æ…¢é™ä½ï¼Œä½†è² è¼‰é™ä½å¾Œï¼Œå‰¯æœ¬æ•¸ä¸æœƒé¦¬ä¸Šè®Šå›å»ï¼Œå› ç‚ºæ€•å¦‚æœåˆæœ‰å¤§é‡çš„ä½¿ç”¨é‡æœƒå°è‡´ Pod ä¾†ä¸åŠé•·å‡ºä¾†ï¼Œæ‰€ä»¥é è¨­æ˜¯ <code>5 åˆ†é˜ (--horizontal-pod-autoscaler-downscale-stabilization)</code> æ‰æœƒæ¸›è‡³åŸä¾†çš„ Pod æ•¸é‡</p><br><figure><img src=/kubernetes/k8s-hpa/14.png alt="Pod è‡ªå‹•æ¸›å°‘" width=1100><figcaption><p>Pod è‡ªå‹•æ¸›å°‘</p></figcaption></figure><br><h2>å¸¸è¦‹å•é¡ŒåŠè§£æ±ºè¾¦æ³•<span class="absolute -mt-20" id=å¸¸è¦‹å•é¡ŒåŠè§£æ±ºè¾¦æ³•></span>
<a href=#%e5%b8%b8%e8%a6%8b%e5%95%8f%e9%a1%8c%e5%8f%8a%e8%a7%a3%e6%b1%ba%e8%be%a6%e6%b3%95 class=subheading-anchor aria-label="Permalink for this section"></a></h2><div class="overflow-x-auto mt-6 flex rounded-lg border py-2 ltr:pr-4 rtl:pl-4 contrast-more:border-current contrast-more:dark:border-current border-blue-200 bg-blue-100 text-blue-900 dark:border-blue-200/30 dark:bg-blue-900/30 dark:text-blue-200"><div class="ltr:pl-3 ltr:pr-2 rtl:pr-3 rtl:pl-2"><div class="select-none text-xl" style="font-family:apple color emoji,segoe ui emoji,segoe ui symbol">â„¹ï¸</div></div><div class="w-full min-w-0 leading-7"><div class="mt-6 leading-7 first:mt-0"><p>Q1 . å‡ºç¾ x509: cannot validate certificate for 192.168.XXX.XXX because it doesnâ€™t contain any IP SANs éŒ¯èª¤</p><p>Ans 1ï¼šæ˜¯å› çˆ²æ²’æœ‰åŠ å…¥ <code>kubelet-insecure-tls=ture</code> è®“ Metrics Server ç¦ç”¨ TLS è­‰æ›¸é©—è­‰ï¼Œæ‰å°è‡´éŒ¯èª¤ç™¼ç”Ÿã€‚</p></div></div></div><br><h2>åƒè€ƒè³‡æ–™<span class="absolute -mt-20" id=åƒè€ƒè³‡æ–™></span>
<a href=#%e5%8f%83%e8%80%83%e8%b3%87%e6%96%99 class=subheading-anchor aria-label="Permalink for this section"></a></h2><p>Horizontal Pod Autoscalingï¼š<a href=https://kubernetes.io/docs/tasks/run-application/horizontal-pod-autoscale/ target=_blank rel=noopener>https://kubernetes.io/docs/tasks/run-application/horizontal-pod-autoscale/</a></p><p>HorizontalPodAutoscaler Walkthroughï¼š<a href=https://kubernetes.io/docs/tasks/run-application/horizontal-pod-autoscale-walkthrough/ target=_blank rel=noopener>https://kubernetes.io/docs/tasks/run-application/horizontal-pod-autoscale-walkthrough/</a></p></div><div class="mt-12 mb-8 block text-xs text-gray-500 ltr:text-right rtl:text-left dark:text-gray-400">æœ€å¾Œæ›´æ–°æ–¼ <time datetime=2024-05-06T22:47:16.000Z>2024, May 6</time></div><div class="mb-8 flex items-center border-t pt-8 dark:border-neutral-800 contrast-more:border-neutral-400 dark:contrast-more:border-neutral-400 print:hidden"><a href=/blog/kubernetes/pod-veth-name-provided-eth0-already-exists/ title="éƒ¨ç½² Pod é‡åˆ° container veth name provided (eth0) already exists éŒ¯èª¤" class="flex max-w-[50%] items-center gap-1 py-4 text-base font-medium text-gray-600 transition-colors [word-break:break-word] hover:text-primary-600 dark:text-gray-300 md:text-lg ltr:pr-4 rtl:pl-4"><svg class="inline h-5 shrink-0 ltr:rotate-180" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" aria-hidden="true"><path stroke-linecap="round" stroke-linejoin="round" d="M9 5l7 7-7 7"/></svg>éƒ¨ç½² Pod é‡åˆ° container veth name provided (eth0) already exists éŒ¯èª¤</a><a href=/blog/kubernetes/gcp-k8s-hpa-php-custom-metrics/ title="Kubernetes (K8s) è‡ªå®šç¾© PHP HorizontalPodAutoscaler (HPA) æŒ‡æ¨™" class="flex max-w-[50%] items-center gap-1 py-4 text-base font-medium text-gray-600 transition-colors [word-break:break-word] hover:text-primary-600 dark:text-gray-300 md:text-lg ltr:ml-auto ltr:pl-4 ltr:text-right rtl:mr-auto rtl:pr-4 rtl:text-left">Kubernetes (K8s) è‡ªå®šç¾© PHP HorizontalPodAutoscaler (HPA) æŒ‡æ¨™<svg class="inline h-5 shrink-0" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" aria-hidden="true"><path stroke-linecap="round" stroke-linejoin="round" d="M9 5l7 7-7 7"/></svg></a></div><script>function getGiscusTheme(){return localStorage.getItem("color-theme")}function setGiscusTheme(){function e(e){const t=document.querySelector("iframe.giscus-frame");if(!t)return;t.contentWindow.postMessage({giscus:e},"https://giscus.app")}e({setConfig:{theme:getGiscusTheme()}})}document.addEventListener("DOMContentLoaded",function(){const n={src:"https://giscus.app/client.js","data-repo":"880831ian/880831ian.github.io","data-repo-id":"R_kgDOLwVzsQ","data-category":"General","data-category-id":"DIC_kwDOLwVzsc4CezU3","data-mapping":"pathname","data-strict":"0","data-reactions-enabled":"1","data-emit-metadata":"0","data-input-position":"top","data-theme":getGiscusTheme(),"data-lang":"zh-TW",crossorigin:"anonymous",async:""},e=document.createElement("script");Object.entries(n).forEach(([t,n])=>e.setAttribute(t,n)),document.getElementById("giscus").appendChild(e);const t=document.querySelectorAll(".theme-toggle");t&&t.forEach(e=>e.addEventListener("click",setGiscusTheme))})</script><div id=giscus></div></main></article></div></body><script defer src=/js/main.min.5250a01f9a9cabefdb65e77efc7c04221397882cded9c5c058a5504e730b11b3.js integrity="sha256-UlCgH5qcq+/bZed+/HwEIhOXiCze2cXAWKVQTnMLEbM="></script><script defer src=/lib/flexsearch/flexsearch.bundle.min.0425860527cc9968f9f049421c7a56b39327d475e2e3a8f550416be3a9134327.js integrity="sha256-BCWGBSfMmWj58ElCHHpWs5Mn1HXi46j1UEFr46kTQyc="></script><script defer src=/zh-tw.search.min.d3a27ecc76ca8867900d290099ab99829761e269117b16c2e2df93c5aa235731.js integrity="sha256-06J+zHbKiGeQDSkAmauZgpdh4mkRexbC4t+TxaojVzE="></script></html>