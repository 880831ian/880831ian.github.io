<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>PIN-YI â€“ Git ç›¸é—œ</title><link>https://pin-yi.me/blog/git/</link><description>Recent content in Git ç›¸é—œ on PIN-YI</description><generator>Hugo -- gohugo.io</generator><language>zh-tw</language><atom:link href="https://pin-yi.me/blog/git/index.xml" rel="self" type="application/rss+xml"/><item><title>å¦‚ä½•å•Ÿç”¨ GitLab çš„ Package Registry ä»¥åŠå°‡å„²å­˜ä½ç½®å¾ä¼ºæœå™¨æ”¹åˆ° GCS ä¸Š</title><link>https://pin-yi.me/blog/git/gitlab-package-registry-to-gcs/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://pin-yi.me/blog/git/gitlab-package-registry-to-gcs/</guid><description>
&lt;p>ä»Šå¤©æ¥åˆ°ä¸€å€‹æ¡ˆå­ï¼ŒRD éƒ¨é–€ä¹‹å¾Œæƒ³è¦ä½¿ç”¨ GitLab çš„ Package Registry åŠŸèƒ½ä¾†ç™¼å¸ƒå¥—ä»¶ï¼Œä¸”ä¸æƒ³æŠŠå®ƒå­˜åœ¨ GitLab ä¼ºæœå™¨ä¸Šï¼Œå¸Œæœ›å¯ä»¥ç›´æ¥å­˜åˆ° GCP çš„ Google Cloud Storage ä¸Šï¼Œæ‰€ä»¥æ‰æœƒæœ‰äº†æ­¤ç¯‡ç­†è¨˜ä¾†è¨˜éŒ„ä¸€ä¸‹æ•´å€‹éç¨‹ã€‚&lt;/p>
&lt;br>
&lt;p>ç‰ˆæœ¬è³‡è¨Š&lt;/p>
&lt;ul>
&lt;li>GitLab 14.10 (æœ‰éƒ¨åˆ†è¨­å®šæœƒæ–¼æ–°ç‰ˆæœ¬æ£„ç”¨ï¼Œè«‹è¨˜å¾—ç¢ºèªå¥½è‡ªå·±çš„ç‰ˆæœ¬æ˜¯å¦æ”¯æ´)&lt;/li>
&lt;/ul>
&lt;p>å…ˆèªªä¸€ä¸‹ï¼Œæˆ‘å€‘çš„ GitLab æ˜¯ä½¿ç”¨ docker-compose ä¾†å»ºç½®ï¼Œæ‰€ä»¥å¾ŒçºŒçš„å¯¦ä½œå…§å®¹éƒ½æœƒä»¥ docker-compose çš„æ–¹å¼ä¾†ä»‹ç´¹ã€‚&lt;/p>
&lt;br>
&lt;h2>å•Ÿå‹• GitLab çš„ Package Registry&lt;span class="absolute -mt-20" id="å•Ÿå‹•-gitlab-çš„-package-registry">&lt;/span>
&lt;a href="#%e5%95%9f%e5%8b%95-gitlab-%e7%9a%84-package-registry" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h2>&lt;p>é¦–å…ˆï¼Œæˆ‘å€‘ç•¶ç„¶è¦å…ˆå•Ÿå‹•é€™é … Package Registry åŠŸèƒ½ï¼Œæ‰å¯ä»¥å†ä¹‹å¾Œä½¿ç”¨å®ƒï¼Œæˆ‘å€‘å…ˆçœ‹ä¸€ä¸‹ GitLab å•Ÿå‹•çš„ docker-compose.yml æª”æ¡ˆï¼š&lt;/p>
&lt;div class="code-block relative mt-6 first:mt-0 group/code">&lt;div>&lt;div class="highlight">&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-yaml" data-lang="yaml">&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f92672">version&lt;/span>: &lt;span style="color:#e6db74">&amp;#39;3&amp;#39;&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f92672">services&lt;/span>:
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#f92672">gitlab&lt;/span>:
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#f92672">image&lt;/span>: &lt;span style="color:#e6db74">&amp;#39;gitlab/gitlab-ee:14.10.5-ee.0&amp;#39;&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#f92672">restart&lt;/span>: &lt;span style="color:#ae81ff">always&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#f92672">container_name&lt;/span>: &lt;span style="color:#ae81ff">gitlab&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#f92672">hostname&lt;/span>: &lt;span style="color:#ae81ff">gitlab-pid&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#f92672">logging&lt;/span>:
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#f92672">driver&lt;/span>: &lt;span style="color:#e6db74">&amp;#34;json-file&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#f92672">options&lt;/span>:
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#f92672">max-size&lt;/span>: &lt;span style="color:#e6db74">&amp;#34;100m&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#f92672">max-file&lt;/span>: &lt;span style="color:#e6db74">&amp;#34;50&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#f92672">environment&lt;/span>:
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#f92672">GITLAB_OMNIBUS_CONFIG&lt;/span>: |&lt;span style="color:#e6db74">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#e6db74"> external_url &amp;#39;${GITLAB_DOMAIN}&amp;#39;
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#e6db74"> letsencrypt[&amp;#39;enable&amp;#39;] = false
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#e6db74"> gitlab_rails[&amp;#39;initial_root_password&amp;#39;] = &amp;#39;${GITLAB_ROOT_PASSWORD}&amp;#39;
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#e6db74"> gitlab_rails[&amp;#39;gitlab_shell_ssh_port&amp;#39;] = &amp;#39;${GITLAB_HOST_SSH_PORT}&amp;#39;
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#e6db74"> gitlab_rails[&amp;#39;backup_keep_time&amp;#39;] = 79200
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#e6db74"> gitlab_rails[&amp;#39;omniauth_allow_single_sign_on&amp;#39;] = [&amp;#39;google_oauth2&amp;#39;]
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#e6db74"> gitlab_rails[&amp;#39;omniauth_block_auto_created_users&amp;#39;] = false
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#e6db74"> gitlab_rails[&amp;#39;omniauth_sync_profile_from_provider&amp;#39;] = [&amp;#39;google_oauth2&amp;#39;]
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#e6db74"> gitlab_rails[&amp;#39;omniauth_sync_profile_attributes&amp;#39;] = [&amp;#39;name&amp;#39;, &amp;#39;email&amp;#39;]
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#e6db74"> gitlab_rails[&amp;#39;omniauth_providers&amp;#39;] = [
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#e6db74"> {&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#ae81ff">ç•¥éï¼ï¼ï¼&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> }
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> ]
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#f92672">ports&lt;/span>:
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> - &lt;span style="color:#e6db74">&amp;#39;${GITLAB_HOST_SSH_PORT}:22&amp;#39;&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> - &lt;span style="color:#e6db74">&amp;#39;${GITLAB_HOST_HTTP_PORT}:80&amp;#39;&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> - &lt;span style="color:#e6db74">&amp;#39;${GITLAB_HOST_HTTPS_PORT}:443&amp;#39;&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#f92672">volumes&lt;/span>:
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> - &lt;span style="color:#e6db74">&amp;#39;./config:/etc/gitlab&amp;#39;&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> - &lt;span style="color:#e6db74">&amp;#39;./logs:/var/log/gitlab&amp;#39;&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> - &lt;span style="color:#e6db74">&amp;#39;./data:/var/opt/gitlab&amp;#39;&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/div>&lt;div class="opacity-0 transition group-hover/code:opacity-100 flex gap-1 absolute m-[11px] right-0 top-0">
&lt;button
class="code-copy-btn group/copybtn transition-all active:opacity-50 bg-primary-700/5 border border-black/5 text-gray-600 hover:text-gray-900 rounded-md p-1.5 dark:bg-primary-300/10 dark:border-white/10 dark:text-gray-400 dark:hover:text-gray-50"
title="Copy code"
>
&lt;div class="group-[.copied]/copybtn:hidden copy-icon pointer-events-none h-4 w-4">&lt;/div>
&lt;div class="hidden group-[.copied]/copybtn:block success-icon pointer-events-none h-4 w-4">&lt;/div>
&lt;/button>
&lt;/div>
&lt;/div>
&lt;p>æœ‰äº›è¨­å®šæœ‰ç•¥éæˆ–æ˜¯çœç•¥ä¸å¯«ï¼Œå¤§å®¶å°±ä¾ç…§è‡ªå·±çš„è¨­å®šä¾†çœ‹å°±å¥½ï½&lt;/p>
&lt;br>
&lt;h2>æ–°å¢ Package Registry è¨­å®š&lt;span class="absolute -mt-20" id="æ–°å¢-package-registry-è¨­å®š">&lt;/span>
&lt;a href="#%e6%96%b0%e5%a2%9e-package-registry-%e8%a8%ad%e5%ae%9a" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h2>&lt;p>æˆ‘å€‘åœ¨ä¸Šæ–¹çš„ &lt;code>gitlab_rails['omniauth_providers'] = [ ... ç•¥ ... ] &lt;/code> ä¹‹å¾ŒåŠ ä¸Šæ–°å¢ Package Registry è¨­å®šå…§å®¹ï¼š&lt;/p>
&lt;div class="code-block relative mt-6 first:mt-0 group/code">&lt;div>&lt;div class="highlight">&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-yaml" data-lang="yaml">&lt;span style="display:flex;">&lt;span>&lt;span style="color:#ae81ff">gitlab_rails[&amp;#39;packages_enabled&amp;#39;] = true&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#ae81ff">gitlab_rails[&amp;#39;packages_object_store_enabled&amp;#39;] = true&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#ae81ff">gitlab_rails[&amp;#39;packages_object_store_remote_directory&amp;#39;] = &amp;#34;GCS åç¨±&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#ae81ff">gitlab_rails[&amp;#39;packages_object_store_direct_upload&amp;#39;] = true&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#ae81ff">gitlab_rails[&amp;#39;packages_object_store_background_upload&amp;#39;] = true&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#ae81ff">gitlab_rails[&amp;#39;packages_object_store_proxy_download&amp;#39;] = true&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#ae81ff">gitlab_rails[&amp;#39;packages_object_store_connection&amp;#39;] = {&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#e6db74">&amp;#39;provider&amp;#39;&lt;/span> &lt;span style="color:#ae81ff">=&amp;gt; &amp;#39;Google&amp;#39;,&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#e6db74">&amp;#39;google_project&amp;#39;&lt;/span> &lt;span style="color:#ae81ff">=&amp;gt; &amp;#39;å°ˆæ¡ˆ ID&amp;#39;,&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#e6db74">&amp;#39;google_json_key_location&amp;#39;&lt;/span> &lt;span style="color:#ae81ff">=&amp;gt; &amp;#39;/etc/gitlab/google_key.json&amp;#39;&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>}&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/div>&lt;div class="opacity-0 transition group-hover/code:opacity-100 flex gap-1 absolute m-[11px] right-0 top-0">
&lt;button
class="code-copy-btn group/copybtn transition-all active:opacity-50 bg-primary-700/5 border border-black/5 text-gray-600 hover:text-gray-900 rounded-md p-1.5 dark:bg-primary-300/10 dark:border-white/10 dark:text-gray-400 dark:hover:text-gray-50"
title="Copy code"
>
&lt;div class="group-[.copied]/copybtn:hidden copy-icon pointer-events-none h-4 w-4">&lt;/div>
&lt;div class="hidden group-[.copied]/copybtn:block success-icon pointer-events-none h-4 w-4">&lt;/div>
&lt;/button>
&lt;/div>
&lt;/div>
&lt;ul>
&lt;li>packages_enabledï¼šå•Ÿå‹• packages&lt;/li>
&lt;li>packages_object_store_enabledï¼šå•Ÿå‹• packages å°è±¡å­˜å„²&lt;/li>
&lt;li>packages_object_store_remote_directoryï¼šè¨­å®š packages å°è±¡å­˜å„²ä½ç½®ï¼Œé€™é‚Šè¦è¼¸å…¥ GCS çš„åç¨±&lt;/li>
&lt;li>packages_object_store_direct_uploadï¼šè¨­å®šæ˜¯å¦å¯ä»¥ç›´æ¥ä¸Šå‚³åˆ°å°è±¡å­˜å„²ä½ç½®&lt;/li>
&lt;li>packages_object_store_background_uploadï¼šè¨­å®šæ˜¯å¦ä»¥å¾Œå°æ–¹å¼ä¸Šå‚³åˆ°å°è±¡å­˜å„²ä½ç½®&lt;/li>
&lt;li>packages_object_store_proxy_downloadï¼šè¨­å®šæ˜¯å¦å¯ä»¥é€éä»£ç†ä¼ºæœå™¨é€²è¡Œå¥—ä»¶ä¸‹è¼‰&lt;/li>
&lt;li>packages_object_store_connectionï¼šè¨­å®šé€£æ¥åˆ°å°è±¡å­˜å„²ï¼Œç”±æ–¼æˆ‘å€‘è¦å­˜åˆ° GCS ä¸Šé¢ï¼Œéœ€è¦æœ‰é€™ä¸‰é … providerã€google_projectã€google_json_key_location æ‰å¯ä»¥å°‡ packages å­˜åˆ° GCS ä¸Šã€‚å¦‚æœæƒ³ç”¨å…¶ä»–çš„å„²å­˜ä½ç½®ï¼Œä¾‹å¦‚ Amazon S3ã€Azure Blob storage å¯ä»¥åƒè€ƒ &lt;a href="https://docs.gitlab.com/ee/administration/object_storage.html" target="_blank" rel="noopener">Object storage è©³ç´°è¨­å®š&lt;/a> ( å…¶ä¸­çš„ google_json_key_location æ˜¯è¦æ”¾å¯ä»¥è®€å¯« GCS çš„ SA SECRET æª”æ¡ˆ )&lt;/li>
&lt;/ul>
&lt;br>
&lt;h2>å…ˆæŸ¥çœ‹å°šæœªé‡å•Ÿçš„ GitLab Package&lt;span class="absolute -mt-20" id="å…ˆæŸ¥çœ‹å°šæœªé‡å•Ÿçš„-gitlab-package">&lt;/span>
&lt;a href="#%e5%85%88%e6%9f%a5%e7%9c%8b%e5%b0%9a%e6%9c%aa%e9%87%8d%e5%95%9f%e7%9a%84-gitlab-package" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h2>&lt;p>ç”±æ–¼å…¬å¸ GitLab é è¨­æœ‰å…ˆé–‹å•Ÿ packages_enabledï¼Œæ‰€ä»¥æˆ‘å°±æ‹¿åŒäº‹ç”¨ Helm å¯«çš„ CIï¼Œä¾†åšæ¸¬è©¦ã€‚ç•¶æ›´æ–° value.yaml å¾Œæœƒè‡ªå‹•æ‰“åŒ… Package æ”¾åˆ° Package Registry ä¸­ï¼Œæˆ‘å€‘ç›´æ¥é€²å…¥åˆ°é è¨­ Package Registry çš„å„²å­˜ä½ç½®ï¼Œæ˜¯åœ¨ &lt;code>/var/opt/gitlab/gitlab-rails/shared/packages/&lt;/code>ï¼Œç”¨æŒ‡ä»¤ç™¼ç¾æ‰“åŒ…çš„ Package çš„ç¢ºå­˜æ”¾æ–¼æ­¤ ï¼Œå¦‚ä¸‹ï¼š&lt;/p>
&lt;br>
&lt;figure>&lt;img src="https://pin-yi.me/git/gitlab-package-registry-to-gcs/1.png"
alt="æª¢æŸ¥æ˜¯å¦é‚„æœ‰ Package åœ¨é è¨­å„²å­˜ä½ç½® (å°šæœªé·ç§»)" width="800">&lt;figcaption>
&lt;p>æª¢æŸ¥æ˜¯å¦é‚„æœ‰ Package åœ¨é è¨­å„²å­˜ä½ç½® (å°šæœªé·ç§»)&lt;/p>
&lt;/figcaption>
&lt;/figure>
&lt;br>
&lt;h2>é‡å•Ÿè¨­å®šå¾Œå†æ¬¡æª¢æŸ¥ GitLab Package&lt;span class="absolute -mt-20" id="é‡å•Ÿè¨­å®šå¾Œå†æ¬¡æª¢æŸ¥-gitlab-package">&lt;/span>
&lt;a href="#%e9%87%8d%e5%95%9f%e8%a8%ad%e5%ae%9a%e5%be%8c%e5%86%8d%e6%ac%a1%e6%aa%a2%e6%9f%a5-gitlab-package" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h2>&lt;p>ç•¶æˆ‘å€‘é‡å•Ÿè¨­å®šå¾Œï¼Œä¹Ÿæœ‰å»ºç«‹å¥½å¯ä¾›æˆ‘å€‘æ¬Šé™ SA çš„ GCS å¾Œï¼Œæœƒç™¼ç¾åŸæœ¬å­˜åœ¨é è¨­ &lt;code>/var/opt/gitlab/gitlab-rails/shared/packages/&lt;/code> æ²’æœ‰è‡ªå‹•è·‘åˆ° GCS ä¸Šï¼Œæ˜¯å› ç‚ºæˆ‘å€‘é‚„éœ€è¦æ‰‹å‹•ä¸‹æŒ‡ä»¤å°‡ä»–é·ç§»éå»ï¼ŒæŒ‡ä»¤æ˜¯ &lt;code>gitlab-rake &amp;quot;gitlab:packages:migrate&amp;quot;&lt;/code>ï¼Œæœ€å¾Œç­‰ä»–è·‘å®Œæˆ‘å€‘åœ¨æª¢æŸ¥ä¸€ä¸‹é è¨­å„²å­˜ä½ç½®å°±ç™¼ç¾å·²ç¶“æ²’æœ‰ Package äº†&lt;/p>
&lt;br>
&lt;figure>&lt;img src="https://pin-yi.me/git/gitlab-package-registry-to-gcs/2.png"
alt="æª¢æŸ¥æ˜¯å¦é‚„æœ‰ Package åœ¨é è¨­å„²å­˜ä½ç½® (å·²é·ç§»)" width="800">&lt;figcaption>
&lt;p>æª¢æŸ¥æ˜¯å¦é‚„æœ‰ Package åœ¨é è¨­å„²å­˜ä½ç½® (å·²é·ç§»)&lt;/p>
&lt;/figcaption>
&lt;/figure>
&lt;br>
&lt;p>é–‹ GCS ç¶²ç«™ä¾†çœ‹æœƒç™¼ç¾åŸå…ˆåœ¨é è¨­å„²å­˜ä½ç½®çš„ Package éƒ½å¯ä»¥è·‘åˆ° GCS ä¸Šï¼š&lt;/p>
&lt;br>
&lt;figure>&lt;img src="https://pin-yi.me/git/gitlab-package-registry-to-gcs/3.png"
alt="æŸ¥çœ‹å·²é·ç§»åˆ° Google Cloud Storage çš„ Package" width="800">&lt;figcaption>
&lt;p>æŸ¥çœ‹å·²é·ç§»åˆ° Google Cloud Storage çš„ Package&lt;/p>
&lt;/figcaption>
&lt;/figure>
&lt;br>
&lt;h2>åƒè€ƒè³‡æ–™&lt;span class="absolute -mt-20" id="åƒè€ƒè³‡æ–™">&lt;/span>
&lt;a href="#%e5%8f%83%e8%80%83%e8%b3%87%e6%96%99" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h2>&lt;p>GitLab Package Registry administrationï¼š&lt;a href="https://docs.gitlab.com/14.10/ee/administration/packages/" target="_blank" rel="noopener">https://docs.gitlab.com/14.10/ee/administration/packages/&lt;/a>&lt;/p></description></item><item><title>å¦‚ä½•åˆä½µå¤šå€‹ commitï¼Œä¸”æ¨åˆ°é ç«¯å‘¢ï¼Ÿ</title><link>https://pin-yi.me/blog/git/git-merge-multiple-commit/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://pin-yi.me/blog/git/git-merge-multiple-commit/</guid><description>
&lt;p>ç•¶æˆ‘å€‘åœ¨ä½¿ç”¨ Git æ™‚ï¼Œå¸¸å¸¸ä¿®æ”¹å®Œå…§å®¹å¾Œï¼Œæœƒæ¨ commit åˆ° github or gitlabï¼Œåœ¨ä¸€å€‹åˆ†æ”¯ä¸Šé–‹ç™¼ä¹…äº†ï¼Œ commit æœƒç´¯ç©å¾ˆå¤šï¼Œå¾ˆé›œä¸”å¾ˆäº‚ï¼Œæ‰€ä»¥æˆ‘å€‘å¯ä»¥è©¦è‘—å°‡ commit çµ¦åˆä½µã€‚&lt;/p>
&lt;br>
&lt;p>å¤§å®¶å¯ä»¥ä½¿ç”¨é€™å€‹æª”æ¡ˆä¾†åšç·´ç¿’ï¼š&lt;a href="https://github.com/880831ian/git-merge-multiple-commit" target="_blank" rel="noopener">é»æˆ‘ GoGo&lt;/a> ğŸ˜‰&lt;/p>
&lt;figure>&lt;img src="https://pin-yi.me/git/git-merge-multiple-commit/1.png"
alt="git commit" width="400">&lt;figcaption>
&lt;p>git commit&lt;/p>
&lt;/figcaption>
&lt;/figure>
&lt;p>å¯ä»¥çœ‹åˆ°ä¸Šé¢é€™å¼µåœ–ï¼Œé€™å€‹èˆ‡&lt;a href="https://github.com/880831ian/git-merge-multiple-commit" target="_blank" rel="noopener">ç¯„ä¾‹æª”æ¡ˆ&lt;/a>çš„ commit ç›¸ä¼¼(ä¸åŒå°ˆæ¡ˆï¼Œæ‰€ä»¥ SHA-1 ä¹Ÿæœƒä¸åŒï¼Œç‚ºäº†æ¨¡æ“¬æ‰€ä»¥ commit ç›¸åŒè€Œå·²)ï¼Œæˆ‘å€‘æ¨¡æ“¬åœ¨åŒä¸€å€‹åˆ†æ”¯åº•ä¸‹ï¼Œæœ‰å¾ˆå¤šçš„ commitï¼Œé‚£æˆ‘å€‘è©¦è‘—æŠŠä»–çµ¦åˆä½µèµ·ä¾†ã€‚å…ˆèªªæ˜ä¸€ä¸‹ç›®å‰çš„ commit ç‹€æ³ï¼Œæˆ‘å€‘åœ¨ master åˆ†æ”¯ä¸Šæœ‰ 3 å€‹ commitï¼Œä¸”å·²ç¶“æ¨åˆ°é ç«¯ä¸Šã€‚æ‰€ä»¥æˆ‘å€‘æœ¬åœ°ä¿®æ”¹å¾Œï¼Œé‚„è¦è®“é ç«¯çš„ä¹Ÿåˆä½µï¼Œé€™å€‹æ­¥é©Ÿè¦æ€éº¼åšå‘¢ï¼Ÿå¤§å®¶å¯ä»¥å…ˆæƒ³æƒ³çœ‹ï¼Œå¾Œé¢æœƒå‘Šè¨´å¤§å®¶ç­”æ¡ˆ ğŸ¥°&lt;/p>
&lt;br>
&lt;h2>åˆä½µæœ¬åœ°ç«¯ commit&lt;span class="absolute -mt-20" id="åˆä½µæœ¬åœ°ç«¯-commit">&lt;/span>
&lt;a href="#%e5%90%88%e4%bd%b5%e6%9c%ac%e5%9c%b0%e7%ab%af-commit" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h2>&lt;p>é¦–å…ˆæˆ‘å€‘ç›®çš„æ˜¯æƒ³è¦è®“ add 2.txt èˆ‡ add 3.txt çš„ commit åˆä½µæˆ add txtï¼Œå¯ä»¥å…ˆä½¿ç”¨ä»¥ä¸‹æŒ‡ä»¤ä¾†æ‰¾åˆ°ä»–çš„ commit çš„ SHA-1ï¼š&lt;/p>
&lt;div class="code-block relative mt-6 first:mt-0 group/code">&lt;div>&lt;div class="highlight">&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-shell" data-lang="shell">&lt;span style="display:flex;">&lt;span>git log&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/div>&lt;div class="opacity-0 transition group-hover/code:opacity-100 flex gap-1 absolute m-[11px] right-0 top-0">
&lt;button
class="code-copy-btn group/copybtn transition-all active:opacity-50 bg-primary-700/5 border border-black/5 text-gray-600 hover:text-gray-900 rounded-md p-1.5 dark:bg-primary-300/10 dark:border-white/10 dark:text-gray-400 dark:hover:text-gray-50"
title="Copy code"
>
&lt;div class="group-[.copied]/copybtn:hidden copy-icon pointer-events-none h-4 w-4">&lt;/div>
&lt;div class="hidden group-[.copied]/copybtn:block success-icon pointer-events-none h-4 w-4">&lt;/div>
&lt;/button>
&lt;/div>
&lt;/div>
&lt;br>
&lt;figure>&lt;img src="https://pin-yi.me/git/git-merge-multiple-commit/2.png"
alt="git log æŸ¥çœ‹ commit çš„ SHA-1" width="600">&lt;figcaption>
&lt;p>git log æŸ¥çœ‹ commit çš„ SHA-1&lt;/p>
&lt;/figcaption>
&lt;/figure>
&lt;br>
&lt;p>è¦æ€éº¼åˆä½µå‘¢ï¼Ÿæˆ‘å€‘å…ˆä½¿ç”¨ rebase åˆ°ä¸æœƒè®Šå‹•çš„ commitï¼Œä¹Ÿå°±æ˜¯ add 1.txt é€™å€‹ commitï¼š&lt;/p>
&lt;div class="code-block relative mt-6 first:mt-0 group/code">&lt;div>&lt;div class="highlight">&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-shell" data-lang="shell">&lt;span style="display:flex;">&lt;span>git rebase -i 3b5bab9d5fb65b965ae55236734103b178f9daf2&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/div>&lt;div class="opacity-0 transition group-hover/code:opacity-100 flex gap-1 absolute m-[11px] right-0 top-0">
&lt;button
class="code-copy-btn group/copybtn transition-all active:opacity-50 bg-primary-700/5 border border-black/5 text-gray-600 hover:text-gray-900 rounded-md p-1.5 dark:bg-primary-300/10 dark:border-white/10 dark:text-gray-400 dark:hover:text-gray-50"
title="Copy code"
>
&lt;div class="group-[.copied]/copybtn:hidden copy-icon pointer-events-none h-4 w-4">&lt;/div>
&lt;div class="hidden group-[.copied]/copybtn:block success-icon pointer-events-none h-4 w-4">&lt;/div>
&lt;/button>
&lt;/div>
&lt;/div>
&lt;br>
&lt;figure>&lt;img src="https://pin-yi.me/git/git-merge-multiple-commit/3.png"
alt="git rebase" width="600">&lt;figcaption>
&lt;p>git rebase&lt;/p>
&lt;/figcaption>
&lt;/figure>
&lt;br>
&lt;p>ä¸‹å®Œå¾Œï¼Œæœƒè·³å‡ºä¸Šé¢åœ–ç‰‡å…§å®¹ï¼Œå¯ä»¥çœ‹åˆ°ä¸Šé¢æ˜¯ rebase interactive (-i) è¦åŸ·è¡Œçš„æŒ‡ä»¤ï¼Œä¸‹é¢æ˜¯æ¯å€‹æŒ‡ä»¤çš„ç°¡å–®èªªæ˜ï¼Œæˆ‘å€‘æœ¬æ¬¡æœƒä½¿ç”¨çš„åªæœ‰ &lt;code>pick&lt;/code> ä»¥åŠ &lt;code>squash&lt;/code>ï¼Œåˆ†åˆ¥çš„æ„æ€æ˜¯ï¼š&lt;/p>
&lt;ul>
&lt;li>pickï¼šæœƒåŸ·è¡Œè©² commitã€‚&lt;/li>
&lt;li>squashï¼šæœƒæŠŠé€™å€‹ç‰ˆæœ¬çš„ commit åˆä½µåˆ°å‰ä¸€å€‹ commitã€‚&lt;/li>
&lt;/ul>
&lt;br>
&lt;p>æ‰€ä»¥æˆ‘å€‘è¦å°‡å®ƒæ”¹æˆä»¥ä¸‹ï¼š&lt;/p>
&lt;div class="code-block relative mt-6 first:mt-0 group/code">&lt;div>&lt;div class="highlight">&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-shell" data-lang="shell">&lt;span style="display:flex;">&lt;span>pick f8e5882 add 2.txt
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>squash 3eb0ef4 add 3.txt&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/div>&lt;div class="opacity-0 transition group-hover/code:opacity-100 flex gap-1 absolute m-[11px] right-0 top-0">
&lt;button
class="code-copy-btn group/copybtn transition-all active:opacity-50 bg-primary-700/5 border border-black/5 text-gray-600 hover:text-gray-900 rounded-md p-1.5 dark:bg-primary-300/10 dark:border-white/10 dark:text-gray-400 dark:hover:text-gray-50"
title="Copy code"
>
&lt;div class="group-[.copied]/copybtn:hidden copy-icon pointer-events-none h-4 w-4">&lt;/div>
&lt;div class="hidden group-[.copied]/copybtn:block success-icon pointer-events-none h-4 w-4">&lt;/div>
&lt;/button>
&lt;/div>
&lt;/div>
&lt;br>
&lt;p>ä¹Ÿå°±æ˜¯å°‡ 3eb0ef4 é€™å€‹ç‰ˆæœ¬çš„ commit åˆä½µåˆ° f8e5882 çš„ commitï¼Œå°æ‡‰æˆ‘å€‘çš„ä¾‹å­ï¼Œå°‡ add 3.txt åˆä½µåˆ° add 2.txt é€™å€‹ commitã€‚&lt;/p>
&lt;p>å„²å­˜é›¢é–‹å¾Œï¼Œæœƒè·³å‡ºä»¥ä¸‹çš„ç•«é¢ï¼Œä»–æœƒå‘Šè¨´ä½ åŸæœ¬å…©å€‹çš„ commit message åˆ†åˆ¥æ˜¯ add 2.txt ä»¥åŠ add 3.txtï¼Œé€™æ™‚å€™æˆ‘å€‘è¦è¼¸å…¥æ–°çš„ commit messageï¼Œä¹Ÿå°±æ˜¯ add txtï¼Œå»ºè­°å¯ä»¥æŠŠåŸæœ¬çš„è¨Šæ¯è¨»è§£æ‰ã€‚&lt;/p>
&lt;br>
&lt;figure>&lt;img src="https://pin-yi.me/git/git-merge-multiple-commit/4.png"
alt="è¼¸å…¥æ–°çš„ commit" width="600">&lt;figcaption>
&lt;p>è¼¸å…¥æ–°çš„ commit&lt;/p>
&lt;/figcaption>
&lt;/figure>
&lt;br>
&lt;p>å„²å­˜å¾Œï¼Œæˆ‘å€‘æŸ¥çœ‹ &lt;code>git log&lt;/code>ï¼Œå°±å¯ä»¥çœ‹åˆ°æˆ‘å€‘å°‡ add 2.txt è·Ÿ add 3.txt åˆä½µæˆ add txt ğŸ˜&lt;/p>
&lt;br>
&lt;figure>&lt;img src="https://pin-yi.me/git/git-merge-multiple-commit/5.png"
alt="æŸ¥çœ‹ç›®å‰åˆä½µç‹€æ…‹çš„ git log" width="600">&lt;figcaption>
&lt;p>æŸ¥çœ‹ç›®å‰åˆä½µç‹€æ…‹çš„ git log&lt;/p>
&lt;/figcaption>
&lt;/figure>
&lt;br>
&lt;h2>åˆä½µé ç«¯ commit&lt;span class="absolute -mt-20" id="åˆä½µé ç«¯-commit">&lt;/span>
&lt;a href="#%e5%90%88%e4%bd%b5%e9%81%a0%e7%ab%af-commit" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h2>&lt;p>å¯ä»¥çœ‹åˆ°ä¸‹æ–¹æ˜¯æˆ‘å€‘å·²ç¶“å°‡æœ¬æ©Ÿç«¯çš„ commit çµ¦åˆä½µï¼Œä½†é ç«¯é‚„æ˜¯ä¸€æ¨£æœ‰ 3 å€‹ commitï¼Œå¦‚æœæˆ‘å€‘å°±é€™æ¨£ç›´æ¥æ¨ä¸Šå»ï¼Œåªæœƒå¤šä¸€æ¬¡çš„ commitï¼Œæ‰€ä»¥æˆ‘å€‘è©²æ€è¾¦å‘¢ ?&lt;/p>
&lt;br>
&lt;figure>&lt;img src="https://pin-yi.me/git/git-merge-multiple-commit/6.png"
alt="é ç«¯èˆ‡æœ¬åœ°ç«¯çš„ commit ä¸åŒ" width="450">&lt;figcaption>
&lt;p>é ç«¯èˆ‡æœ¬åœ°ç«¯çš„ commit ä¸åŒ&lt;/p>
&lt;/figcaption>
&lt;/figure>
&lt;br>
&lt;p>æˆ‘å€‘å°±æ˜¯è¦ä½¿ç”¨å¤§å®¶éƒ½å®³æ€•çš„ï¼š&lt;/p>
&lt;div class="code-block relative mt-6 first:mt-0 group/code">&lt;div>&lt;div class="highlight">&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-shell" data-lang="shell">&lt;span style="display:flex;">&lt;span>git push -f&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/div>&lt;div class="opacity-0 transition group-hover/code:opacity-100 flex gap-1 absolute m-[11px] right-0 top-0">
&lt;button
class="code-copy-btn group/copybtn transition-all active:opacity-50 bg-primary-700/5 border border-black/5 text-gray-600 hover:text-gray-900 rounded-md p-1.5 dark:bg-primary-300/10 dark:border-white/10 dark:text-gray-400 dark:hover:text-gray-50"
title="Copy code"
>
&lt;div class="group-[.copied]/copybtn:hidden copy-icon pointer-events-none h-4 w-4">&lt;/div>
&lt;div class="hidden group-[.copied]/copybtn:block success-icon pointer-events-none h-4 w-4">&lt;/div>
&lt;/button>
&lt;/div>
&lt;/div>
&lt;p>å¼·åˆ¶è¦†è“‹æ‰åˆ†æ”¯ä¸Šçš„å…§å®¹ï¼Œä½†&lt;strong>åˆ‡è¨˜åˆ‡è¨˜&lt;/strong>ï¼Œé€™å€‹åªé©ç”¨æ–¼è‡ªå·±çš„åˆ†æ”¯ä¸Šæ­ï½ä¸ç„¶æœƒç›´æ¥å¤§çˆ†ç‚¸ ğŸ’£&lt;/p>
&lt;br>
&lt;figure>&lt;img src="https://pin-yi.me/git/git-merge-multiple-commit/7.png"
alt="ä½¿ç”¨ git push -f å¾Œçš„ commit" width="450">&lt;figcaption>
&lt;p>ä½¿ç”¨ git push -f å¾Œçš„ commit&lt;/p>
&lt;/figcaption>
&lt;/figure>
&lt;br>
&lt;h2>åƒè€ƒè³‡æ–™&lt;span class="absolute -mt-20" id="åƒè€ƒè³‡æ–™">&lt;/span>
&lt;a href="#%e5%8f%83%e8%80%83%e8%b3%87%e6%96%99" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h2>&lt;p>å¦‚ä½•åˆä½µå¤šå€‹ commitsï¼š&lt;a href="https://zerodie.github.io/blog/2012/01/19/git-rebase-i/" target="_blank" rel="noopener">https://zerodie.github.io/blog/2012/01/19/git-rebase-i/&lt;/a>&lt;/p>
&lt;p>ã€ç‹€æ³é¡Œã€‘è½èªª git push -f é€™å€‹æŒ‡ä»¤å¾ˆå¯æ€•ï¼Œä»€éº¼æƒ…æ³å¯ä»¥ä½¿ç”¨å®ƒå‘¢ï¼Ÿï¼š&lt;a href="https://gitbook.tw/chapters/github/using-force-push" target="_blank" rel="noopener">https://gitbook.tw/chapters/github/using-force-push&lt;/a>&lt;/p></description></item><item><title>éƒ¨ç½² Laravel æ–¼ Heroku æ­é… GitLab CI/CD</title><link>https://pin-yi.me/blog/git/laravel-gitlab-cicd-heroku/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://pin-yi.me/blog/git/laravel-gitlab-cicd-heroku/</guid><description>
&lt;p>ç¶“éä¸Šä¸€ç¯‡æ–‡ç«  &lt;a href="../../git/gitlab-cicd/" >å¦‚ä½•å¾é ­æ‰“é€ å°ˆå±¬çš„ GitLab CI/CD&lt;/a> çš„å­¸ç¿’ï¼Œè®“æˆ‘å€‘äº†è§£åˆ° GitLab CI/CD çš„æ•´å€‹æµç¨‹ï¼Œæ¥è‘—æˆ‘å€‘æœ¬æ¬¡è¦æŠŠ Laravel çµ¦éƒ¨ç½²åˆ° Heroku é€é GitLab çš„ CI/CD å»é”æˆï¼Œä¸éœ€è¦é€éä»»ä½•äººå·¥å»æ¸¬è©¦ï¼Œä¸¦ä¸Šæ¶ç¨‹å¼åˆ° HeroKu ä¸Šï¼Œå…¨éƒ¨éƒ½ä¾è³´ GitLab CI/CDï¼Œè®“æˆ‘å€‘æ¥è‘—çœ‹ä¸‹å»å§ï¼&lt;/p>
&lt;br>
&lt;p>ç•¶ç„¶ï¼Œæ­¤æ–‡ç« ç¨‹å¼ç¢¼ä¹ŸæœƒåŒæ­¥åˆ° Github ï¼Œéœ€è¦çš„ä¹Ÿå¯ä»¥å»æŸ¥çœ‹æ­ï¼è¦è¨˜å¾—å…ˆç¢ºå®šä¸€ä¸‹è‡ªå·±çš„ç‰ˆæœ¬ &lt;a href="https://github.com/880831ian/Laravel-GitLab-CICD-Heroku" target="_blank" rel="noopener">Github ç¨‹å¼ç¢¼é€£çµ&lt;/a> ğŸ˜&lt;/p>
&lt;h2>ç‰ˆæœ¬è³‡è¨Š&lt;span class="absolute -mt-20" id="ç‰ˆæœ¬è³‡è¨Š">&lt;/span>
&lt;a href="#%e7%89%88%e6%9c%ac%e8%b3%87%e8%a8%8a" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h2>&lt;ul>
&lt;li>macOSï¼š11.6&lt;/li>
&lt;li>Dockerï¼šDocker version 20.10.14, build a224086&lt;/li>
&lt;li>Laravel Installerï¼š2.3.0&lt;/li>
&lt;li>Laravel Frameworkï¼š9.14.1&lt;/li>
&lt;li>gitlab.comï¼šGitLab Enterprise Edition 15.1.0-pre&lt;/li>
&lt;/ul>
&lt;br>
&lt;p>é¦–å…ˆï¼Œæˆ‘å€‘ç¬¬ä¸€æ­¥é©Ÿå°±æ˜¯å…ˆå»ºç«‹ä¸€å€‹ Laravel å°ˆæ¡ˆï¼Œè‡³æ–¼ç‚ºä»€éº¼è¦é¸æ“‡ç”¨ Laravel ä¾†ç•¶ä½œ GitLab CI/CD çš„ç¯„ä¾‹å‘¢ï¼Ÿå› ç‚º Laravel å…§å»ºæœ‰ PHPUnit çš„æ¸¬è©¦è…³æœ¬ï¼Œå¯ä»¥è®“æˆ‘å€‘åœ¨ CI æ¸¬è©¦æ™‚ï¼Œæ›´å¥½çš„å±•ç¾ CI çš„åŠŸèƒ½ï¼ï¼Œæœ‰é—œæ–¼ Laravel ç›¸é—œå…§å®¹ï¼Œé€™é‚Šä¸€æ¨£æ¨è–¦å…©ç¯‡æ–‡ç« çµ¦å¤§å®¶é–±è®€ï¼šğŸ¤£&lt;/p>
&lt;ul>
&lt;li>&lt;a href="../../code/laravel/" >Laravel ä»‹ç´¹ (ä½¿ç”¨ Laravel å¾é›¶åˆ°æœ‰é–‹ç™¼å‡ºä¸€å€‹ç•™è¨€æ¿åŠŸèƒ½ä¸¦æ­é… RESTful API ä¾†å¯¦ç¾ CRUD)&lt;/a>&lt;/li>
&lt;li>&lt;a href="../../code/laravel-advanced/" >Laravel é€²éš (å…§å»ºæœƒå“¡ç³»çµ±ã€é©—è­‰ RESTful API æ˜¯å¦ç™»å…¥ã€ä½¿ç”¨ Repository è¨­è¨ˆæ¨¡å¼)&lt;/a>&lt;/li>
&lt;/ul>
&lt;p>åˆå·¥å•†äº†ä¸€æ³¢ XD&lt;/p>
&lt;br>
&lt;h2>å»ºç«‹ Laravel å°ˆæ¡ˆ&lt;span class="absolute -mt-20" id="å»ºç«‹-laravel-å°ˆæ¡ˆ">&lt;/span>
&lt;a href="#%e5%bb%ba%e7%ab%8b-laravel-%e5%b0%88%e6%a1%88" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h2>&lt;p>è«‹å¤§å®¶ä¾ç…§ Laravel å®˜æ–¹æ–‡ä»¶ä¾†å»ºç«‹ Laravel ç’°å¢ƒï¼Œä¹Ÿå¯ä»¥çœ‹å°å¼Ÿæˆ‘çš„æ–‡ç« æ‹‰ ğŸ‘†ğŸ‘†ğŸ‘†ï¼Œè«‹è¨˜å¾—è¦å…ˆå®‰è£å¥½ php ä»¥åŠ composerï¼Œæ¥è‘—æŒ‰ç…§ä»¥ä¸‹æ­¥é©Ÿä¾†å»ºç«‹ã€‚&lt;/p>
&lt;br>
&lt;figure>&lt;img src="https://pin-yi.me/git/laravel-gitlab-cicd-heroku/create.png"
alt="æ–°å»ºä¸€å€‹ Laravel æ–°å°ˆæ¡ˆ" width="900">&lt;figcaption>
&lt;p>æ–°å»ºä¸€å€‹ Laravel æ–°å°ˆæ¡ˆ&lt;/p>
&lt;/figcaption>
&lt;/figure>
&lt;br>
&lt;p>é€™æ™‚å€™ç€è¦½ &lt;code>http://127.0.0.1:8000&lt;/code>ï¼Œå¦‚æœéƒ½æ­£ç¢ºï¼Œæ‡‰è©²æœƒçœ‹åˆ° Laravel çš„é¦–é &lt;/p>
&lt;br>
&lt;figure>&lt;img src="https://pin-yi.me/git/laravel-gitlab-cicd-heroku/laravel.png"
alt="Laravel é¦–é " width="900">&lt;figcaption>
&lt;p>Laravel é¦–é &lt;/p>
&lt;/figcaption>
&lt;/figure>
&lt;br>
&lt;h2>æ¸¬è©¦æœ¬åœ° Unit Test&lt;span class="absolute -mt-20" id="æ¸¬è©¦æœ¬åœ°-unit-test">&lt;/span>
&lt;a href="#%e6%b8%ac%e8%a9%a6%e6%9c%ac%e5%9c%b0-unit-test" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h2>&lt;p>æ¥è‘—æˆ‘å€‘å‰›å‰›æœ‰æåˆ°é¸ç”¨ Laravel çš„åŸå› æ˜¯ Laravel æœ‰ PHPUnit å–®å…ƒæ¸¬è©¦å¯ä»¥ä½¿ç”¨ï¼Œæ‰€ä»¥æˆ‘å€‘ç¾åœ¨å…ˆåœ¨æœ¬åœ°ç«¯ä¾†æ¸¬è©¦ Unit Testï¼Œå°ˆæ¡ˆé è¨­æœ‰æ”¾ä¸€å€‹å–®å…ƒæ¸¬è©¦åœ¨ &lt;code>tests/Unit/ExampleTest.php&lt;/code>ã€‚æˆ‘å€‘å…ˆå†æ¬¡ç¢ºèªç’°å¢ƒæ˜¯å¦æœ‰å®‰è£å¥½ï¼Œå†ä¾†åŸ·è¡Œå–®å…ƒæ¸¬è©¦ã€‚&lt;/p>
&lt;br>
&lt;figure>&lt;img src="https://pin-yi.me/git/laravel-gitlab-cicd-heroku/unittest.png"
alt="åœ¨æœ¬åœ°ç«¯åŸ·è¡Œå–®å…ƒæ¸¬è©¦" width="900">&lt;figcaption>
&lt;p>åœ¨æœ¬åœ°ç«¯åŸ·è¡Œå–®å…ƒæ¸¬è©¦&lt;/p>
&lt;/figcaption>
&lt;/figure>
&lt;br>
&lt;p>åŸ·è¡Œå¾Œï¼Œæ‡‰è©²éƒ½æœƒæ˜¯é€šéçš„ç•«é¢ï¼Œå¦‚ä¸‹åœ–ï¼š&lt;/p>
&lt;br>
&lt;figure>&lt;img src="https://pin-yi.me/git/laravel-gitlab-cicd-heroku/demo_test.png"
alt="åŸ·è¡Œå–®å…ƒæ¸¬è©¦çµæœ" width="900">&lt;figcaption>
&lt;p>åŸ·è¡Œå–®å…ƒæ¸¬è©¦çµæœ&lt;/p>
&lt;/figcaption>
&lt;/figure>
&lt;br>
&lt;h2>GitLab CI å»ºç½®&lt;span class="absolute -mt-20" id="gitlab-ci-å»ºç½®">&lt;/span>
&lt;a href="#gitlab-ci-%e5%bb%ba%e7%bd%ae" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h2>&lt;h3>ä¸Šå‚³ Laravel å°ˆæ¡ˆ&lt;span class="absolute -mt-20" id="ä¸Šå‚³-laravel-å°ˆæ¡ˆ">&lt;/span>
&lt;a href="#%e4%b8%8a%e5%82%b3-laravel-%e5%b0%88%e6%a1%88" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h3>&lt;p>æ¥ä¸‹ä¾†æˆ‘å€‘è¦ä¸Šå‚³å«æœ‰ Unit Test å°ˆæ¡ˆåˆ° GitLab ä¸Šï¼Œæ­¥é©Ÿå¦‚ä¸‹ï¼Œå¦‚æœå·²ç¶“ç†Ÿæ‚‰å¦‚ä½•å°‡å°ˆæ¡ˆæ¨åˆ° GitLabï¼Œå¯ä»¥ç›´æ¥è·³åˆ° &lt;a href="#%e5%9c%a8-gitlab-%e4%b8%8a%e5%9f%b7%e8%a1%8c%e5%96%ae%e5%85%83%e6%b8%ac%e8%a9%a6" >åœ¨ GitLab ä¸ŠåŸ·è¡Œå–®å…ƒæ¸¬è©¦&lt;/a>&lt;/p>
&lt;ol>
&lt;li>åœ¨ &lt;a href="https://gitlab.com" target="_blank" rel="noopener">gitlab.com&lt;/a> ä¸Šé»é¸å»ºç«‹å°ˆæ¡ˆï¼Œé¸æ“‡ &lt;strong>Create blank project&lt;/strong>ï¼Œä¹Ÿå¯ä»¥ç›´æ¥ç€è¦½è©²ç¶²å€ &lt;code>https://gitlab.com/projects/new#blank_project&lt;/code>ã€‚&lt;/li>
&lt;li>è¼¸å…¥å°ˆæ¡ˆåç¨±å¯ä»¥é¸æ“‡ Project deployment target ç‚º &lt;strong>Heroko&lt;/strong>ï¼Œé¸æ“‡ Publicï¼Œæœ€å¾ŒæŒ‰ä¸‹ &lt;strong>Create project&lt;/strong>&lt;/li>
&lt;/ol>
&lt;br>
&lt;figure>&lt;img src="https://pin-yi.me/git/laravel-gitlab-cicd-heroku/gitlab.png"
alt="åœ¨ GitLab ä¸Šå»ºç«‹æ–°å°ˆæ¡ˆ" width="800">&lt;figcaption>
&lt;p>åœ¨ GitLab ä¸Šå»ºç«‹æ–°å°ˆæ¡ˆ&lt;/p>
&lt;/figcaption>
&lt;/figure>
&lt;br>
&lt;ol start="3">
&lt;li>æ–¼å°ˆæ¡ˆè³‡æ–™å¤¾ä¸‹åŠ å…¥ remote é ç«¯ GitLabï¼Œä¸¦ Push å°‡å°ˆæ¡ˆæ¨ä¸Šå»ã€‚&lt;/li>
&lt;/ol>
&lt;br>
&lt;figure>&lt;img src="https://pin-yi.me/git/laravel-gitlab-cicd-heroku/gitlab_push.png"
alt="å°‡ Laravel å°ˆæ¡ˆæ¨åˆ° GitLab ä¸Š" width="800">&lt;figcaption>
&lt;p>å°‡ Laravel å°ˆæ¡ˆæ¨åˆ° GitLab ä¸Š&lt;/p>
&lt;/figcaption>
&lt;/figure>
&lt;br>
&lt;p>æˆåŠŸæ¨ä¸Šå»ï¼Œå¯ä»¥åˆ° GitLab ä¸Šï¼Œçœ‹åˆ°æˆ‘å€‘å‰›å‰›çš„å°ˆæ¡ˆï¼&lt;/p>
&lt;br>
&lt;figure>&lt;img src="https://pin-yi.me/git/laravel-gitlab-cicd-heroku/gitlab_show.png"
alt="æˆåŠŸæ¨åˆ° GitLab ä¸Š" width="800">&lt;figcaption>
&lt;p>æˆåŠŸæ¨åˆ° GitLab ä¸Š&lt;/p>
&lt;/figcaption>
&lt;/figure>
&lt;br>
&lt;h3>åœ¨ GitLab ä¸ŠåŸ·è¡Œå–®å…ƒæ¸¬è©¦&lt;span class="absolute -mt-20" id="åœ¨-gitlab-ä¸ŠåŸ·è¡Œå–®å…ƒæ¸¬è©¦">&lt;/span>
&lt;a href="#%e5%9c%a8-gitlab-%e4%b8%8a%e5%9f%b7%e8%a1%8c%e5%96%ae%e5%85%83%e6%b8%ac%e8%a9%a6" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h3>&lt;p>è¦åœ¨ GitLab ä¸ŠåŸ·è¡Œ CI/CD å°±éœ€è¦æœ‰ Runnerï¼Œé€™æ¬¡æˆ‘å€‘é¸æ“‡ä½¿ç”¨ &lt;a href="https://gitlab.com" target="_blank" rel="noopener">gitlab.com&lt;/a> çš„ Shared runnersï¼Œæƒ³è¦ä½¿ç”¨ Specific runnersï¼Œå¯ä»¥æŸ¥çœ‹ä¸Šä¸€ç¯‡ &lt;a href="../../git/gitlab-cicd/#%E8%87%AA%E6%9E%B6-runner-specific-runners" >å¦‚ä½•å¾é ­æ‰“é€ å°ˆå±¬çš„ GitLab CI/CD&lt;/a> æ–‡ç« &lt;/p>
&lt;br>
&lt;figure>&lt;img src="https://pin-yi.me/git/laravel-gitlab-cicd-heroku/runner.png"
alt="æœ¬æ¬¡ä½¿ç”¨ Share runners" width="800">&lt;figcaption>
&lt;p>æœ¬æ¬¡ä½¿ç”¨ Share runners&lt;/p>
&lt;/figcaption>
&lt;/figure>
&lt;br>
&lt;p>æ¥ä¸‹ä¾†åœ¨å°ˆæ¡ˆçš„æ ¹ç›®éŒ„æ’°å¯«æˆ‘å€‘çš„ &lt;code>.gitlab-ci.yml&lt;/code> æª”æ¡ˆï¼Œä¹‹å¾Œå†æ¬¡ä¸Šå‚³ GitLabï¼Œç•¶æˆ‘å€‘æ ¹ç›®éŒ„æœ‰æ­¤æª”æ¡ˆï¼ŒGitLab-CI å°±æœƒè®€å–ä¸¦ä¾ç…§å…§å®¹å•Ÿå‹• Runner ä¾†åŸ·è¡Œå·¥ä½œï¼š&lt;/p>
&lt;div class="code-block relative mt-6 first:mt-0 group/code">&lt;div class="filename">.gitlab-ci.yml&lt;/div>&lt;div>&lt;div class="highlight">&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-yml" data-lang="yml">&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f92672">image&lt;/span>: &lt;span style="color:#ae81ff">lorisleiva/laravel-docker:latest&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f92672">Unit_test&lt;/span>:
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#f92672">before_script&lt;/span>:
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> - &lt;span style="color:#ae81ff">composer install --prefer-dist --no-ansi --no-interaction --no-progress --no-scripts&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#f92672">script&lt;/span>:
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> - &lt;span style="color:#ae81ff">./vendor/bin/phpunit --testsuit Unit --coverage-text --colors=never&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/div>&lt;div class="opacity-0 transition group-hover/code:opacity-100 flex gap-1 absolute m-[11px] right-0 top-8">
&lt;button
class="code-copy-btn group/copybtn transition-all active:opacity-50 bg-primary-700/5 border border-black/5 text-gray-600 hover:text-gray-900 rounded-md p-1.5 dark:bg-primary-300/10 dark:border-white/10 dark:text-gray-400 dark:hover:text-gray-50"
title="Copy code"
>
&lt;div class="group-[.copied]/copybtn:hidden copy-icon pointer-events-none h-4 w-4">&lt;/div>
&lt;div class="hidden group-[.copied]/copybtn:block success-icon pointer-events-none h-4 w-4">&lt;/div>
&lt;/button>
&lt;/div>
&lt;/div>
&lt;br>
&lt;p>èªªæ˜ä¸€ä¸‹é€™å€‹ &lt;code>yml&lt;/code> æª”å…§çš„è¨­å®šæ˜¯åœ¨åšä»€éº¼ï¼š&lt;/p>
&lt;ul>
&lt;li>imageï¼šå› ç‚ºæˆ‘å€‘åŸ·è¡Œ CI/CD éç¨‹ä¸­ï¼Œéœ€è¦æœ‰ PHPã€Composeã€NPM ç­‰å·¥å…·ï¼Œæœ‰é€™äº›å¥—ä»¶ç®¡ç†å·¥å…·å°±å¯ä»¥å»¶ä¼¸å»å®‰è£æ›´å¤šå¥—ä»¶ï¼Œå¦‚æœä¸€é–‹å§‹æ²’æœ‰å®‰è£ï¼Œå°±æœƒå¾ˆéº»ç…©ï¼Œå…¶ä¸­ä¸€å€‹è¾¦æ³•å°±æ˜¯å» Runner ç’°å¢ƒä¿®æ”¹ä¸¦å®‰è£ï¼Œä½†å› ç‚ºæ–¹ä¾¿ä»¥åŠæˆ‘å€‘é€™æ¬¡ä½¿ç”¨ Share runnersï¼Œæ‰€ä»¥ä¸èƒ½ä¿®æ”¹åˆ¥äººçš„ Runnerï¼Œå¦ä¸€å€‹è¾¦æ³•æ˜¯å¯ä»¥ä½¿ç”¨ &lt;code>image&lt;/code> é—œéµå­—ï¼Œå¯ä»¥è®“ Runner åˆ‡æ›åˆ°å¦ä¸€å€‹ç’°å¢ƒå»åŸ·è¡Œå·¥ä½œ (Job)ï¼Œæˆ‘å€‘é€™é‚Šä½¿ç”¨ &lt;a href="https://github.com/lorisleiva/laravel-docker" target="_blank" rel="noopener">lorisleiva/laravel-docker:latest&lt;/a> ï¼Œä»–è£¡é¢å·²ç¶“å¹«æˆ‘å€‘å®‰è£å¥½ä¸Šè¿°çš„å·¥å…·äº†ï¼&lt;/li>
&lt;li>Unit_testï¼šé€™é‚Šä¹Ÿæ˜¯æˆ‘å€‘çš„ Jobï¼Œé‚£è£¡é¢ä¸»è¦æ˜¯å…ˆç”¨ composer install å»å®‰è£æˆ‘å€‘éœ€è¦çš„å¥—ä»¶ï¼Œæœ€å¾Œåœ¨åŸ·è¡Œ phpunit ä¾†åšå–®å…ƒæ¸¬è©¦ã€‚&lt;/li>
&lt;/ul>
&lt;br>
&lt;h3>ä¸Šå‚³ .gitlab-ci.yml&lt;span class="absolute -mt-20" id="ä¸Šå‚³-gitlab-ciyml">&lt;/span>
&lt;a href="#%e4%b8%8a%e5%82%b3-gitlab-ciyml" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h3>&lt;p>æ¥è‘—æˆ‘å€‘ä½¿ç”¨ä»¥ä¸‹æŒ‡ä»¤å°‡å«æœ‰ &lt;code>.gitlab-ci.yml&lt;/code> çš„å°ˆæ¡ˆä¸Šå‚³åˆ° GitLabï¼Œä¸¦å›åˆ° GitLab é¸æ“‡ CI/CDï¼Œå¯ä»¥æŸ¥çœ‹ç›®å‰çš„ Pipelinesï¼Œæœƒæœ‰æˆ‘å€‘å‰›å‰›æ‰€æ–°å¢çš„ Runnerã€‚&lt;/p>
&lt;br>
&lt;figure>&lt;img src="https://pin-yi.me/git/laravel-gitlab-cicd-heroku/gitlab-ci.png"
alt="å°‡ .gitlab-ci.yml æ¨åˆ° GitLab" width="600">&lt;figcaption>
&lt;p>å°‡ &lt;code>.gitlab-ci.yml&lt;/code> æ¨åˆ° GitLab&lt;/p>
&lt;/figcaption>
&lt;/figure>
&lt;br>
&lt;figure>&lt;img src="https://pin-yi.me/git/laravel-gitlab-cicd-heroku/pipeline.png"
alt="æŸ¥çœ‹ Runner å·²ç¶“é€²è¡ŒåŸ·è¡Œå–®å…ƒæ¸¬è©¦æª¢æ¸¬" width="700">&lt;figcaption>
&lt;p>æŸ¥çœ‹ Runner å·²ç¶“é€²è¡ŒåŸ·è¡Œå–®å…ƒæ¸¬è©¦æª¢æ¸¬&lt;/p>
&lt;/figcaption>
&lt;/figure>
&lt;br>
&lt;figure>&lt;img src="https://pin-yi.me/git/laravel-gitlab-cicd-heroku/runner-cicd.png"
alt="å¯ä»¥çœ‹åˆ° Runner å…ˆå®‰è£æˆ‘å€‘çš„ç’°å¢ƒï¼Œå†åŸ·è¡Œå–®å…ƒæ¸¬è©¦çš„è…³æœ¬" width="700">&lt;figcaption>
&lt;p>å¯ä»¥çœ‹åˆ° Runner å…ˆå®‰è£æˆ‘å€‘çš„ç’°å¢ƒï¼Œå†åŸ·è¡Œå–®å…ƒæ¸¬è©¦çš„è…³æœ¬&lt;/p>
&lt;/figcaption>
&lt;/figure>
&lt;br>
&lt;h3>è¨­ç½®é ˆé€šéæ¸¬è©¦æ‰å¯ä»¥åˆä½µ&lt;span class="absolute -mt-20" id="è¨­ç½®é ˆé€šéæ¸¬è©¦æ‰å¯ä»¥åˆä½µ">&lt;/span>
&lt;a href="#%e8%a8%ad%e7%bd%ae%e9%a0%88%e9%80%9a%e9%81%8e%e6%b8%ac%e8%a9%a6%e6%89%8d%e5%8f%af%e4%bb%a5%e5%90%88%e4%bd%b5" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h3>&lt;p>ç•¶æˆ‘å€‘æœ‰äº†æ¸¬è©¦é‚„ä¸å¤ ï¼Œè¦æ€éº¼ç¢ºä¿æ¯éš»è¦ä¸Šç·š (åˆä½µåˆ°ä¸»åˆ†æ”¯) çš„ç¨‹å¼éƒ½æœ‰ç¶“éæ¸¬è©¦æ‰ä¸Šç·šå‘¢ï¼Ÿ&lt;/p>
&lt;p>æ¥ä¸‹ä¾†æˆ‘å€‘å¯ä»¥åœ¨ GitLab è£¡é¢åšé€™äº›è¨­å®šï¼Œå…ˆåˆ°å°ˆæ¡ˆçš„ Setting â†’ General â†’ Merge requests â†’ Merge checks é»é¸ &lt;strong>Pipelines must succeed&lt;/strong>ï¼š&lt;/p>
&lt;br>
&lt;figure>&lt;img src="https://pin-yi.me/git/laravel-gitlab-cicd-heroku/mergechecks.png"
alt="é»é¸ Pipelines must succeed ä¾†ç¢ºä¿ç¨‹å¼åˆä½µå‰éƒ½å¿…é ˆç¶“éæ¸¬è©¦" width="700">&lt;figcaption>
&lt;p>é»é¸ &lt;strong>Pipelines must succeed&lt;/strong> ä¾†ç¢ºä¿ç¨‹å¼åˆä½µå‰éƒ½å¿…é ˆç¶“éæ¸¬è©¦&lt;/p>
&lt;/figcaption>
&lt;/figure>
&lt;br>
&lt;h3>æ¸¬è©¦æ˜¯å¦å¯ä»¥é˜»æ“‹æœªæˆåŠŸæƒ…æ³&lt;span class="absolute -mt-20" id="æ¸¬è©¦æ˜¯å¦å¯ä»¥é˜»æ“‹æœªæˆåŠŸæƒ…æ³">&lt;/span>
&lt;a href="#%e6%b8%ac%e8%a9%a6%e6%98%af%e5%90%a6%e5%8f%af%e4%bb%a5%e9%98%bb%e6%93%8b%e6%9c%aa%e6%88%90%e5%8a%9f%e6%83%85%e6%b3%81" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h3>&lt;p>æˆ‘å€‘å…ˆæ¨¡æ“¬è¦é–‹ç™¼æ–°åŠŸèƒ½ï¼Œæ‰€ä»¥åœ¨ master æœ€æ–° commit ä¸‹ï¼Œå»ºç«‹ä¸€å€‹æ–°åˆ†æ”¯ &lt;code>new&lt;/code>&lt;/p>
&lt;div class="code-block relative mt-6 first:mt-0 group/code">&lt;div>&lt;div class="highlight">&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-sh" data-lang="sh">&lt;span style="display:flex;">&lt;span>git checkout -b &lt;span style="color:#e6db74">&amp;#34;new&amp;#34;&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/div>&lt;div class="opacity-0 transition group-hover/code:opacity-100 flex gap-1 absolute m-[11px] right-0 top-0">
&lt;button
class="code-copy-btn group/copybtn transition-all active:opacity-50 bg-primary-700/5 border border-black/5 text-gray-600 hover:text-gray-900 rounded-md p-1.5 dark:bg-primary-300/10 dark:border-white/10 dark:text-gray-400 dark:hover:text-gray-50"
title="Copy code"
>
&lt;div class="group-[.copied]/copybtn:hidden copy-icon pointer-events-none h-4 w-4">&lt;/div>
&lt;div class="hidden group-[.copied]/copybtn:block success-icon pointer-events-none h-4 w-4">&lt;/div>
&lt;/button>
&lt;/div>
&lt;/div>
&lt;br>
&lt;p>æ¥è‘—ä¿®æ”¹å–®å…ƒæ¸¬è©¦ï¼Œæ•…æ„æ–°å¢éŒ¯èª¤çš„æ¸¬è©¦ï¼Œé–‹å•Ÿå°ˆæ¡ˆçš„ &lt;code>tests/Unit/ExampleTest.php&lt;/code>ï¼Œæœ€ä¸‹é¢åŠ ä¸Šç´…è‰²æ¡†æ¡†ç¨‹å¼ç¢¼ï¼š&lt;/p>
&lt;br>
&lt;figure>&lt;img src="https://pin-yi.me/git/laravel-gitlab-cicd-heroku/exampletest.png"
alt="æ–°å¢éŒ¯èª¤æ¸¬è©¦ï¼Œé‚„æ¨¡æ“¬çœ‹çœ‹æ˜¯å¦èƒ½æˆåŠŸæ“‹ä½" width="500">&lt;figcaption>
&lt;p>æ–°å¢éŒ¯èª¤æ¸¬è©¦ï¼Œé‚„æ¨¡æ“¬çœ‹çœ‹æ˜¯å¦èƒ½æˆåŠŸæ“‹ä½&lt;/p>
&lt;/figcaption>
&lt;/figure>
&lt;p>&lt;code>assertEquals&lt;/code> æœƒæª¢æŸ¥é€™å…©å€‹å€¼æ˜¯å¦ç›¸åŒï¼Œä¸åŒçš„è©±ï¼Œå°±æœƒè·³å‡ºéŒ¯èª¤ï¼Œæ‰€ä»¥æˆ‘å€‘æ•…æ„è¼¸å…¥ 1 å’Œ 2ã€‚&lt;/p>
&lt;br>
&lt;p>ä¸¦å°‡å®ƒä¸Šå‚³åˆ° GitLabï¼Œä¸¦ç™¼å‡º Merge Request çœ‹çœ‹æœƒæœ‰ä»€éº¼çµæœï¼&lt;/p>
&lt;br>
&lt;figure>&lt;img src="https://pin-yi.me/git/laravel-gitlab-cicd-heroku/gitlab-test.png"
alt="å°‡æ–°å¢éŒ¯èª¤çš„ ExampleTest åŠ å…¥æš«å­˜ï¼Œæ¨åˆ° GitLab" width="600">&lt;figcaption>
&lt;p>å°‡æ–°å¢éŒ¯èª¤çš„ ExampleTest åŠ å…¥æš«å­˜ï¼Œæ¨åˆ° GitLab&lt;/p>
&lt;/figcaption>
&lt;/figure>
&lt;br>
&lt;figure>&lt;img src="https://pin-yi.me/git/laravel-gitlab-cicd-heroku/mergerequest.png"
alt="ä¸¦å°‡ new åˆ†æ”¯é€é Merge Request ä¾†åˆä½µåˆ° master" width="1000">&lt;figcaption>
&lt;p>ä¸¦å°‡ new åˆ†æ”¯é€é Merge Request ä¾†åˆä½µåˆ° master&lt;/p>
&lt;/figcaption>
&lt;/figure>
&lt;br>
&lt;p>å¯ä»¥çœ‹åˆ°æˆ‘å€‘åˆä½µåœ¨ Pipeline æ¸¬è©¦æ™‚ï¼Œå› ç‚º new æ²’æœ‰é€šéæ¸¬è©¦ï¼Œæ‰€ä»¥ä¹Ÿæ²’æœ‰è¾¦æ³•é€²è¡Œåˆä½µï¼&lt;/p>
&lt;br>
&lt;figure>&lt;img src="https://pin-yi.me/git/laravel-gitlab-cicd-heroku/mergeerror.png"
alt="åˆ†æ”¯ new æ²’æœ‰é€šéæ¸¬è©¦ï¼Œæ‰€ä»¥æ²’æœ‰é€²è¡Œ Merge" width="700">&lt;figcaption>
&lt;p>åˆ†æ”¯ new æ²’æœ‰é€šéæ¸¬è©¦ï¼Œæ‰€ä»¥æ²’æœ‰é€²è¡Œ Merge&lt;/p>
&lt;/figcaption>
&lt;/figure>
&lt;br>
&lt;h2>GitLab CD å»ºç½®&lt;span class="absolute -mt-20" id="gitlab-cd-å»ºç½®">&lt;/span>
&lt;a href="#gitlab-cd-%e5%bb%ba%e7%bd%ae" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h2>&lt;p>æˆ‘å€‘ç©å®Œ CI å¾Œï¼Œæ¥è‘—è¦æŠŠç¨‹å¼éƒ¨ç½²åˆ°ä¼ºæœå™¨æˆ–æ˜¯é›²ç«¯ä¸Šï¼Œé€™æ™‚å€™æˆ‘å€‘ä¸éœ€è¦é€éäººå·¥æ‰‹å‹•çš„æ–¹å¼ï¼Œåªéœ€è¦æœ‰ CD ä¾†å¹«æˆ‘å€‘è‡ªå‹•åŒ–éƒ¨ç½²å°±å¯ä»¥æ‹‰ï¼å¦‚æœä¸å¤ªæ¸…æ¥šï¼Œå¯ä»¥åƒè€ƒé€™å¼µåœ–ç‰‡ï¼š&lt;/p>
&lt;br>
&lt;figure>&lt;img src="https://pin-yi.me/git/laravel-gitlab-cicd-heroku/gitlab_workflow.png"
alt="GitLab CI/CD workflow (åœ–ç‰‡ä¾†æºï¼šGitLab)" width="900">&lt;figcaption>
&lt;p>GitLab CI/CD workflow (åœ–ç‰‡ä¾†æºï¼š&lt;a href="https://docs.gitlab.com/ee/ci/introduction/" target="_blank" rel="noopener">GitLab&lt;/a>)&lt;/p>
&lt;/figcaption>
&lt;/figure>
&lt;p>ç•¶æˆ‘å€‘å‰›å‰›é€²è¡Œ CI çš„æ•´åˆæ¸¬è©¦ï¼Œæœ€å¾Œç¶“é Review and approve åˆä½µåˆ°ä¸»åˆ†æ”¯ï¼Œé€™æ™‚å€™å¦‚æœæˆ‘å€‘æœ‰è¨­å®š CDï¼ŒCD å°±æœƒå¹«æˆ‘å€‘éƒ¨ç½²åˆ°æœå‹™ä¸Šï¼Œæˆ‘æŠŠ CD æµç¨‹è½‰æˆæ–‡å­—æ­¥é©Ÿèªªæ˜ï¼š&lt;/p>
&lt;br>
&lt;ol>
&lt;li>æŠŠæ–°åŠŸèƒ½åˆ†æ”¯åˆä½µåˆ° master åˆ†æ”¯ï¼Œä»£è¡¨åŠŸèƒ½å·²ç¶“å¯ä»¥ä¸Šç·š&lt;/li>
&lt;li>GitLab è§¸ç™¼ Gitlab-CI åŸ·è¡Œ pipeline&lt;/li>
&lt;li>Gitlab-CI åŸ·è¡Œè‡ªå‹•åŒ–æ¸¬è©¦&lt;/li>
&lt;li>Gitlab-CI æ¸¬è©¦æˆåŠŸå¾Œï¼ŒåŸ·è¡Œéƒ¨ç½²åˆ°æ­£å¼ä¼ºæœå™¨&lt;/li>
&lt;li>å›å‚³åŸ·è¡Œçµæœè‡³ GitLab&lt;/li>
&lt;/ol>
&lt;br>
&lt;p>é‚£æƒ³è¦é”æˆè‡ªå‹•åŒ–éƒ¨ç½²ä¹‹å‰ï¼Œå¿…é ˆèƒ½åœ¨é ç«¯ç”¨æŒ‡ä»¤ä¸‹é”éƒ¨ç½²æ›´æ–°ï¼ç°¡å–®ä¾†èªªæœ‰å…©ä»¶äº‹æƒ…ï¼š&lt;/p>
&lt;ol>
&lt;li>è¦å…ˆæ•´ç†å†æ›´æ–°å°ˆæ¡ˆæ™‚éœ€è¦å“ªäº›æŒ‡ä»¤ï¼Œä¸¦å°‡å…¶å¯«æˆè…³æœ¬&lt;/li>
&lt;li>éœ€è¦ç²å¾—ä¼ºæœå™¨çš„æˆæ¬Šï¼Œå¯ä»¥å°ä¼ºæœå™¨ä¸‹é”æ›´æ–°å°ˆæ¡ˆçš„è…³æœ¬&lt;/li>
&lt;/ol>
&lt;br>
&lt;p>æˆ‘å€‘ä»¥ç¾åœ¨ Laravel å°ˆæ¡ˆä¾†èªªï¼Œå¥—ç”¨ä¸Šé¢è¬›çš„å…©ä»¶äº‹æƒ…ï¼š&lt;/p>
&lt;ol>
&lt;li>è…³æœ¬è£½ä½œï¼šä¸Šç·šæ–°ç‰ˆæœ¬å¤§æ¦‚è¦åŸ·è¡Œä»¥ä¸‹åœ–ç‰‡çš„å…§å®¹&lt;/li>
&lt;/ol>
&lt;br>
&lt;figure>&lt;img src="https://pin-yi.me/git/laravel-gitlab-cicd-heroku/laravel_up.png"
alt="Laravel å°ˆæ¡ˆä¸Šç·šå‰æœƒä¸‹é”çš„æŒ‡ä»¤" width="800">&lt;figcaption>
&lt;p>Laravel å°ˆæ¡ˆä¸Šç·šå‰æœƒä¸‹é”çš„æŒ‡ä»¤&lt;/p>
&lt;/figcaption>
&lt;/figure>
&lt;br>
&lt;ol start="2">
&lt;li>å°é ç«¯ä¼ºæœå™¨ä¸‹æŒ‡ä»¤ï¼šé€šå¸¸ä½¿ç”¨ ssh èˆ‡ ä¼ºæœå™¨åšæºé€šï¼Œæ‰€ä»¥å…ˆåœ¨ä¼ºæœå™¨ç”¢ç”Ÿæˆæ¬Šé‡‘é‘°çµ¦è¦é ç«¯æ§åˆ¶çš„é›»è…¦ï¼Œå¦‚æœè¦çµ¦ Gitlab-CI æ§åˆ¶çš„è©±ï¼Œä¹Ÿéœ€è¦æŠŠé‡‘é‘°å­˜åœ¨ GitLab ä¸Šï¼Œé€šå¸¸ä½¿ç”¨ &lt;code>ssh user@remote.server 'git pull'&lt;/code> ä¾†ä¸‹é”æ›´æ–°å°ˆæ¡ˆçš„æŒ‡ä»¤&lt;/li>
&lt;/ol>
&lt;br>
&lt;p>æœ¬ç¯‡æˆ‘å€‘è¦éƒ¨ç½²çš„æ˜¯ PaaS çš„ HeroKuï¼Œå¯ä»¥æ¸›å°‘æ™‚é–“å»æ¶è¨­ç’°å¢ƒï¼Œå°±å¯ä»¥é”åˆ°æˆ‘å€‘æƒ³è¦çš„æ•ˆæœï¼Œé‚£æ¥è‘—æœƒå¸¶å¤§å®¶å¾ Heroku è¨­å®šé–‹å§‹æ­ï¼å…ˆç°¡å–®ä»‹ç´¹ä¸€ä¸‹ Herokuï¼š&lt;/p>
&lt;p>Heroku æ˜¯ä¸€å€‹æ”¯æ´å¤šç¨®ç¨‹å¼èªè¨€çš„é›²å¹³å°å³æ™‚æœå‹™(PaaS)ï¼Œ æ˜¯ä¸€ç¨®é›²ç«¯é‹ç®—æœå‹™ï¼Œæä¾›é‹ç®—å¹³å°èˆ‡è§£æ±ºæ–¹æ¡ˆæœå‹™ï¼ŒPaaS æä¾›ä½¿ç”¨è€…å°‡é›²ç«¯åŸºç¤è¨­æ–½éƒ¨ç½²èˆ‡å»ºç«‹è‡³ä½¿ç”¨è€…ç«¯ï¼Œæˆ–è€…è—‰æ­¤ç²å¾—ä½¿ç”¨ç¨‹å¼èªè¨€ã€ç¨‹å¼åº«èˆ‡æœå‹™ã€‚ä½¿ç”¨è€…ä¸éœ€è¦ç®¡ç†èˆ‡æ§åˆ¶é›²ç«¯åŸºç¤è¨­æ–½ï¼ˆåŒ…å«ç¶²è·¯ã€ä¼ºæœå™¨ã€ä½œæ¥­ç³»çµ±æˆ–å„²å­˜ï¼‰ï¼Œä½†éœ€è¦æ§åˆ¶ä¸Šå±¤çš„æ‡‰ç”¨ç¨‹å¼éƒ¨ç½²èˆ‡æ‡‰ç”¨ä»£ç®¡çš„ç’°å¢ƒã€‚&lt;/p>
&lt;br>
&lt;h3>å‰µå»º Heroku å°ˆæ¡ˆ&lt;span class="absolute -mt-20" id="å‰µå»º-heroku-å°ˆæ¡ˆ">&lt;/span>
&lt;a href="#%e5%89%b5%e5%bb%ba-heroku-%e5%b0%88%e6%a1%88" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h3>&lt;p>é‚£è¦ä½¿ç”¨ Heroku ç•¶ç„¶éœ€è¦ä¸€çµ„å¸³è™Ÿæ‹‰ï¼Œå»ºç«‹å¸³è™Ÿæˆ‘æ‡‰è©²ä¸ç”¨å†å¤šä»‹ç´¹äº†å§ ğŸ¤¡ Â æˆ‘å€‘ç›´æ¥åˆ° Heroku é é¢ï¼Œå³ä¸Šè§’ Newï¼Œé»é¸ Create new appï¼Œè¼¸å…¥æœ¬æ¬¡å°ˆæ¡ˆåç¨±ï¼Œæˆ‘å°±å–å« &lt;code>laravel-gitlab-cicd-heroku&lt;/code> (é€™å€‹ä¸èƒ½èˆ‡åˆ¥äººé‡è¤‡ï¼Œå› ç‚ºä»–æœƒç”Ÿæˆå°ˆå±¬ç¶²é )ï¼Œ é€²å»å¾Œï¼Œé»é¸å³ä¸Šè§’æœ‰ä¸€å€‹ &lt;strong>Open app&lt;/strong>ï¼Œå°±æœƒè·³å‡ºé€™å€‹å°ˆæ¡ˆå°ˆå±¬çš„ç¶²é ï¼š&lt;/p>
&lt;br>
&lt;figure>&lt;img src="https://pin-yi.me/git/laravel-gitlab-cicd-heroku/herokuapp.png"
alt="Heroku å°ˆå±¬ç¶²é " width="1000">&lt;figcaption>
&lt;p>Heroku å°ˆå±¬ç¶²é &lt;/p>
&lt;/figcaption>
&lt;/figure>
&lt;br>
&lt;h3>è¨­å®š HeroKu èˆ‡ GitLab é€£ç·š&lt;span class="absolute -mt-20" id="è¨­å®š-heroku-èˆ‡-gitlab-é€£ç·š">&lt;/span>
&lt;a href="#%e8%a8%ad%e5%ae%9a-heroku-%e8%88%87-gitlab-%e9%80%a3%e7%b7%9a" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h3>&lt;p>å…ˆé»é¸å³ä¸Šè§’å€‹äººé ­åƒ â†’ Account setrtings â†’ åœ¨ Account å¾€ä¸‹æ»‘ â†’ API Keyï¼Œé»é¸ &lt;strong>Reveal&lt;/strong> ä¸¦å°‡è©² API è¨˜ä½ï¼Œé€™æ˜¯ç­‰ç­‰é€é GitLab éƒ¨ç½²æ™‚æœƒç”¨åˆ°çš„ API Tokenï¼š&lt;/p>
&lt;br>
&lt;figure>&lt;img src="https://pin-yi.me/git/laravel-gitlab-cicd-heroku/token.png"
alt="å–å¾—éƒ¨ç½²çš„ API Token" width="1000">&lt;figcaption>
&lt;p>å–å¾—éƒ¨ç½²çš„ API Token&lt;/p>
&lt;/figcaption>
&lt;/figure>
&lt;br>
&lt;p>å›åˆ° GitLab å°ˆæ¡ˆåº•ä¸‹ï¼ŒSettings â†’ CI/CD â†’ Variablesï¼Œä»–å¯ä»¥å°‡è®Šæ•¸è¨­å®šåœ¨é€™é‚Šï¼Œå†è®“ &lt;code>.gitlab-ci.yml&lt;/code> ä¾†æŠ“å–è®Šæ•¸ï¼Œè¨­å®šä»¥ä¸‹å…©å€‹è®Šæ•¸ï¼š(è©³ç´°å¯ä»¥åƒè€ƒ&lt;a href="https://docs.gitlab.com/ee/ci/variables/index.html#add-a-cicd-variable-to-a-project" target="_blank" rel="noopener">å®˜ç¶²&lt;/a>)&lt;/p>
&lt;ol>
&lt;li>Key åç¨±(HEROKU_PRODUCTION_PROJECT_NAME)ï¼ŒValue å€¼(è¨­å®šæˆ‘å€‘å‰›å‰›åœ¨ Heroku éƒ¨ç½²çš„å°ˆæ¡ˆåç¨±ï¼Œæˆ‘çš„æ˜¯ &lt;code>laravel-gitlab-cicd-heroku&lt;/code>)&lt;/li>
&lt;li>Key åç¨±(HEROKU_PRODUCTION_API_KEY)ï¼ŒValue å€¼(é€™å€‹å°±æ˜¯æˆ‘å€‘ä¸Šé¢çš„ API Keyï¼Œæ¯å€‹äººéƒ½è¦ç”¨è‡ªå·±çš„æ­ï¼ä¸Šé¢çš„æˆ‘å·²ç¶“é‡è¨­äº† ğŸ˜ Â )&lt;/li>
&lt;/ol>
&lt;br>
&lt;figure>&lt;img src="https://pin-yi.me/git/laravel-gitlab-cicd-heroku/variables.png"
alt="gitLab è¨­å®š Variables" width="800">&lt;figcaption>
&lt;p>gitLab è¨­å®š Variables&lt;/p>
&lt;/figcaption>
&lt;/figure>
&lt;ul>
&lt;li>é€™é‚Šè¦æ³¨æ„å…ˆæŠŠé è¨­çš„ Protect variable çµ¦é—œé–‰ï¼Œä»–é è¨­æœƒåªèƒ½åœ¨å—ä¿è­·çš„åˆ†æ”¯æˆ–æ¨™ç±¤é‹è¡Œï¼Œä½†æˆ‘å€‘é€™æ­¤ä»¥ç°¡å–®ç‚ºä¸»ï¼Œæ‰€ä»¥é€™äº›è¨­å®šéƒ½å…ˆé—œæ‰ã€‚&lt;/li>
&lt;/ul>
&lt;br>
&lt;h3>æ–°å¢ Heroku è­˜åˆ¥æª”æ¡ˆ&lt;span class="absolute -mt-20" id="æ–°å¢-heroku-è­˜åˆ¥æª”æ¡ˆ">&lt;/span>
&lt;a href="#%e6%96%b0%e5%a2%9e-heroku-%e8%ad%98%e5%88%a5%e6%aa%94%e6%a1%88" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h3>&lt;p>æ¥ä¸‹ä¾†æˆ‘å€‘è¦æ–°å¢ä¸€å€‹æª”æ¡ˆåç‚º &lt;code>Procfile&lt;/code>ï¼Œå®ƒæ˜¯ Heroku éƒ¨ç½²æ›´æ–°æ™‚æœƒå•Ÿå‹•çš„å°è±¡ï¼Œæ³¨æ„ä»–æ²’æœ‰å‰¯æª”åï¼Œæˆ‘å€‘åœ¨è£¡é¢è¼¸å…¥ä»¥ä¸‹ï¼š(æˆ‘å€‘ä½¿ç”¨åˆä½µå¾Œçš„ master)&lt;/p>
&lt;br>
&lt;figure>&lt;img src="https://pin-yi.me/git/laravel-gitlab-cicd-heroku/procfile.png"
alt="æ–°å¢ HeroKu è­˜åˆ¥æª”æ¡ˆ" width="650">&lt;figcaption>
&lt;p>æ–°å¢ HeroKu è­˜åˆ¥æª”æ¡ˆ&lt;/p>
&lt;/figcaption>
&lt;/figure>
&lt;p>å®ƒä»£è¡¨æˆ‘å€‘ç¶²é æœå‹™ä½¿ç”¨ apache2 æŒ‡ä»¤é‹è¡Œä¸¦æŠŠå…¥å£æŒ‡å‘å°ˆæ¡ˆè³‡æ–™å¤¾ä¸­çš„ laravel å°ˆæ¡ˆçš„å…¥å£è³‡æ–™å¤¾ã€‚&lt;/p>
&lt;br>
&lt;h3>ä¿®æ”¹ .gitlab-ci.yml&lt;span class="absolute -mt-20" id="ä¿®æ”¹-gitlab-ciyml">&lt;/span>
&lt;a href="#%e4%bf%ae%e6%94%b9-gitlab-ciyml" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h3>&lt;p>æˆ‘å€‘ä¿®æ”¹åŸæœ¬ç”¨ä¾† CI çš„è…³æœ¬ï¼Œä¾†è¨­å®šè‡ªå‹•åŒ–éƒ¨ç½²çš„ä»»å‹™ Job åŠè…³æœ¬&lt;/p>
&lt;div class="code-block relative mt-6 first:mt-0 group/code">&lt;div class="filename">.gitlab-ci.yml&lt;/div>&lt;div>&lt;div class="highlight">&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-yml" data-lang="yml">&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f92672">image&lt;/span>: &lt;span style="color:#ae81ff">lorisleiva/laravel-docker:latest&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f92672">Production_Deploy&lt;/span>:
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#f92672">stage&lt;/span>: &lt;span style="color:#ae81ff">Production_Deploy&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#f92672">before_script&lt;/span>:
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> - &lt;span style="color:#ae81ff">apk add ruby ruby-dev ruby-irb ruby-rake ruby-io-console ruby-bigdecimal ruby-json ruby-bundler yarn ruby-rdoc &amp;gt;&amp;gt; /dev/null&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> - &lt;span style="color:#ae81ff">apk update&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> - &lt;span style="color:#ae81ff">gem install dpl &amp;gt;&amp;gt; /dev/null&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#f92672">script&lt;/span>:
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> - &lt;span style="color:#ae81ff">dpl --provider=heroku --app=$HEROKU_PRODUCTION_PROJECT_NAME --api-key=$HEROKU_PRODUCTION_API_KEY&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/div>&lt;div class="opacity-0 transition group-hover/code:opacity-100 flex gap-1 absolute m-[11px] right-0 top-8">
&lt;button
class="code-copy-btn group/copybtn transition-all active:opacity-50 bg-primary-700/5 border border-black/5 text-gray-600 hover:text-gray-900 rounded-md p-1.5 dark:bg-primary-300/10 dark:border-white/10 dark:text-gray-400 dark:hover:text-gray-50"
title="Copy code"
>
&lt;div class="group-[.copied]/copybtn:hidden copy-icon pointer-events-none h-4 w-4">&lt;/div>
&lt;div class="hidden group-[.copied]/copybtn:block success-icon pointer-events-none h-4 w-4">&lt;/div>
&lt;/button>
&lt;/div>
&lt;/div>
&lt;br>
&lt;p>æœ€å¾Œä¸Šå‚³ GitLab ä¾†è§¸ç™¼ Gitlab-CI åŸ·è¡Œè‡ªå‹•åŒ–éƒ¨ç½² (ä¸Šå‚³æŒ‡ä»¤å°±ä¸å¤šèªªå›‰ï¼Œæƒ³å¿…å¤§å®¶éƒ½æœƒäº†å§ï¼ï¼Œä¸æœƒçš„è©±å¯ä»¥å»çœ‹ &lt;a href="../../git/git/" >Git ä»‹ç´¹&lt;/a>ï¼Œè£¡é¢æœ‰è©³ç´°çš„ä»‹ç´¹ ğŸ˜ Â )&lt;/p>
&lt;br>
&lt;figure>&lt;img src="https://pin-yi.me/git/laravel-gitlab-cicd-heroku/cd_pass.png"
alt="è§¸ç™¼ Gitlab-CI åŸ·è¡Œè‡ªå‹•åŒ–éƒ¨ç½²" width="700">&lt;figcaption>
&lt;p>è§¸ç™¼ Gitlab-CI åŸ·è¡Œè‡ªå‹•åŒ–éƒ¨ç½²&lt;/p>
&lt;/figcaption>
&lt;/figure>
&lt;br>
&lt;p>å¯ä»¥çœ‹åˆ°éƒ¨ç½²æˆåŠŸï¼Œæˆ‘å€‘ä¹Ÿä¾†çœ‹çœ‹ Runner é‹ä½œç‹€æ³ï¼š&lt;/p>
&lt;br>
&lt;figure>&lt;img src="https://pin-yi.me/git/laravel-gitlab-cicd-heroku/cd_runner.png"
alt="Runner é‹ä½œç‹€æ³" width="800">&lt;figcaption>
&lt;p>Runner é‹ä½œç‹€æ³&lt;/p>
&lt;/figcaption>
&lt;/figure>
&lt;p>çœ‹åˆ°ä»–æˆåŠŸå°‡æœå‹™çµ¦éƒ¨ç½²åˆ° &lt;code>https://laravel-gitlab-cicd-heroku.herokuapp.com/&lt;/code>ã€‚&lt;/p>
&lt;br>
&lt;p>æ—¢ç„¶å·²ç¶“éƒ¨ç½²å¥½äº†ï¼Œç•¶ç„¶è¦å»çœ‹ä¸€ä¸‹æˆ‘å€‘çš„ç¶²é å•Šï¼Œä½†ç•¶æˆ‘å€‘æ‰“é–‹éƒ¨ç½²å¥½çš„ç¶²é ï¼Œæœƒç™¼ç¾è·³å‡º 500 Errorï¼Œé›–ç„¶ä»–èˆ‡æˆ‘å€‘ CI/CD æ²’æœ‰é—œä¿‚ï¼Œä½†æˆ‘å€‘é‚„æ˜¯è©¦è‘—è§£æ±ºï¼Œé‚£é€™å€‹å•é¡Œæœƒç™¼ç”Ÿæ˜¯å› ç‚ºæˆ‘å€‘æ²’æœ‰çµ¦ç’°å¢ƒè®Šæ•¸çš„ APP_KEYï¼Œé€™å€‹ Key å¯ä»¥åœ¨å°ˆæ¡ˆçš„ .env å–å¾—ï¼Œæ‹¿åˆ°å¾Œé–‹å•Ÿ Heroku â†’ Setting â†’ Config vars å°‡ APP_KEY è¨­å®šä¸Šå»ã€‚&lt;/p>
&lt;br>
&lt;figure>&lt;img src="https://pin-yi.me/git/laravel-gitlab-cicd-heroku/key.png"
alt="Runner é‹ä½œç‹€æ³" width="900">&lt;figcaption>
&lt;p>Runner é‹ä½œç‹€æ³&lt;/p>
&lt;/figcaption>
&lt;/figure>
&lt;br>
&lt;p>æœ€å¾Œé‡æ–°æ•´ç† &lt;code>https://laravel-gitlab-cicd-heroku.herokuapp.com/&lt;/code>ï¼Œå°±å¯ä»¥çœ‹åˆ°æˆ‘å€‘éƒ¨ç½²ä¸Šå»çš„ç¶²ç«™å›‰ï¼&lt;/p>
&lt;br>
&lt;figure>&lt;img src="https://pin-yi.me/git/laravel-gitlab-cicd-heroku/laravel_show.png"
alt="é€é CD éƒ¨ç½²åˆ° Heroku çš„ Laravel é¦–é " width="1000">&lt;figcaption>
&lt;p>é€é CD éƒ¨ç½²åˆ° Heroku çš„ Laravel é¦–é &lt;/p>
&lt;/figcaption>
&lt;/figure>
&lt;br>
&lt;h2>åƒè€ƒè³‡æ–™&lt;span class="absolute -mt-20" id="åƒè€ƒè³‡æ–™">&lt;/span>
&lt;a href="#%e5%8f%83%e8%80%83%e8%b3%87%e6%96%99" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h2>&lt;p>Gitlab-CI å…¥é–€å¯¦ä½œæ•™å­¸ - å–®å…ƒæ¸¬è©¦ç¯‡ï¼š&lt;a href="https://nick-chen.medium.com/gitlab-ci-%E5%85%A5%E9%96%80%E7%AD%86%E8%A8%98-%E5%96%AE%E5%85%83%E6%B8%AC%E8%A9%A6%E7%AF%87-156455e2ad9f" target="_blank" rel="noopener">https://nick-chen.medium.com/gitlab-ci-%E5%85%A5%E9%96%80%E7%AD%86%E8%A8%98-%E5%96%AE%E5%85%83%E6%B8%AC%E8%A9%A6%E7%AF%87-156455e2ad9f&lt;/a>&lt;/p>
&lt;p>Gitlab-CI è‡ªå‹•åŒ–éƒ¨å±¬éƒ¨ç½²ï¼š&lt;a href="https://medium.com/@nick03008/%E6%95%99%E5%AD%B8-gitlab-ci-%E5%85%A5%E9%96%80%E5%AF%A6%E4%BD%9C-%E8%87%AA%E5%8B%95%E5%8C%96%E9%83%A8%E7%BD%B2%E7%AF%87-ci-cd-%E7%B3%BB%E5%88%97%E5%88%86%E4%BA%AB%E6%96%87-cbb5100a73d4" target="_blank" rel="noopener">https://medium.com/@nick03008/%E6%95%99%E5%AD%B8-gitlab-ci-%E5%85%A5%E9%96%80%E5%AF%A6%E4%BD%9C-%E8%87%AA%E5%8B%95%E5%8C%96%E9%83%A8%E7%BD%B2%E7%AF%87-ci-cd-%E7%B3%BB%E5%88%97%E5%88%86%E4%BA%AB%E6%96%87-cbb5100a73d4&lt;/a>&lt;/p>
&lt;p>éƒ¨ç½² Laravel æ–¼ Heroku æ­é… Gitlab CI/CDï¼š&lt;a href="https://medium.com/@vip131430g/%E9%83%A8%E7%BD%B2-laravel-%E6%96%BC-heroku-%E6%90%AD%E9%85%8D-gitlab-ci-cd-6d59a66aebdb" target="_blank" rel="noopener">https://medium.com/@vip131430g/%E9%83%A8%E7%BD%B2-laravel-%E6%96%BC-heroku-%E6%90%AD%E9%85%8D-gitlab-ci-cd-6d59a66aebdb&lt;/a>&lt;/p></description></item><item><title>å¦‚ä½•å¾é ­æ‰“é€ å°ˆå±¬çš„ GitLab CI/CD</title><link>https://pin-yi.me/blog/git/gitlab-cicd/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://pin-yi.me/blog/git/gitlab-cicd/</guid><description>
&lt;p>è‡ªå¾ä¸Šæ¬¡å­¸å®Œ Jenkins åŠ Ansible CI/CDï¼Œå°±è¦ºå¾— CI/CD å¯¦åœ¨å¤ªé…·äº†ï¼èƒ½å¤ è‡ªå‹•åŒ–çš„å»æŒçºŒæ•´åˆ (Continuous Integration, CI) ä»¥åŠæŒçºŒä½ˆç½² (Continuous Deployment,CD) å°ˆæ¡ˆï¼Œå†åŠ ä¸Šé€™å¹¾å¤©è¤‡ç¿’äº† Git çš„ä½¿ç”¨æ–¹æ³•ï¼Œçªç„¶æƒ³åˆ°ï¼Œè¦æ€éº¼è¨­å®šæˆ‘å€‘å°‡ç¨‹å¼æ¨åˆ°é ç«¯çš„ Git Repoï¼Œèƒ½å¤ å†æ­é… CI/CD å»åšæ¸¬è©¦ï¼Œä¸¦ä¸”æŠŠç¨‹å¼ç¢¼è‡ªå‹•éƒ¨ç½²åˆ°æ­£å¼çš„æœå‹™æ©Ÿå™¨è¨­å‚™ä¸Šå‘¢ï¼Ÿ&lt;/p>
&lt;br>
&lt;p>é‚£æˆ‘å€‘å°±é–‹å§‹å›‰ï¼æ­¤ç¯‡æœƒè¤‡ç¿’ä¸€ä¸‹ CI/CD ä¸¦ä¸”èªªæ˜ GitLab CI/CD é‹ä½œçš„åŸç†ï¼Œé—œæ–¼å¯¦ä½œéƒ¨åˆ†æœƒæ”¾åˆ°ä¸‹ä¸€ç¯‡æ–‡ç«  &lt;a href="../laravel-gitlab-cicd-heroku/" >éƒ¨ç½² Laravel æ–¼ Heroku æ­é… GitLab CI/CD&lt;/a>&lt;/p>
&lt;p>å°äº†å·¥å•†ä¸€ä¸‹ï¼Œå‰›å‰›æœ‰æåˆ°çš„ Jenkins åŠ Ansible CI/CD ç¸½å…±æœ‰ 3 ç¯‡æ–‡ç« ï¼Œé‚„æ²’çœ‹éçš„å¯ä»¥å…ˆé£›éå»çœ‹ä¸€ä¸‹æ­ ğŸ‘‡ğŸ‘‡ğŸ‘‡&lt;/p>
&lt;p>&lt;a href="../../rd/jenkins-ansible/" >Jenkins åŠ Ansible IT è‡ªå‹•åŒ– CI/CD ä»‹ç´¹&lt;/a>&lt;/p>
&lt;p>&lt;a href="../../rd/jenkins/" >ä½¿ç”¨ Jenkins è¨­å®š GitHub è§¸ç™¼ç¨‹åºä¸¦é€šçŸ¥ Telegram Bot&lt;/a>&lt;/p>
&lt;p>&lt;a href="../../rd/ansible/" >Ansible ä»‹ç´¹èˆ‡å¯¦ä½œ (Inventoryã€Playbooksã€Moduleã€Templateã€Handlers)&lt;/a>&lt;/p>
&lt;br>
&lt;p>è€æ¨£å­æ–‡ç« ä¹ŸæœƒåŒæ­¥åˆ° Githubï¼Œæœƒé™„ä¸Šç¯„ä¾‹ä¸­çš„ç¨‹å¼ç¢¼ï¼Œæœ‰éœ€è¦çš„ä¹Ÿå¯ä»¥å»æŸ¥çœ‹æ­ï¼ &lt;a href="https://github.com/880831ian/GitLab-CICD" target="_blank" rel="noopener">Github ç¨‹å¼ç¢¼é€£çµ&lt;/a> ğŸ’“&lt;/p>
&lt;br>
&lt;h2>GitLab CI/CD&lt;span class="absolute -mt-20" id="gitlab-cicd">&lt;/span>
&lt;a href="#gitlab-cicd" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h2>&lt;p>GitLab CI/CD æ˜¯ GitLab å…§å»ºå¼·å¤§çš„å·¥å…·ï¼Œåœ¨ GitHub è¢«ç¨±ç‚º Github Actionsï¼Œé€™å€‹ä¹‹å¾Œæœ‰ç©ºå†ä¾†ä»‹ç´¹ XDï¼Œå›æ­¸æ­£é¡Œï¼ŒGitLab CI/CD å¯ä»¥è®“æˆ‘å€‘æŒçºŒæ•´åˆå’Œéƒ¨ç½²ï¼Œä¸”ä¸éœ€è¦ä½¿ç”¨ç¬¬ä¸‰æ–¹çš„æ‡‰ç”¨ç¨‹å¼ä¾†æ•´åˆã€‚æˆ‘å€‘ä¾†è¤‡ç¿’ä¸€ä¸‹ &lt;code>æŒçºŒæ•´åˆ CI&lt;/code>ã€&lt;code>æŒçºŒéƒ¨ç½² CD &lt;/code> ä»–å€‘æ˜¯ä»€éº¼å§ï¼š&lt;/p>
&lt;br>
&lt;h3>æŒçºŒæ•´åˆ CI&lt;span class="absolute -mt-20" id="æŒçºŒæ•´åˆ-ci">&lt;/span>
&lt;a href="#%e6%8c%81%e7%ba%8c%e6%95%b4%e5%90%88-ci" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h3>&lt;p>ä¸€å€‹è™•æ–¼é–‹ç™¼éšæ®µçš„å°ˆæ¡ˆæˆ–æ˜¯è»Ÿé«”ï¼Œå®ƒè¢«æˆ‘å€‘æ”¾åœ¨ GitLab çš„ Repository è£¡ï¼Œé–‹ç™¼äººå“¡æ¯å¤©æœƒæ¨é€ä¸åŒçš„ç¨‹å¼ç¢¼åˆ° GitLab ä¸Šï¼ŒGitLab æŒçºŒæ•´åˆ CI æœƒåœ¨é–‹ç™¼äººå“¡æ¯æ¬¡æ¨é€å¾Œï¼Œè‡ªå‹•åŒ–çš„ä¾ç…§æˆ‘å€‘è¨­å®šå¥½çš„è…³æœ¬é€²è¡Œå»ºæ§‹èˆ‡æ¸¬è©¦ï¼Œå¾è€Œæ¸›å°‘é–‹ç™¼ä¸­çš„å°ˆæ¡ˆç™¼ç”ŸéŒ¯èª¤çš„å¯èƒ½æ€§ã€‚&lt;/p>
&lt;p>é€™ç¨®åšæ³•å°±è¢«ç¨±ä½œæŒçºŒæ•´åˆï¼Œå°æ–¼æˆ‘å€‘æäº¤çµ¦å°ˆæ¡ˆçš„æ¯ä¸€å€‹æ›´æ”¹ã€ç”šè‡³æ˜¯é–‹ç™¼åˆ†æ”¯ï¼Œå®ƒéƒ½æ˜¯è‡ªå‹•ä¸”æŒçºŒåœ°å»ºæ§‹å’Œæ¸¬è©¦ï¼Œç¢ºä¿æ–°åŠ å…¥çš„è®Šå‹•ï¼Œç¬¦åˆæˆ‘å€‘åœ¨å°ˆæ¡ˆä¸­æ‰€è¨­è¨ˆçš„æ‰€æœ‰æ¸¬è©¦ã€‚&lt;/p>
&lt;br>
&lt;h3>æŒçºŒéƒ¨ç½² CD&lt;span class="absolute -mt-20" id="æŒçºŒéƒ¨ç½²-cd">&lt;/span>
&lt;a href="#%e6%8c%81%e7%ba%8c%e9%83%a8%e7%bd%b2-cd" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h3>&lt;p>æŒçºŒéƒ¨ç½²ï¼Œè®“æˆ‘å€‘ä¸å¤ªéœ€è¦æ‰‹å‹•çš„å»éƒ¨ç½²å°ˆæ¡ˆæœå‹™ï¼Œè€Œæ˜¯å°‡å…¶è¨­ç½®ç‚ºè‡ªå‹•åŒ–éƒ¨ç½²ï¼Œå®Œå…¨ä¸éœ€è¦æœ‰äººå·¥å»å¹²æ¶‰ï¼Œæ¸›å°‘äº†äººç‚ºçš„éƒ¨ç½²éŒ¯èª¤ã€‚&lt;/p>
&lt;br>
&lt;figure>&lt;img src="https://pin-yi.me/git/gitlab-cicd/cicd.jpg"
alt="GitLab CI/CD (åœ–ç‰‡ä¾†æºï¼šGitLab Agile Planning)" width="800">&lt;figcaption>
&lt;p>GitLab CI/CD (åœ–ç‰‡ä¾†æºï¼š&lt;a href="https://about.gitlab.com/solutions/agile-delivery/" target="_blank" rel="noopener">GitLab Agile Planning&lt;/a>)&lt;/p>
&lt;/figcaption>
&lt;/figure>
&lt;br>
&lt;p>å¤§è‡´äº†è§£æ˜¯å¦‚ä½•é‹ä½œä¹‹å¾Œï¼Œæˆ‘å€‘æ¥è‘—èŠèŠä¸Šé¢æœ‰æåˆ°çš„ &lt;code>è¨­å®šå¥½çš„è…³æœ¬&lt;/code>ï¼š&lt;/p>
&lt;h3>.gitlab-ci.yml&lt;span class="absolute -mt-20" id="gitlab-ciyml">&lt;/span>
&lt;a href="#gitlab-ciyml" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h3>&lt;p>GitLab CI/CD çš„å·¥ä½œåŸç†æ˜¯ï¼Œè¦åœ¨å°ˆæ¡ˆæ ¹ç›®éŒ„æ–°å¢ä¸€å€‹åç‚º &lt;code>.gitlab-ci.yml&lt;/code> çš„æ–‡ä»¶ (è¨˜å¾—æ–‡ä»¶åç¨±é–‹é ­æœ‰ &lt;code>.&lt;/code> ï¼Œæˆ‘ä¸€é–‹å§‹å¿˜è¨˜è¦åŠ ï¼Œæƒ³èªªæ€éº¼éƒ½æ²’æœ‰åæ‡‰ ğŸ˜… )ï¼Œä¹Ÿå°±æ˜¯æˆ‘å€‘ä¸Šé¢èªªçš„ &lt;code>è¨­å®šå¥½çš„è…³æœ¬&lt;/code>ï¼Œå¯ä»¥å…ˆå°‡æ‰€éœ€å»ºæ§‹ã€æ¸¬è©¦å’Œéƒ¨ç½²çš„è…³æœ¬ç·¨å¯«å®Œæˆï¼Œä»¥åŠå®šç¾©å¾ˆå¤šè¦å‰‡ï¼Œä¾‹å¦‚åŸ·è¡Œå‘½ä»¤çš„å…ˆå¾Œé †åºã€éƒ¨ç½²æ‡‰ç”¨ç¨‹å¼çš„ä½ç½®ä»¥åŠæŒ‡å®šæ˜¯å¦è‡ªå‹•é‹è¡Œæˆ–æ˜¯æ‰‹å‹•è§¸ç™¼è…³æœ¬ç­‰ã€‚&lt;/p>
&lt;p>å°‡ &lt;code>.gitlab-ci.yml&lt;/code> æ–‡ä»¶æ”¾å…¥ Repository è£¡ï¼Œå°±æœƒè§¸ç™¼ CIï¼Œè² è²¬ç®¡ç†çš„ GitLab-CI å°±æœƒä¾ç…§ &lt;code>.gitlab-ci.yml&lt;/code> è¨­å®šæª”ä¾†å•Ÿå‹•åç‚º &lt;code>GitLab Runner&lt;/code> çš„å·¥å…·ä¾†é‹è¡Œè…³æœ¬ï¼Œé€™å€‹ &lt;code>GitLab Runner&lt;/code> æˆ‘å€‘æ”¾åˆ°å¾Œé¢ä¾†èªªï¼Œæˆ‘å€‘å…ˆä¾†èªªèªª &lt;code>.gitlab-ci.yml&lt;/code> é€™å€‹è¨­å®šæª”è¦æ€éº¼ç·¨å¯«ï¼Œä»¥åŠç·¨å¯«å¾Œçš„æµç¨‹ã€‚&lt;/p>
&lt;br>
&lt;p>é€™æ˜¯ä¸€å€‹ç¤ºç¯„çš„ &lt;code>.gitlab-ci.yml&lt;/code>ï¼Œé¸è‡ªå„ªè‰¯çš„ &lt;a href="https://docs.gitlab.com/ee/ci/quick_start/" target="_blank" rel="noopener">GitLab&lt;/a> XDï¼Œç‚ºäº†èªªæ˜æœ‰å°ä¿®æ”¹ç¨‹å¼ç¢¼ï¼Œç¨‹å¼ç¢¼ä¹Ÿæœƒæ”¾åœ¨ &lt;a href="https://github.com/880831ian/GitLab-CICD" target="_blank" rel="noopener">GitHub&lt;/a> ä¸Šæ­ï¼š&lt;/p>
&lt;ul>
&lt;li>.gitlab-ci.yml&lt;/li>
&lt;/ul>
&lt;div class="code-block relative mt-6 first:mt-0 group/code">&lt;div>&lt;div class="highlight">&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-yml" data-lang="yml">&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f92672">stages&lt;/span>:
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> - &lt;span style="color:#ae81ff">build&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> - &lt;span style="color:#ae81ff">test&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> - &lt;span style="color:#ae81ff">deploy&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f92672">cache&lt;/span>:
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#f92672">paths&lt;/span>:
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> - &lt;span style="color:#ae81ff">config/&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f92672">build-job&lt;/span>:
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#f92672">stage&lt;/span>: &lt;span style="color:#ae81ff">build&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#f92672">script&lt;/span>:
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> - &lt;span style="color:#ae81ff">echo &amp;#34;Hello, $GITLAB_USER_LOGIN!&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f92672">test-job1&lt;/span>:
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#f92672">stage&lt;/span>: &lt;span style="color:#ae81ff">test&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#f92672">script&lt;/span>:
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> - &lt;span style="color:#ae81ff">echo &amp;#34;This job tests something&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f92672">test-job2&lt;/span>:
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#f92672">stage&lt;/span>: &lt;span style="color:#ae81ff">test&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#f92672">before_script&lt;/span>:
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> - &lt;span style="color:#ae81ff">echo &amp;#34;This job tests something, but takes more time than test-job1.&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#f92672">script&lt;/span>:
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> - &lt;span style="color:#ae81ff">echo &amp;#34;After the echo commands complete, it runs the sleep command for 20 seconds&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> - &lt;span style="color:#ae81ff">echo &amp;#34;which simulates a test that runs 20 seconds longer than test-job1&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> - &lt;span style="color:#ae81ff">sleep 20&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f92672">deploy-prod&lt;/span>:
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#f92672">stage&lt;/span>: &lt;span style="color:#ae81ff">deploy&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#f92672">script&lt;/span>:
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> - &lt;span style="color:#ae81ff">echo &amp;#34;This job deploys something from the $CI_COMMIT_BRANCH branch.&amp;#34;&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/div>&lt;div class="opacity-0 transition group-hover/code:opacity-100 flex gap-1 absolute m-[11px] right-0 top-0">
&lt;button
class="code-copy-btn group/copybtn transition-all active:opacity-50 bg-primary-700/5 border border-black/5 text-gray-600 hover:text-gray-900 rounded-md p-1.5 dark:bg-primary-300/10 dark:border-white/10 dark:text-gray-400 dark:hover:text-gray-50"
title="Copy code"
>
&lt;div class="group-[.copied]/copybtn:hidden copy-icon pointer-events-none h-4 w-4">&lt;/div>
&lt;div class="hidden group-[.copied]/copybtn:block success-icon pointer-events-none h-4 w-4">&lt;/div>
&lt;/button>
&lt;/div>
&lt;/div>
&lt;br>
&lt;p>é‚£æˆ‘ä¾†ç°¡å–®èªªæ˜ä¸€ä¸‹ä¸Šé¢é€™äº›è¨­å®šæª”æ¡ˆçš„åŠŸèƒ½ï¼š&lt;/p>
&lt;ul>
&lt;li>stagesï¼šä»£è¡¨é€™å€‹ CI è¨­å®šæª”æœ‰ä¸‰å€‹ stage è¦è·‘ï¼Œä¸€å€‹æ˜¯ buildã€ä¸€å€‹ testã€ä¸€å€‹ deployï¼Œä»–å€‘çš„é †åºä¹Ÿæ±ºå®š CI é‹ä½œçš„é †åºï¼Œç”± build â†’ test â†’ deployï¼Œå‡å¦‚ test æ²’æœ‰é€šéï¼Œå°±ä¸æœƒåŸ·è¡Œ deployã€‚&lt;/li>
&lt;li>cacheï¼šæˆ‘å€‘åœ¨å¯« CI æ™‚ï¼Œå¸¸å¸¸éœ€è¦è£ packageï¼Œä½†æˆ‘ä¸æƒ³æ¯æ¬¡éƒ½é‡æ–°è·‘ä¸€æ¬¡ï¼Œæ‰€ä»¥å¯ä»¥å¯«ä¸€å€‹ cacheï¼Œä¸è¦è®“ GitLab æ¯æ¬¡éƒ½é‡æ–°æ‹‰æ–°çš„ packageã€‚&lt;/li>
&lt;li>build-jobã€test-job1ã€test-job2ã€deploy-prodï¼šä»£è¡¨æˆ‘æœ‰ 4 å€‹ job è¦åŸ·è¡Œï¼Œæ¯å€‹ job è£¡é¢æœ‰ä¸åŒçš„ä»»å‹™ï¼Œä¹Ÿæ˜¯é¡¯ç¤ºåœ¨ Pipeline çš„åç¨±ã€‚&lt;/li>
&lt;li>stageï¼šä»–ç¾åœ¨è¦åŸ·è¡Œçš„éšæ®µï¼Œå°æ‡‰åˆ° stagesã€‚&lt;/li>
&lt;li>before_scriptï¼šå¯ä»¥æŠŠå®ƒç•¶å…ˆéœ€è¦å…ˆåŸ·è¡Œçš„æŒ‡ä»¤ï¼Œå¾Œé¢æ‰æœƒåŸ·è¡Œä¸»è¦çš„ script æŒ‡ä»¤ã€‚æ‰€ä»¥éœ€è¦å®‰è£çš„å¯ä»¥å…ˆå¯«åœ¨é€™è£¡é¢ã€‚&lt;/li>
&lt;li>scriptï¼šä¸»æŒ‡ä»¤ï¼Œåœ¨å¯¦éš›é‹è¡Œçš„è…³æœ¬ä¸­ï¼Œé€šå¸¸æœƒè¦‹åˆ°å¤šè¡Œçš„æŒ‡ä»¤è¢«ä¾åºåŸ·è¡Œã€‚&lt;/li>
&lt;li>$CI_COMMIT_BRANCï¼šç•¶ç„¶ &lt;code>.gitlab-ci.yml&lt;/code> æª”æ¡ˆä¹Ÿå¯ä»¥å¸¶å…¥åƒæ•¸ï¼Œé€™å€‹éƒ¨åˆ†æˆ‘å€‘ç•™åˆ° &lt;a href="../laravel-gitlab-cicd-heroku/" >éƒ¨ç½² Laravel æ–¼ Heroku æ­é… GitLab CI/CD&lt;/a> æ­é…å¯¦éš›æ“ä½œä¾†èªªæ˜ã€‚&lt;/li>
&lt;/ul>
&lt;br>
&lt;p>ç•¶ç„¶ &lt;code>.gitlab-ci.yml&lt;/code> æœ‰å¾ˆå¤šåŠŸèƒ½ï¼Œä¸Šé¢åªæ˜¯ç°¡å–®èªªæ˜æ¯”è¼ƒå¸¸ç”¨çš„ï¼Œç•¶ä½ ä¸ç¢ºå®šè‡ªå·±å¯«çš„ CI è¨­å®šæª”æœ‰æ²’æœ‰å•é¡Œï¼Œæ²’é—œä¿‚å°±ç›´æ¥æ¨ä¸Šå»ï¼ŒGitLab é‚„æœƒå…ˆæª¢æŸ¥ä¸€ä¸‹è¨­å®šæª”æ˜¯ä¸æ˜¯æ­£ç¢ºï¼š&lt;/p>
&lt;br>
&lt;figure>&lt;img src="https://pin-yi.me/git/gitlab-cicd/error.png"
alt="GitLab CI/CD æª¢æŸ¥æ ¼å¼æœ‰éŒ¯" width="600">&lt;figcaption>
&lt;p>GitLab CI/CD æª¢æŸ¥æ ¼å¼æœ‰éŒ¯&lt;/p>
&lt;/figcaption>
&lt;/figure>
&lt;br>
&lt;p>ç•¶æˆ‘å€‘å°‡ &lt;code>.gitlab-ci.yml&lt;/code> é€£åŒå°ˆæ¡ˆä¸€èµ·æ¨åˆ° GitLab ä¸Šå¾Œï¼Œæˆ‘å€‘å¯ä»¥çœ‹åˆ°å®ƒæœƒé–‹å§‹åŸ·è¡Œæˆ‘å€‘æ‰€å¯«çš„è…³æœ¬ï¼Œæœƒé¡¯ç¤ºæ•´å€‹åŸ·è¡Œéç¨‹ï¼š&lt;/p>
&lt;br>
&lt;figure>&lt;img src="https://pin-yi.me/git/gitlab-cicd/ci.png"
alt="GitLab CI/CD åŸ·è¡Œéç¨‹" width="1000">&lt;figcaption>
&lt;p>GitLab CI/CD åŸ·è¡Œéç¨‹&lt;/p>
&lt;/figcaption>
&lt;/figure>
&lt;br>
&lt;p>æŸ¥çœ‹åŸ·è¡Œçš„ç‹€æ…‹ï¼š&lt;/p>
&lt;br>
&lt;figure>&lt;img src="https://pin-yi.me/git/gitlab-cicd/status.png"
alt="GitLab CI/CD ç‹€æ…‹" width="800">&lt;figcaption>
&lt;p>GitLab CI/CD ç‹€æ…‹&lt;/p>
&lt;/figcaption>
&lt;/figure>
&lt;br>
&lt;p>ä¹Ÿå¯ä»¥åœ¨ GitLab Pipeline çœ‹åˆ°åŸ·è¡Œçš„æµç¨‹ï¼š&lt;/p>
&lt;br>
&lt;figure>&lt;img src="https://pin-yi.me/git/gitlab-cicd/pipeline.png"
alt="GitLab CI/CD Pipeline" width="800">&lt;figcaption>
&lt;p>GitLab CI/CD Pipeline&lt;/p>
&lt;/figcaption>
&lt;/figure>
&lt;br>
&lt;h3>GitLab CI Runner&lt;span class="absolute -mt-20" id="gitlab-ci-runner">&lt;/span>
&lt;a href="#gitlab-ci-runner" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h3>&lt;p>æˆ‘å€‘ä¸Šé¢æœ‰æåˆ°ï¼Œæˆ‘å€‘åœ¨ CI è·‘è…³æœ¬ï¼Œéœ€è¦ä¸€å€‹ Server ä¾†ä»£æ›¿ GitLab ä¾†è®“æˆ‘å€‘åŸ·è¡Œï¼Œé€™å€‹ Server æˆ‘å€‘ç¨±ç‚º Runnerã€‚æˆ‘å€‘ä¾†çœ‹ä¸€ä¸‹æ•´å€‹åŸ·è¡Œçš„åœ–ç‰‡ï¼š&lt;/p>
&lt;br>
&lt;figure>&lt;img src="https://pin-yi.me/git/gitlab-cicd/gitlab-cicd.png"
alt="Gitlab CI/CD å¯¦éš›åŸ·è¡Œæµç¨‹ (åœ–ç‰‡ä¾†æºï¼šGitlab-CI å…¥é–€å¯¦ä½œæ•™å­¸ - å–®å…ƒæ¸¬è©¦ç¯‡)" width="600">&lt;figcaption>
&lt;p>Gitlab CI/CD å¯¦éš›åŸ·è¡Œæµç¨‹ (åœ–ç‰‡ä¾†æºï¼š&lt;a href="https://nick-chen.medium.com/gitlab-ci-%E5%85%A5%E9%96%80%E7%AD%86%E8%A8%98-%E5%96%AE%E5%85%83%E6%B8%AC%E8%A9%A6%E7%AF%87-156455e2ad9f" target="_blank" rel="noopener">Gitlab-CI å…¥é–€å¯¦ä½œæ•™å­¸ - å–®å…ƒæ¸¬è©¦ç¯‡&lt;/a>)&lt;/p>
&lt;/figcaption>
&lt;/figure>
&lt;br>
&lt;p>é‚£é€™å€‹ Runner æœ‰åˆ†æˆå…©ç¨®ï¼š&lt;/p>
&lt;ul>
&lt;li>å…±äº« Runner (Shared Runners)&lt;/li>
&lt;li>è‡ªæ¶ Runner (Specific Runners)&lt;/li>
&lt;/ul>
&lt;br>
&lt;h4>å…±äº« Runner (Shared Runners)&lt;span class="absolute -mt-20" id="å…±äº«-runner-shared-runners">&lt;/span>
&lt;a href="#%e5%85%b1%e4%ba%ab-runner-shared-runners" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h4>&lt;p>å› ç‚ºæœ¬æ–‡ç« ä»¥åŠå¾ŒçºŒ &lt;a href="../laravel-gitlab-cicd-heroku/" >éƒ¨ç½² Laravel æ–¼ Heroku æ­é… GitLab CI/CD&lt;/a> æ–‡ç« æ‰€ä½¿ç”¨çš„å¹³å°æ˜¯ &lt;a href="https://gitlab.com" target="_blank" rel="noopener">gitlab.com&lt;/a>ï¼Œç”±å®˜æ–¹æ‰€æä¾›ï¼Œæ‰€ä»¥æˆ‘å€‘ç›´æ¥ä½¿ç”¨å…±äº« Runnerï¼Œå¯ä»¥åœ¨ repository Settings â†’ CI / CD â†’ Runners ä¸­æ‰¾åˆ°ï¼Œæœ‰ä¸å°‘å®˜æ–¹æä¾›çš„å…±äº« Runner å¯ä»¥ä½¿ç”¨ï¼Œä¹Ÿä¸éœ€è¦åšä»»ä½•è¨­å®šã€‚&lt;/p>
&lt;br>
&lt;figure>&lt;img src="https://pin-yi.me/git/gitlab-cicd/sharedrunners.png"
alt="GitLab CI/CD å…±äº« Runner" width="800">&lt;figcaption>
&lt;p>GitLab CI/CD å…±äº« Runner&lt;/p>
&lt;/figcaption>
&lt;/figure>
&lt;br>
&lt;p>ä½†ä¹Ÿæœ‰å¹¾å€‹ç¼ºé»ï¼š&lt;/p>
&lt;ul>
&lt;li>å› ç‚ºæ˜¯å…±äº«ï¼Œæ‰€ä»¥ Server è³‡æºä¹Ÿæœƒå…±äº«ï¼Œç†è«–ä¸Šå¤šäººä½¿ç”¨çš„é€Ÿåº¦é‚„æ˜¯æœƒæ¯”è¼ƒæ…¢ã€‚&lt;/li>
&lt;li>ä»¥åŠå¦‚æœæ˜¯é–‹æºå°ˆæ¡ˆï¼Œæ˜¯å®Œå…¨å…è²»ã€‚ä½†å¦‚æœæ˜¯ç§äººå°ˆæ¡ˆï¼Œä¸€å€‹æœˆæœ‰ 400 åˆ†é˜çš„ CI åŸ·è¡Œæ™‚é–“é™åˆ¶ã€‚&lt;/li>
&lt;/ul>
&lt;br>
&lt;h4>è‡ªæ¶ Runner (Specific Runners)&lt;span class="absolute -mt-20" id="è‡ªæ¶-runner-specific-runners">&lt;/span>
&lt;a href="#%e8%87%aa%e6%9e%b6-runner-specific-runners" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h4>&lt;br>
&lt;figure>&lt;img src="https://pin-yi.me/git/gitlab-cicd/gitlab-runner.jpg"
alt="GitLab CI/CD è‡ªæ¶ Runner (åœ–ç‰‡ä¾†æºï¼šBest Practice for DevOps on GitLab and GCP : GitLab Runner ç°¡ä»‹èˆ‡å®‰è£ - Day 7)" width="600">&lt;figcaption>
&lt;p>GitLab CI/CD è‡ªæ¶ Runner (åœ–ç‰‡ä¾†æºï¼š&lt;a href="https://ithelp.ithome.com.tw/articles/10214266" target="_blank" rel="noopener">Best Practice for DevOps on GitLab and GCP : GitLab Runner ç°¡ä»‹èˆ‡å®‰è£ - Day 7&lt;/a>)&lt;/p>
&lt;/figcaption>
&lt;/figure>
&lt;br>
&lt;p>GitLab Server å’Œ GitLab Runner æ˜¯ GitLab CI/CD ä¸­ä¸å¯æˆ–ç¼ºçš„å…©è€…ï¼Œä½†å¦‚æœåƒå…¬å¸æ˜¯è‡ªæ¶ GitLabï¼Œé¦–å…ˆè¦å…ˆæ‰¾ä¸€å°é›»è…¦æˆ–æ˜¯ Server åšç‚º Runnerï¼Œé‚£æˆ‘å€‘é€™é‚Šä»¥ Docker ä½œç¤ºç¯„ã€‚&lt;/p>
&lt;p>GitLab Runner çš„å»ºè­°å»ºç½®æ­¥é©Ÿå¦‚ä¸‹ï¼š&lt;/p>
&lt;ol>
&lt;li>æº–å‚™/å®‰è£ä¸€å€‹ GitLab Server (é€™é‚Šæˆ‘å€‘ç›´æ¥ä½¿ç”¨ &lt;a href="https://gitlab.com" target="_blank" rel="noopener">gitlab.com&lt;/a>)&lt;/li>
&lt;li>å®‰è£ä¸€å€‹èˆ‡ GitLab Server å°æ‡‰ç‰ˆæœ¬çš„ GitLab Runner&lt;/li>
&lt;li>åœ¨å®‰è£ GitLab Runner çš„è¨­å‚™ä¸Šè¨­å®š &lt;a href="https://docs.gitlab.com/runner/executors/" target="_blank" rel="noopener">Executor&lt;/a>&lt;/li>
&lt;/ol>
&lt;br>
&lt;p>ä»€éº¼æ˜¯ Executor ?&lt;/p>
&lt;p>å¦‚æœæŠŠ GitLab Runner ç•¶æˆä¸€å€‹å·¥å» ä¾†çœ‹ï¼Œé‚£ Executor å°±æ˜¯å·¥å» å…§ä¸€å€‹åˆä¸€å€‹çš„ç”¢ç·šï¼ŒåŒä¸€å€‹å·¥å» å…§å¯ä»¥æ“æœ‰ä¸åŒç¨®é¡çš„ç”¢ç·šï¼ŒRunner èˆ‡ Executor ä¹‹é–“çš„é—œä¿‚å°±æ˜¯å¦‚æ­¤ï¼Œé€™äº›ç”¢ç·šæœƒæ ¹æ“šå°ˆæ¡ˆä¸­ &lt;code>.gitlab-ci.yml&lt;/code> çš„å…§å®¹ï¼Œæ±ºå®šç”¢ç·šä»¥åŠå¦‚ä½•ç”¢å‡ºé–‹ç™¼è€…æœŸæœ›çš„ç”¢å“ã€‚&lt;/p>
&lt;p>å¦å¤– Executor çš„ç¨®é¡éå¸¸å¤šï¼Œå¯ä»¥çœ‹ä¸‹æ–¹é€™äº›åœ–ç‰‡ï¼Œå› ç‚ºæˆ‘å€‘æœ€å¸¸ä½¿ç”¨çš„å°±æ˜¯ Dockerï¼Œæ‰€ä»¥æˆ‘å€‘ç­‰ç­‰çš„ç¯„ä¾‹ï¼Œä¹Ÿæ˜¯å»ºç½®åœ¨ Docker ä¹‹ä¸Šï¼&lt;/p>
&lt;br>
&lt;figure>&lt;img src="https://pin-yi.me/git/gitlab-cicd/executor.png"
alt="GitLab Runner Executors" width="700">&lt;figcaption>
&lt;p>GitLab Runner Executors&lt;/p>
&lt;/figcaption>
&lt;/figure>
&lt;br>
&lt;p>é‚£æˆ‘å€‘å°±é–‹å§‹ä¾†å¯¦ä½œæˆ‘å€‘çš„ GitLab Runner å§ï¼š&lt;/p>
&lt;ol>
&lt;li>é¦–å…ˆï¼Œæˆ‘å€‘å›å»å‰›å‰›åœ¨ repository Settings â†’ CI / CD â†’ Runners å·¦å´çš„ Specific runners&lt;/li>
&lt;/ol>
&lt;br>
&lt;figure>&lt;img src="https://pin-yi.me/git/gitlab-cicd/specificrunners.png"
alt="GitLab Runner Executors" width="700">&lt;figcaption>
&lt;p>GitLab Runner Executors&lt;/p>
&lt;/figcaption>
&lt;/figure>
&lt;p>å¯ä»¥çœ‹åˆ°ä¸€å€‹è¨»å†Šçš„ URL ä»¥åŠ Tokenï¼Œé€™å€‹æˆ‘å€‘åœ¨è¨­å®š Executor æœƒä½¿ç”¨åˆ°ï¼&lt;/p>
&lt;br>
&lt;ol start="2">
&lt;li>æ¥ä¸‹ä¾†é–‹å§‹å®‰è£ GitLab Runnerï¼Œæˆ‘å€‘ä½¿ç”¨ Dockerï¼Œä»¥ä¸‹æ˜¯ Docker åŸ·è¡Œçš„æŒ‡ä»¤ï¼šæœ¬æ­¤ä½¿ç”¨ &lt;a href="https://hub.docker.com/layers/gitlab-runner/gitlab/gitlab-runner/alpine-v15.0.0/images/sha256-f44b39d92aa31186b4d6b986d1c3ffbf8ef4228c2e070410a7a417fb0aa159ce?context=explore" target="_blank" rel="noopener">gitlab-runner&lt;/a> ç‰ˆæœ¬æ˜¯ alpine-v15.0.0&lt;/li>
&lt;/ol>
&lt;div class="code-block relative mt-6 first:mt-0 group/code">&lt;div>&lt;div class="highlight">&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-sh" data-lang="sh">&lt;span style="display:flex;">&lt;span>docker run -d --name gitlab-runner --restart always &lt;span style="color:#ae81ff">\
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#ae81ff">&lt;/span>-v ~/Shared/gitlab-runner/config:/etc/gitlab-runner &lt;span style="color:#ae81ff">\
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#ae81ff">&lt;/span>-v /var/run/docker.sock:/var/run/docker.sock &lt;span style="color:#ae81ff">\
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#ae81ff">&lt;/span>gitlab/gitlab-runner:alpine-v15.0.0&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/div>&lt;div class="opacity-0 transition group-hover/code:opacity-100 flex gap-1 absolute m-[11px] right-0 top-0">
&lt;button
class="code-copy-btn group/copybtn transition-all active:opacity-50 bg-primary-700/5 border border-black/5 text-gray-600 hover:text-gray-900 rounded-md p-1.5 dark:bg-primary-300/10 dark:border-white/10 dark:text-gray-400 dark:hover:text-gray-50"
title="Copy code"
>
&lt;div class="group-[.copied]/copybtn:hidden copy-icon pointer-events-none h-4 w-4">&lt;/div>
&lt;div class="hidden group-[.copied]/copybtn:block success-icon pointer-events-none h-4 w-4">&lt;/div>
&lt;/button>
&lt;/div>
&lt;/div>
&lt;br>
&lt;ol start="3">
&lt;li>æ¥è‘—é€²å…¥å®¹å™¨è£¡é¢ï¼Œä½¿ç”¨ &lt;code>docker exec -it gitlab-runner gitlab-runner register&lt;/code> ä¾†è¨»å†Šï¼Œå¯ä»¥åƒè€ƒä¸‹æ–¹åœ–ç‰‡ï¼Œè¼¸å…¥ URL ä»¥åŠ è‡ªå·±çš„ Tokenï¼š&lt;/li>
&lt;/ol>
&lt;figure>&lt;img src="https://pin-yi.me/git/gitlab-cicd/register_executor.png"
alt="GitLab Runner è¨»å†Š Executors" width="1000">&lt;figcaption>
&lt;p>GitLab Runner è¨»å†Š Executors&lt;/p>
&lt;/figcaption>
&lt;/figure>
&lt;br>
&lt;ol start="4">
&lt;li>å¯ä»¥å›åˆ° gitlab.com æŸ¥çœ‹ Specific runners ä¸‹æ–¹æ˜¯å¦å¤šäº†æˆ‘å€‘å‰›å‰›æ‰€è¨»å†Šçš„ GitLab-Runner&lt;/li>
&lt;/ol>
&lt;figure>&lt;img src="https://pin-yi.me/git/gitlab-cicd/available_runners.png"
alt="GitLab Available specific runners" width="700">&lt;figcaption>
&lt;p>GitLab Available specific runners&lt;/p>
&lt;/figcaption>
&lt;/figure>
&lt;br>
&lt;h3>GitLab CD&lt;span class="absolute -mt-20" id="gitlab-cd">&lt;/span>
&lt;a href="#gitlab-cd" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h3>&lt;p>GitLab CD å…¶å¯¦å°±æ˜¯åœ¨ &lt;code>.gitlab-ci.yml&lt;/code> å¾Œé¢åŠ ä¸Šæˆ‘å€‘è¦éƒ¨ç½²çš„è¨­å®šï¼Œé€é CI æ•´åˆå®Œï¼Œæˆ‘å€‘å¯ä»¥è¨­å®šä»–è¦éƒ¨ç½²åˆ°å“ªä¸€å°æ©Ÿå™¨æˆ–æ˜¯è¨­å‚™ä¸Šé€™éƒ¨åˆ†å°±æ”¾åˆ°ä¸‹ä¸€ç¯‡æ–‡ç« ç›´æ¥ç”¨å¯¦ä½œä¾†å‘Šè¨´å¤§å®¶è¦æ€éº¼ä½¿ç”¨å§ï¼ï¼Œè«‹å¤§å®¶æ¥çºŒçœ‹ä¸‹ä¸€ç¯‡ &lt;a href="../laravel-gitlab-cicd-heroku/" >éƒ¨ç½² Laravel æ–¼ Heroku æ­é… GitLab CI/CD&lt;/a> ï¼Œä¸€èµ·å­¸ç¿’å§ GoGo !&lt;/p>
&lt;br>
&lt;h2>åƒè€ƒè³‡æ–™&lt;span class="absolute -mt-20" id="åƒè€ƒè³‡æ–™">&lt;/span>
&lt;a href="#%e5%8f%83%e8%80%83%e8%b3%87%e6%96%99" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h2>&lt;p>Get started with GitLab CI/CDï¼š&lt;a href="https://docs.gitlab.com/ee/ci/quick_start/" target="_blank" rel="noopener">https://docs.gitlab.com/ee/ci/quick_start/&lt;/a>&lt;/p>
&lt;p>Best Practice for DevOps on GitLab and GCP : GitLab CI/CD - Day 6ï¼š&lt;a href="https://ithelp.ithome.com.tw/articles/10214114" target="_blank" rel="noopener">https://ithelp.ithome.com.tw/articles/10214114&lt;/a>&lt;/p>
&lt;p>Gitlab-CI å…¥é–€å¯¦ä½œæ•™å­¸ - å–®å…ƒæ¸¬è©¦ç¯‡ï¼š&lt;a href="https://nick-chen.medium.com/gitlab-ci-%E5%85%A5%E9%96%80%E7%AD%86%E8%A8%98-%E5%96%AE%E5%85%83%E6%B8%AC%E8%A9%A6%E7%AF%87-156455e2ad9f" target="_blank" rel="noopener">https://nick-chen.medium.com/gitlab-ci-%E5%85%A5%E9%96%80%E7%AD%86%E8%A8%98-%E5%96%AE%E5%85%83%E6%B8%AC%E8%A9%A6%E7%AF%87-156455e2ad9f&lt;/a>&lt;/p>
&lt;p>å¦‚ä½•ä½¿ç”¨ GitLab CIï¼š&lt;a href="https://medium.com/@mvpdw06/%E5%A6%82%E4%BD%95%E4%BD%BF%E7%94%A8-gitlab-ci-ebf0b68ce24b" target="_blank" rel="noopener">https://medium.com/@mvpdw06/%E5%A6%82%E4%BD%95%E4%BD%BF%E7%94%A8-gitlab-ci-ebf0b68ce24b&lt;/a>&lt;/p></description></item></channel></rss>